
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>PayU Türkiye</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
    <link href="images/favicon.ico" rel="icon" type="image/ico" />
  </head>

  <body class="index" data-languages="[&quot;php&quot;,&quot;python&quot;,&quot;javascript&quot;,&quot;csharp&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="php">PHP</a>
              <a href="#" data-language-name="python">Python 3</a>
              <a href="#" data-language-name="javascript">Node JS</a>
              <a href="#" data-language-name="csharp">C Sharp</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Ara">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#baslamadan-once" class="toc-h1 toc-link" data-title="Başlamadan Önce">Başlamadan Önce</a>
          </li>
          <li>
            <a href="#alu-v3-api-entegrasyonu" class="toc-h1 toc-link" data-title="ALU v3(API) Entegrasyonu">ALU v3(API) Entegrasyonu</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#istek-parametreleri" class="toc-h2 toc-link" data-title="ALU v3(API) Entegrasyonu">İstek Parametreleri</a>
                  </li>
                  <li>
                    <a href="#islem-parametereleri" class="toc-h2 toc-link" data-title="ALU v3(API) Entegrasyonu">İşlem Parametereleri</a>
                  </li>
                  <li>
                    <a href="#urun-parametereleri" class="toc-h2 toc-link" data-title="ALU v3(API) Entegrasyonu">Ürün Parametereleri</a>
                  </li>
                  <li>
                    <a href="#kart-bilgileri" class="toc-h2 toc-link" data-title="ALU v3(API) Entegrasyonu">Kart Bilgileri</a>
                  </li>
                  <li>
                    <a href="#fatura-parametereleri" class="toc-h2 toc-link" data-title="ALU v3(API) Entegrasyonu">Fatura Parametereleri</a>
                  </li>
                  <li>
                    <a href="#teslimat-parametereleri" class="toc-h2 toc-link" data-title="ALU v3(API) Entegrasyonu">Teslimat Parametereleri</a>
                  </li>
                  <li>
                    <a href="#fraud-icin-ekstra-parametreler" class="toc-h2 toc-link" data-title="ALU v3(API) Entegrasyonu">Fraud için Ekstra Parametreler</a>
                  </li>
                  <li>
                    <a href="#yanit-parametreleri" class="toc-h2 toc-link" data-title="ALU v3(API) Entegrasyonu">Yanıt Parametreleri</a>
                  </li>
                  <li>
                    <a href="#hash-hesaplama" class="toc-h2 toc-link" data-title="ALU v3(API) Entegrasyonu">Hash Hesaplama</a>
                  </li>
                  <li>
                    <a href="#3d-entegrasyonu" class="toc-h2 toc-link" data-title="ALU v3(API) Entegrasyonu">3D Entegrasyonu</a>
                  </li>
                  <li>
                    <a href="#api-ile-bkm-express-entegrasyonu" class="toc-h2 toc-link" data-title="ALU v3(API) Entegrasyonu">API ile BKM Express Entegrasyonu</a>
                  </li>
                  <li>
                    <a href="#api-ile-compay-entegrasyonu" class="toc-h2 toc-link" data-title="ALU v3(API) Entegrasyonu">API ile Compay Entegrasyonu</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#lu-ortak-odeme-sayfasi-entegrasyonu" class="toc-h1 toc-link" data-title="LU(Ortak Ödeme Sayfası) Entegrasyonu">LU(Ortak Ödeme Sayfası) Entegrasyonu</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#istek-parametreleri-2" class="toc-h2 toc-link" data-title="LU(Ortak Ödeme Sayfası) Entegrasyonu">İstek Parametreleri</a>
                  </li>
                  <li>
                    <a href="#urun-parametreleri" class="toc-h2 toc-link" data-title="LU(Ortak Ödeme Sayfası) Entegrasyonu">Ürün Parametreleri</a>
                  </li>
                  <li>
                    <a href="#fatura-parametreleri" class="toc-h2 toc-link" data-title="LU(Ortak Ödeme Sayfası) Entegrasyonu">Fatura Parametreleri</a>
                  </li>
                  <li>
                    <a href="#fatura-parametreleri-2" class="toc-h2 toc-link" data-title="LU(Ortak Ödeme Sayfası) Entegrasyonu">Fatura Parametreleri</a>
                  </li>
                  <li>
                    <a href="#teslimat-parametreleri" class="toc-h2 toc-link" data-title="LU(Ortak Ödeme Sayfası) Entegrasyonu">Teslimat Parametreleri</a>
                  </li>
                  <li>
                    <a href="#hash-hesaplama-2" class="toc-h2 toc-link" data-title="LU(Ortak Ödeme Sayfası) Entegrasyonu">Hash Hesaplama</a>
                  </li>
                  <li>
                    <a href="#odeme-sonrasi-geri-donus" class="toc-h2 toc-link" data-title="LU(Ortak Ödeme Sayfası) Entegrasyonu">Ödeme Sonrası Geri Dönüş</a>
                  </li>
<<<<<<< HEAD
                  <li>
                    <a href="#ctrl-degiskeninin-hesaplamasi" class="toc-h2 toc-link" data-title="LU(Ortak Ödeme Sayfası) Entegrasyonu">CTRL Değişkeninin Hesaplaması</a>
                  </li>
=======
>>>>>>> 3ed3dff92d6b76228aaccf3922e0c87dca9c7fe9
              </ul>
          </li>
          <li>
            <a href="#payu-checkout-entegrasyonu" class="toc-h1 toc-link" data-title="PayU Checkout Entegrasyonu">PayU Checkout Entegrasyonu</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#payu-checkout-frontend-entegrasyonu" class="toc-h2 toc-link" data-title="PayU Checkout Entegrasyonu">PayU Checkout Frontend Entegrasyonu</a>
                  </li>
                  <li>
<<<<<<< HEAD
                    <a href="#parametreler" class="toc-h2 toc-link" data-title="PayU Checkout Entegrasyonu">Parametreler</a>
                  </li>
                  <li>
=======
>>>>>>> 3ed3dff92d6b76228aaccf3922e0c87dca9c7fe9
                    <a href="#payu-checkout-backend-entegrasyonu" class="toc-h2 toc-link" data-title="PayU Checkout Entegrasyonu">PayU Checkout Backend Entegrasyonu</a>
                  </li>
                  <li>
                    <a href="#javascript-hata-mesajlari" class="toc-h2 toc-link" data-title="PayU Checkout Entegrasyonu">Javascript Hata Mesajları</a>
                  </li>
                  <li>
                    <a href="#browser-uyumlulugu" class="toc-h2 toc-link" data-title="PayU Checkout Entegrasyonu">Browser Uyumluluğu</a>
                  </li>
                  <li>
                    <a href="#payu-checkout-onemli-bilgiler" class="toc-h2 toc-link" data-title="PayU Checkout Entegrasyonu">PayU Checkout Önemli Bilgiler</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#kart-saklama" class="toc-h1 toc-link" data-title="Kart Saklama">Kart Saklama</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#islem-sirasinda-kart-saklama-token-olusturma" class="toc-h2 toc-link" data-title="Kart Saklama">İşlem Sırasında Kart Saklama(Token Oluşturma)</a>
                  </li>
                  <li>
                    <a href="#payu-referans-numarasi-ile-kart-saklama" class="toc-h2 toc-link" data-title="Kart Saklama">PayU Referans Numarası ile Kart Saklama</a>
<<<<<<< HEAD
                  </li>
                  <li>
                    <a href="#istek-parametreleri-3" class="toc-h2 toc-link" data-title="Kart Saklama">İstek Parametreleri</a>
                  </li>
                  <li>
                    <a href="#yanit-parametreleri-2" class="toc-h2 toc-link" data-title="Kart Saklama">Yanıt Parametreleri</a>
                  </li>
                  <li>
                    <a href="#saklanmis-kart-ile-odeme-alma-token-ile-odeme-alma" class="toc-h2 toc-link" data-title="Kart Saklama">Saklanmış Kart ile Ödeme Alma(Token ile Ödeme Alma)</a>
                  </li>
                  <li>
                    <a href="#token-bilgisi-alma" class="toc-h2 toc-link" data-title="Kart Saklama">Token Bilgisi Alma</a>
                  </li>
                  <li>
                    <a href="#istek-parametreleri-4" class="toc-h2 toc-link" data-title="Kart Saklama">İstek Parametreleri</a>
                  </li>
                  <li>
                    <a href="#yanit-parametreleri-3" class="toc-h2 toc-link" data-title="Kart Saklama">Yanıt Parametreleri</a>
                  </li>
                  <li>
                    <a href="#iptal-edilmis-tokenlarda-donen-ek-parametreler" class="toc-h2 toc-link" data-title="Kart Saklama">İptal edilmiş tokenlarda dönen ek parametreler</a>
                  </li>
                  <li>
                    <a href="#token-islem-gecmisi" class="toc-h2 toc-link" data-title="Kart Saklama">Token İşlem Geçmişi</a>
                  </li>
                  <li>
                    <a href="#istek-parametreleri-5" class="toc-h2 toc-link" data-title="Kart Saklama">İstek Parametreleri</a>
                  </li>
                  <li>
                    <a href="#yanit-parametreleri-4" class="toc-h2 toc-link" data-title="Kart Saklama">Yanıt Parametreleri</a>
                  </li>
                  <li>
                    <a href="#token-iptali" class="toc-h2 toc-link" data-title="Kart Saklama">Token İptali</a>
                  </li>
                  <li>
                    <a href="#istek-parametreleri-6" class="toc-h2 toc-link" data-title="Kart Saklama">İstek Parametreleri</a>
                  </li>
                  <li>
                    <a href="#yanit-parametreleri-5" class="toc-h2 toc-link" data-title="Kart Saklama">Yanıt Parametreleri</a>
=======
                  </li>
                  <li>
                    <a href="#saklanmis-kart-ile-odeme-alma-token-ile-odeme-alma" class="toc-h2 toc-link" data-title="Kart Saklama">Saklanmış Kart ile Ödeme Alma(Token ile Ödeme Alma)</a>
                  </li>
                  <li>
                    <a href="#token-bilgisi-alma" class="toc-h2 toc-link" data-title="Kart Saklama">Token Bilgisi Alma</a>
                  </li>
                  <li>
                    <a href="#token-islem-gecmisi" class="toc-h2 toc-link" data-title="Kart Saklama">Token İşlem Geçmişi</a>
                  </li>
                  <li>
                    <a href="#token-iptali" class="toc-h2 toc-link" data-title="Kart Saklama">Token İptali</a>
>>>>>>> 3ed3dff92d6b76228aaccf3922e0c87dca9c7fe9
                  </li>
              </ul>
          </li>
          <li>
            <a href="#ipn-servisi-asenkron-bildirim-servisi" class="toc-h1 toc-link" data-title="IPN Servisi(Asenkron Bildirim Servisi)">IPN Servisi(Asenkron Bildirim Servisi)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#ipn-hash-hesaplama" class="toc-h2 toc-link" data-title="IPN Servisi(Asenkron Bildirim Servisi)">IPN Hash Hesaplama</a>
                  </li>
                  <li>
                    <a href="#bildirime-yanit-verme" class="toc-h2 toc-link" data-title="IPN Servisi(Asenkron Bildirim Servisi)">Bildirime Yanıt Verme</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#ios-servisi-islem-sorgu-servisi" class="toc-h1 toc-link" data-title="IOS Servisi(İşlem Sorgu Servisi)">IOS Servisi(İşlem Sorgu Servisi)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#ios-sorgusu-istek-parametreleri" class="toc-h2 toc-link" data-title="IOS Servisi(İşlem Sorgu Servisi)">IOS Sorgusu İstek Parametreleri</a>
                  </li>
                  <li>
                    <a href="#ios-sorgusu-yanit-parametreleri" class="toc-h2 toc-link" data-title="IOS Servisi(İşlem Sorgu Servisi)">IOS Sorgusu Yanıt Parametreleri</a>
                  </li>
                  <li>
                    <a href="#sorgu-sonuc-mesajlari" class="toc-h2 toc-link" data-title="IOS Servisi(İşlem Sorgu Servisi)">Sorgu Sonuç Mesajları</a>
                  </li>
                  <li>
                    <a href="#islem-sorgu-servisi-hash-hesaplama" class="toc-h2 toc-link" data-title="IOS Servisi(İşlem Sorgu Servisi)">İşlem Sorgu Servisi Hash Hesaplama</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#irn-servisi-iptal-iade-servisi" class="toc-h1 toc-link" data-title="IRN Servisi(İptal/İade Servisi)">IRN Servisi(İptal/İade Servisi)</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#iptal-iade-servisi-istek-parametreleri" class="toc-h2 toc-link" data-title="IRN Servisi(İptal/İade Servisi)">İptal/İade Servisi İstek Parametreleri</a>
                  </li>
                  <li>
                    <a href="#iptal-iade-servisi-yanit-parametreleri" class="toc-h2 toc-link" data-title="IRN Servisi(İptal/İade Servisi)">İptal/İade Servisi Yanıt Parametreleri</a>
                  </li>
                  <li>
                    <a href="#iptal-iade-servisi-hash-hesaplama" class="toc-h2 toc-link" data-title="IRN Servisi(İptal/İade Servisi)">İptal/İade Servisi Hash Hesaplama</a>
                  </li>
                  <li>
                    <a href="#iptal-iade-servisi-sonuc-mesajlari" class="toc-h2 toc-link" data-title="IRN Servisi(İptal/İade Servisi)">İptal/İade Servisi Sonuç Mesajları</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#bin-servisi" class="toc-h1 toc-link" data-title="BIN Servisi">BIN Servisi</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#bin-servisi-v1" class="toc-h2 toc-link" data-title="BIN Servisi">BIN Servisi v1</a>
                  </li>
                  <li>
                    <a href="#bin-servisi-v2-bin-ve-puan-sorgusu" class="toc-h2 toc-link" data-title="BIN Servisi">BIN Servisi v2(BIN ve Puan Sorgusu)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#puan-sorgu-servisi-ve-puan-kullanimi" class="toc-h1 toc-link" data-title="Puan Sorgu Servisi ve Puan Kullanımı">Puan Sorgu Servisi ve Puan Kullanımı</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#puan-sorgusu" class="toc-h2 toc-link" data-title="Puan Sorgu Servisi ve Puan Kullanımı">Puan Sorgusu</a>
                  </li>
                  <li>
                    <a href="#kart-bilgileri-ile-sorgulama" class="toc-h2 toc-link" data-title="Puan Sorgu Servisi ve Puan Kullanımı">Kart Bilgileri ile Sorgulama</a>
                  </li>
                  <li>
                    <a href="#saklanmis-kart-token-ile-sorgulama" class="toc-h2 toc-link" data-title="Puan Sorgu Servisi ve Puan Kullanımı">Saklanmış Kart (Token) ile Sorgulama</a>
                  </li>
                  <li>
                    <a href="#puan-sorgusu-hash-hesaplama" class="toc-h2 toc-link" data-title="Puan Sorgu Servisi ve Puan Kullanımı">Puan Sorgusu Hash Hesaplama</a>
                  </li>
                  <li>
                    <a href="#puan-kullanim-sorgusu-yaniti" class="toc-h2 toc-link" data-title="Puan Sorgu Servisi ve Puan Kullanımı">Puan Kullanım Sorgusu Yanıtı</a>
                  </li>
                  <li>
                    <a href="#puan-kullanimi" class="toc-h2 toc-link" data-title="Puan Sorgu Servisi ve Puan Kullanımı">Puan Kullanımı</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#idn-servisi-konfirmasyon-servisi" class="toc-h1 toc-link" data-title="IDN Servisi(Konfirmasyon Servisi)">IDN Servisi(Konfirmasyon Servisi)</a>
              <ul class="toc-list-h2">
                  <li>
<<<<<<< HEAD
                    <a href="#istek-parametreleri-9" class="toc-h2 toc-link" data-title="IDN Servisi(Konfirmasyon Servisi)">İstek Parametreleri</a>
                  </li>
                  <li>
                    <a href="#yanit-parametreleri-8" class="toc-h2 toc-link" data-title="IDN Servisi(Konfirmasyon Servisi)">Yanıt Parametreleri</a>
=======
                    <a href="#istek-parametreleri-5" class="toc-h2 toc-link" data-title="IDN Servisi(Konfirmasyon Servisi)">İstek Parametreleri</a>
                  </li>
                  <li>
                    <a href="#yanit-parametreleri-4" class="toc-h2 toc-link" data-title="IDN Servisi(Konfirmasyon Servisi)">Yanıt Parametreleri</a>
>>>>>>> 3ed3dff92d6b76228aaccf3922e0c87dca9c7fe9
                  </li>
                  <li>
                    <a href="#konfirmasyon-servisi-hash-hesaplama" class="toc-h2 toc-link" data-title="IDN Servisi(Konfirmasyon Servisi)">Konfirmasyon Servisi Hash Hesaplama</a>
                  </li>
                  <li>
                    <a href="#yanit-mesajlari" class="toc-h2 toc-link" data-title="IDN Servisi(Konfirmasyon Servisi)">Yanıt Mesajları</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rapor-servisi" class="toc-h1 toc-link" data-title="Rapor Servisi">Rapor Servisi</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#siparis-raporu-olusturma" class="toc-h2 toc-link" data-title="Rapor Servisi">Sipariş Raporu Oluşturma</a>
                  </li>
                  <li>
                    <a href="#urun-raporu-olusturma" class="toc-h2 toc-link" data-title="Rapor Servisi">Ürün Raporu Oluşturma</a>
                  </li>
                  <li>
                    <a href="#rapor-servisi-hash-hesaplama" class="toc-h2 toc-link" data-title="Rapor Servisi">Rapor Servisi Hash Hesaplama</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#test-bilgileri" class="toc-h1 toc-link" data-title="Test Bilgileri">Test Bilgileri</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#uye-isyeri-kontrol-paneli-giris-bilgileri" class="toc-h2 toc-link" data-title="Test Bilgileri">Üye İşyeri Kontrol Paneli Giriş Bilgileri</a>
                  </li>
                  <li>
                    <a href="#api-kullanici-bilgileri" class="toc-h2 toc-link" data-title="Test Bilgileri">API Kullanıcı Bilgileri</a>
                  </li>
                  <li>
                    <a href="#test-kartlari" class="toc-h2 toc-link" data-title="Test Bilgileri">Test Kartları</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#islem-mesajlari" class="toc-h1 toc-link" data-title="İşlem Mesajları">İşlem Mesajları</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#md-status-kodlari-ve-aciklamalari" class="toc-h2 toc-link" data-title="İşlem Mesajları">MD Status Kodları ve Açıklamaları</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a>Teknik Destek:</a></li>
            <li><a>Telefon:0212 900 37 11</a></li>
            <li><a>Mail:help@payu.com.tr</a></li>
<<<<<<< HEAD
            <li><a>Doküman:v2.2</a></li>
=======
            <li><a>Doküman:v2.1</a></li>
>>>>>>> 3ed3dff92d6b76228aaccf3922e0c87dca9c7fe9
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='baslamadan-once'>Başlamadan Önce</h1>
<aside class="notice">
    Bu dokümanda tüm servislerimizin entegrasyon yapıları tarif edilmektedir. Entegrasyona başlamadan önce aşağıdaki konuları göz önünde bulundurmanız gerekmektedir.
</aside>

<ol>
<li>Entegrasyonunu yaptığınız ödeme yöntemleri (BKM, UPT, COMPAY, WIRE vb.), bazı iş modelleri (TEK TIKLA ÖDEME, PAZARYERİ vb.), döviz tipleri, opsiyonel 3D özelliği gibi işyerine özel durumlar için PayU tarafından hesabınıza tanımlamalar yapılması gerekmektedir. Bu tanımlar ile ilgili satış temsilcinizle ya da help@payu.com.tr adresimizden bizimle iletişime geçebilirsiniz.</li>
<li>Üye İşyeri Kontrol Paneli’ne giriş için https://secure.payu.com.tr/cpanel/ linkini takip edebilirsiniz.</li>
<li>Test ortam bilgileri ve test kartları, entegrasyon dokümanının son bölümünde yer almaktadır.</li>
<li>Çalışma şeklinin 3D olmaması durumunda da bazı işlemler (ör: debit kartlar, 3D zorunlu ülkelerin kartları vb.) 3D’ye yönlendirileceğinden 3D entegrasyonunun da dokümanda tarif edildiği şekilde yapılması gerekmektedir.</li>
<li>API entegrasyonunda hata bilgisi konsolide şekilde dönebildiği gibi, PayU tarafından aktifleştirilmesi durumunda banka cevabı doğrudan PROCRETURNCODE ve ERRORMESSAGE içerisinde belirtilmektedir.</li>
<li>ORDER_DATE parametresi ile İşlem / sipariş saati UTC/GMT formatında gönderilmelidir. Sipariş saati (ORDER_DATE) kaynaklı saat (REQUEST_EXPIRED) hatasının önüne geçebilmek için; saat fonksiyonu UTC/GMT formatı ile ayarlanmalı ve Türkiye saatine göre 3 saat geri olacak şekilde gönderilmelidir.</li>
<li>Türk lirasını koruma kanunu gereği, Türk bankalarına ait kartlar ile Türk bankalarının sanal poslarında dövizli işlem yapılamamaktadır. Türk bankalarının sanal posları üzerinden sadece yabancı kartlar dövizli işlem yapabilmektedir.</li>
</ol>
<h1 id='alu-v3-api-entegrasyonu'>ALU v3(API) Entegrasyonu</h1><h3 id='istek-parametreleri'>İstek Parametreleri</h3>
<blockquote>
<p>İşlem İsteği Göndermek için:</p>

<p><a href="https://github.com/PayUTurkiye/PayUTR_CSharp/raw/master/PayU_TR_CSharp.zip"> C Sharp Örnek Proje ve Kodları buradan indirebilirsiniz. </a></p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code>
<<<<<<< HEAD
<span class="n">ApiPaymentRequest</span> <span class="n">apiPaymentRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApiPaymentRequest</span><span class="p">();</span>

<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUConfig</span><span class="p">();</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">MERCHANT</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">LANGUAGE</span> <span class="p">=</span> <span class="s">"TR"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">PAY_METHOD</span> <span class="p">=</span> <span class="s">"CCVISAMC"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">BACK_REF</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">PRICES_CURRENCY</span> <span class="p">=</span> <span class="s">"TRY"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUOrder</span><span class="p">();</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">ORDER_REF</span> <span class="p">=</span> <span class="n">Guid</span><span class="p">.</span><span class="nf">NewGuid</span><span class="p">().</span><span class="nf">ToString</span><span class="p">();</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">ORDER_SHIPPING</span> <span class="p">=</span> <span class="s">"5"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">ORDER_DATE</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"yyyy-MM-dd HH:mm:ss"</span><span class="p">);</span>

<span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="n">PayUOrder</span><span class="p">.</span><span class="n">PayUOrderItem</span> <span class="n">orderItem</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="n">PayUOrder</span><span class="p">.</span><span class="nf">PayUOrderItem</span><span class="p">();</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PRICE</span> <span class="p">=</span> <span class="s">"5"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PINFO</span> <span class="p">=</span> <span class="s">"Test Açıklaması"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_QTY</span> <span class="p">=</span> <span class="s">"1"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PCODE</span> <span class="p">=</span> <span class="s">"Test Kodu"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PNAME</span> <span class="p">=</span> <span class="s">"Test Ürünü"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_VAT</span> <span class="p">=</span> <span class="s">"18"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PRICE_TYPE</span> <span class="p">=</span> <span class="s">"NET"</span><span class="p">;</span>

<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">OrderItems</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">orderItem</span><span class="p">);</span>

<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUCreditCard</span><span class="p">();</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">CC_NUMBER</span> <span class="p">=</span> <span class="n">cardNumber</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">EXP_MONTH</span> <span class="p">=</span> <span class="n">month</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">EXP_YEAR</span> <span class="p">=</span> <span class="n">year</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">CC_CVV</span> <span class="p">=</span> <span class="n">cvc</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">CC_OWNER</span> <span class="p">=</span> <span class="n">nameSurname</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">SELECTED_INSTALLMENTS_NUMBER</span> <span class="p">=</span> <span class="n">installment</span><span class="p">;</span>

<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUCustomer</span><span class="p">();</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_FNAME</span> <span class="p">=</span> <span class="s">"Ad"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_LNAME</span> <span class="p">=</span> <span class="s">"Soyad"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_EMAIL</span> <span class="p">=</span> <span class="s">"mail@mail.com"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_PHONE</span> <span class="p">=</span> <span class="s">"02129003711"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_FAX</span> <span class="p">=</span> <span class="s">"02129003711"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_ADDRESS</span> <span class="p">=</span> <span class="s">"Birinci Adres satırı"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_ADDRESS2</span> <span class="p">=</span> <span class="s">"İkinci Adres satırı"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_ZIPCODE</span> <span class="p">=</span> <span class="s">"34000"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_CITY</span> <span class="p">=</span> <span class="s">"ISTANBUL"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_COUNTRYCODE</span> <span class="p">=</span> <span class="s">"TR"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_STATE</span> <span class="p">=</span> <span class="s">"Ayazağa"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">CLIENT_IP</span> <span class="p">=</span> <span class="n">Request</span><span class="p">.</span><span class="n">UserHostAddress</span><span class="p">;</span>


<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUDelivery</span><span class="p">();</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_FNAME</span> <span class="p">=</span> <span class="s">"Ad"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_LNAME</span> <span class="p">=</span> <span class="s">"Soyad"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_EMAIL</span> <span class="p">=</span> <span class="s">"mail@mail.com"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_PHONE</span> <span class="p">=</span> <span class="s">"02129003711"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_COMPANY</span> <span class="p">=</span> <span class="s">"PayU Ödeme Kuruluşu A.Ş."</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_ADDRESS</span> <span class="p">=</span> <span class="s">"Birinci Adres satIRI"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_ADDRESS2</span> <span class="p">=</span> <span class="s">"İkinci Adres satırı"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_ZIPCODE</span> <span class="p">=</span> <span class="s">"34000"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_CITY</span> <span class="p">=</span> <span class="s">"ISTANBUL"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_STATE</span> <span class="p">=</span> <span class="s">"TR"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_COUNTRYCODE</span> <span class="p">=</span> <span class="s">"Ayazağa"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
<span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/order/alu/v3"</span><span class="p">;</span>
<span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">Non3DExecute</span><span class="p">(</span><span class="n">apiPaymentRequest</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
=======
            <span class="n">ApiPaymentRequest</span> <span class="n">apiPaymentRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApiPaymentRequest</span><span class="p">();</span>

            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUConfig</span><span class="p">();</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">MERCHANT</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">LANGUAGE</span> <span class="p">=</span> <span class="s">"TR"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">PAY_METHOD</span> <span class="p">=</span> <span class="s">"CCVISAMC"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">BACK_REF</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">PRICES_CURRENCY</span> <span class="p">=</span> <span class="s">"TRY"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUOrder</span><span class="p">();</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">ORDER_REF</span> <span class="p">=</span> <span class="n">Guid</span><span class="p">.</span><span class="nf">NewGuid</span><span class="p">().</span><span class="nf">ToString</span><span class="p">();</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">ORDER_SHIPPING</span> <span class="p">=</span> <span class="s">"5"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">ORDER_DATE</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"yyyy-MM-dd HH:mm:ss"</span><span class="p">);</span>

            <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="n">PayUOrder</span><span class="p">.</span><span class="n">PayUOrderItem</span> <span class="n">orderItem</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="n">PayUOrder</span><span class="p">.</span><span class="nf">PayUOrderItem</span><span class="p">();</span>
            <span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PRICE</span> <span class="p">=</span> <span class="s">"5"</span><span class="p">;</span>
            <span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PINFO</span> <span class="p">=</span> <span class="s">"Test Açıklaması"</span><span class="p">;</span>
            <span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_QTY</span> <span class="p">=</span> <span class="s">"1"</span><span class="p">;</span>
            <span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PCODE</span> <span class="p">=</span> <span class="s">"Test Kodu"</span><span class="p">;</span>
            <span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PNAME</span> <span class="p">=</span> <span class="s">"Test Ürünü"</span><span class="p">;</span>
            <span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_VAT</span> <span class="p">=</span> <span class="s">"18"</span><span class="p">;</span>
            <span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PRICE_TYPE</span> <span class="p">=</span> <span class="s">"NET"</span><span class="p">;</span>

            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">OrderItems</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">orderItem</span><span class="p">);</span>

            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUCreditCard</span><span class="p">();</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">CC_NUMBER</span> <span class="p">=</span> <span class="n">cardNumber</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">EXP_MONTH</span> <span class="p">=</span> <span class="n">month</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">EXP_YEAR</span> <span class="p">=</span> <span class="n">year</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">CC_CVV</span> <span class="p">=</span> <span class="n">cvc</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">CC_OWNER</span> <span class="p">=</span> <span class="n">nameSurname</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">SELECTED_INSTALLMENTS_NUMBER</span> <span class="p">=</span> <span class="n">installment</span><span class="p">;</span>

            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUCustomer</span><span class="p">();</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_FNAME</span> <span class="p">=</span> <span class="s">"Ad"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_LNAME</span> <span class="p">=</span> <span class="s">"Soyad"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_EMAIL</span> <span class="p">=</span> <span class="s">"mail@mail.com"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_PHONE</span> <span class="p">=</span> <span class="s">"02129003711"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_FAX</span> <span class="p">=</span> <span class="s">"02129003711"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_ADDRESS</span> <span class="p">=</span> <span class="s">"Birinci Adres satırı"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_ADDRESS2</span> <span class="p">=</span> <span class="s">"İkinci Adres satırı"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_ZIPCODE</span> <span class="p">=</span> <span class="s">"34000"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_CITY</span> <span class="p">=</span> <span class="s">"ISTANBUL"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_COUNTRYCODE</span> <span class="p">=</span> <span class="s">"TR"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_STATE</span> <span class="p">=</span> <span class="s">"Ayazağa"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">CLIENT_IP</span> <span class="p">=</span> <span class="n">Request</span><span class="p">.</span><span class="n">UserHostAddress</span><span class="p">;</span>


            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUDelivery</span><span class="p">();</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_FNAME</span> <span class="p">=</span> <span class="s">"Ad"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_LNAME</span> <span class="p">=</span> <span class="s">"Soyad"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_EMAIL</span> <span class="p">=</span> <span class="s">"mail@mail.com"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_PHONE</span> <span class="p">=</span> <span class="s">"02129003711"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_COMPANY</span> <span class="p">=</span> <span class="s">"PayU Ödeme Kuruluşu A.Ş."</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_ADDRESS</span> <span class="p">=</span> <span class="s">"Birinci Adres satIRI"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_ADDRESS2</span> <span class="p">=</span> <span class="s">"İkinci Adres satırı"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_ZIPCODE</span> <span class="p">=</span> <span class="s">"34000"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_CITY</span> <span class="p">=</span> <span class="s">"ISTANBUL"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_STATE</span> <span class="p">=</span> <span class="s">"TR"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_COUNTRYCODE</span> <span class="p">=</span> <span class="s">"Ayazağa"</span><span class="p">;</span>

            <span class="kt">var</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
            <span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/order/alu/v3"</span><span class="p">;</span>
            <span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
            <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">Non3DExecute</span><span class="p">(</span><span class="n">apiPaymentRequest</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
>>>>>>> 3ed3dff92d6b76228aaccf3922e0c87dca9c7fe9

</code></pre><pre class="highlight javascript tab-javascript"><code>
<span class="kd">var</span> <span class="nx">EndPointUrl</span> <span class="o">=</span> <span class="s1">'https://secure.payu.com.tr/order/alu/v3'</span><span class="p">;</span>

<span class="nx">SecretKey</span> <span class="o">=</span> <span class="s1">'SECRET_KEY'</span><span class="p">;</span>


<span class="kd">var</span> <span class="nx">moment</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moment'</span><span class="p">);</span>
<span class="nx">date</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">.</span><span class="nx">utc</span><span class="p">().</span><span class="nx">format</span><span class="p">(</span><span class="s1">'YYYY-MM-DD HH:mm:ss'</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span>
<span class="nx">ORDER_REF</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="mi">1000</span><span class="p">));</span>


<span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'MERCHANT'</span><span class="p">:</span> <span class="s2">"OPU_TEST"</span><span class="p">,</span>
    <span class="s1">'LANGUAGE'</span><span class="p">:</span> <span class="s2">"TR"</span><span class="p">,</span>
    <span class="s1">'ORDER_DATE'</span><span class="p">:</span> <span class="nx">date</span><span class="p">,</span>
    <span class="s1">'PAY_METHOD'</span><span class="p">:</span> <span class="s2">"CCVISAMC"</span><span class="p">,</span>
    <span class="s1">'BACK_REF'</span><span class="p">:</span> <span class="s2">"http://www.backref.com.tr"</span><span class="p">,</span>
    <span class="s1">'PRICES_CURRENCY'</span><span class="p">:</span> <span class="s2">"TRY"</span><span class="p">,</span>
    <span class="s1">'SELECTED_INSTALLMENTS_NUMBER'</span><span class="p">:</span> <span class="s2">"1"</span><span class="p">,</span>
    <span class="s1">'ORDER_SHIPPING'</span><span class="p">:</span> <span class="s2">"5"</span><span class="p">,</span>
    <span class="s1">'CLIENT_IP'</span><span class="p">:</span> <span class="s2">"127.0.0.1"</span><span class="p">,</span>
    <span class="s1">'ORDER_REF'</span><span class="p">:</span> <span class="s2">"Test"</span><span class="o">+</span><span class="nx">ORDER_REF</span><span class="p">,</span>

    <span class="s1">'ORDER_PNAME[0]'</span><span class="p">:</span><span class="s1">'Test Ürünü'</span><span class="p">,</span>
    <span class="s1">'ORDER_PCODE[0]'</span><span class="p">:</span><span class="s1">'Test Kodu'</span><span class="p">,</span>
    <span class="s1">'ORDER_PINFO[0]'</span><span class="p">:</span><span class="s1">'Test Açıklaması'</span><span class="p">,</span>
    <span class="s1">'ORDER_PRICE[0]'</span><span class="p">:</span><span class="s1">'5'</span><span class="p">,</span>
    <span class="s1">'ORDER_VAT[0]'</span><span class="p">:</span><span class="s1">'18'</span><span class="p">,</span>
    <span class="s1">'ORDER_PRICE_TYPE[0]'</span><span class="p">:</span><span class="s1">'NET'</span><span class="p">,</span>
    <span class="s1">'ORDER_QTY[0]'</span><span class="p">:</span><span class="s1">'1'</span><span class="p">,</span>

    <span class="s1">'ORDER_PNAME[1]'</span><span class="p">:</span><span class="s1">'Test Ürünü-2'</span><span class="p">,</span>
    <span class="s1">'ORDER_PCODE[1]'</span><span class="p">:</span><span class="s1">'Test Kodu-2'</span><span class="p">,</span>
    <span class="s1">'ORDER_PINFO[1]'</span><span class="p">:</span><span class="s1">'Test Açıklaması-2'</span><span class="p">,</span>
    <span class="s1">'ORDER_PRICE[1]'</span><span class="p">:</span><span class="s1">'15'</span><span class="p">,</span>
    <span class="s1">'ORDER_VAT[1]'</span><span class="p">:</span><span class="s1">'24'</span><span class="p">,</span>
    <span class="s1">'ORDER_PRICE_TYPE[1]'</span><span class="p">:</span><span class="s1">'GROSS'</span><span class="p">,</span>
    <span class="s1">'ORDER_QTY[1]'</span><span class="p">:</span><span class="s1">'3'</span><span class="p">,</span>

    <span class="s1">'CC_NUMBER'</span><span class="p">:</span><span class="s1">'4355084355084358'</span><span class="p">,</span>
    <span class="s1">'EXP_MONTH'</span><span class="p">:</span><span class="s1">'12'</span><span class="p">,</span>
    <span class="s1">'EXP_YEAR'</span><span class="p">:</span><span class="s1">'2018'</span><span class="p">,</span>
    <span class="s1">'CC_CVV'</span><span class="p">:</span><span class="s1">'000'</span><span class="p">,</span>
    <span class="s1">'CC_OWNER'</span><span class="p">:</span><span class="s1">'000'</span><span class="p">,</span>

    <span class="s1">'BILL_FNAME'</span><span class="p">:</span><span class="s1">'Ad'</span><span class="p">,</span>
    <span class="s1">'BILL_LNAME'</span><span class="p">:</span><span class="s1">'Soyad'</span><span class="p">,</span>
    <span class="s1">'BILL_EMAIL'</span><span class="p">:</span><span class="s1">'mail@mail.com'</span><span class="p">,</span>
    <span class="s1">'BILL_PHONE'</span><span class="p">:</span><span class="s1">'02129003711'</span><span class="p">,</span>
    <span class="s1">'BILL_FAX'</span><span class="p">:</span><span class="s1">'02129003711'</span><span class="p">,</span>
    <span class="s1">'BILL_ADDRESS'</span><span class="p">:</span><span class="s1">'Birinci Adres satırı'</span><span class="p">,</span>
    <span class="s1">'BILL_ADDRESS2'</span><span class="p">:</span><span class="s1">'İkinci Adres satırı'</span><span class="p">,</span>
    <span class="s1">'BILL_ZIPCODE'</span><span class="p">:</span><span class="s1">'34000'</span><span class="p">,</span>
    <span class="s1">'BILL_CITY'</span><span class="p">:</span><span class="s1">'ISTANBUL'</span><span class="p">,</span>
    <span class="s1">'BILL_COUNTRYCODE'</span><span class="p">:</span><span class="s1">'TR'</span><span class="p">,</span>
    <span class="s1">'BILL_STATE'</span><span class="p">:</span><span class="s1">'Ayazağa'</span><span class="p">,</span>

    <span class="s1">'DELIVERY_FNAME'</span><span class="p">:</span><span class="s1">'Ad'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_LNAME'</span><span class="p">:</span><span class="s1">'Soyad'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_EMAIL'</span><span class="p">:</span><span class="s1">'mail@mail.com'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_PHONE'</span><span class="p">:</span><span class="s1">'02129003711'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_COMPANY'</span><span class="p">:</span><span class="s1">'PayU Ödeme Kuruluşu A.Ş.'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_ADDRESS'</span><span class="p">:</span><span class="s1">'Birinci Adres satırı'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_ADDRESS2'</span><span class="p">:</span><span class="s1">'İkinci Adres satırı'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_ZIPCODE'</span><span class="p">:</span><span class="s1">'34000'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_CITY'</span><span class="p">:</span><span class="s1">'ISTANBUL'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_STATE'</span><span class="p">:</span><span class="s1">'TR'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_COUNTRYCODE'</span><span class="p">:</span><span class="s1">'Ayazağa'</span><span class="p">,</span>

<span class="p">}</span>

<span class="nx">hashstring</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">sortKeys</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'sort-keys'</span><span class="p">);</span>
<span class="nx">sorted</span> <span class="o">=</span> <span class="nx">sortKeys</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">k</span> <span class="k">in</span> <span class="nx">sorted</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">hashstring</span> <span class="o">+=</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">].</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span> <span class="p">;</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">)</span>
    <span class="p">,</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">hashstring</span>
    <span class="p">,</span> <span class="nx">secretkey</span> <span class="o">=</span> <span class="nx">SecretKey</span><span class="p">;</span>

<span class="nx">signature</span> <span class="o">=</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s1">'md5'</span><span class="p">,</span> <span class="nx">secretkey</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="nx">array</span><span class="p">[</span><span class="s1">'ORDER_HASH'</span><span class="p">]</span> <span class="o">=</span> <span class="nx">signature</span>

<span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">EndPointUrl</span><span class="p">,</span> <span class="p">{</span><span class="na">form</span><span class="p">:</span><span class="nx">array</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>

<span class="p">});</span>


</code></pre><pre class="highlight python tab-python"><code>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">urlencode</span>
<span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>

<span class="c"># Endpoint</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://secure.payu.com.tr/order/alu/v3"</span>

<span class="c"># PayU Merchant's Secret Key</span>
<span class="n">secret</span> <span class="o">=</span> <span class="s">'SECRET_KEY'</span>

<span class="c"># Request @params Begin</span>
<span class="n">array</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c"># PayU Merchant's Merchant ID</span>
    <span class="s">'MERCHANT'</span><span class="p">:</span> <span class="s">"OPU_TEST"</span><span class="p">,</span>
    <span class="s">'LANGUAGE'</span><span class="p">:</span> <span class="s">"TR"</span><span class="p">,</span>
    <span class="s">'ORDER_DATE'</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">Y-</span><span class="si">%</span><span class="s">m-</span><span class="si">%</span><span class="s">d </span><span class="si">%</span><span class="s">H:</span><span class="si">%</span><span class="s">M:</span><span class="si">%</span><span class="s">S'</span><span class="p">),</span>
    <span class="s">'PAY_METHOD'</span><span class="p">:</span> <span class="s">"CCVISAMC"</span><span class="p">,</span>
    <span class="s">'BACK_REF'</span><span class="p">:</span> <span class="s">"http://www.backref.com.tr"</span><span class="p">,</span>
    <span class="s">'PRICES_CURRENCY'</span><span class="p">:</span> <span class="s">"TRY"</span><span class="p">,</span>
    <span class="s">'SELECTED_INSTALLMENTS_NUMBER'</span><span class="p">:</span> <span class="s">"1"</span><span class="p">,</span>
    <span class="s">'ORDER_SHIPPING'</span><span class="p">:</span> <span class="s">"5"</span><span class="p">,</span>
    <span class="s">'CLIENT_IP'</span><span class="p">:</span> <span class="s">"127.0.0.1"</span><span class="p">,</span>

    <span class="s">'ORDER_PNAME[0]'</span><span class="p">:</span><span class="s">'Test Ürünü'</span><span class="p">,</span>
    <span class="s">'ORDER_PCODE[0]'</span><span class="p">:</span><span class="s">'Test Kodu'</span><span class="p">,</span>
    <span class="s">'ORDER_PINFO[0]'</span><span class="p">:</span><span class="s">'Test Açıklaması'</span><span class="p">,</span>
    <span class="s">'ORDER_PRICE[0]'</span><span class="p">:</span><span class="s">'5'</span><span class="p">,</span>
    <span class="s">'ORDER_VAT[0]'</span><span class="p">:</span><span class="s">'18'</span><span class="p">,</span>
    <span class="s">'ORDER_PRICE_TYPE[0]'</span><span class="p">:</span><span class="s">'NET'</span><span class="p">,</span>
    <span class="s">'ORDER_QTY[0]'</span><span class="p">:</span><span class="s">'1'</span><span class="p">,</span>

    <span class="s">'ORDER_PNAME[1]'</span><span class="p">:</span><span class="s">'Test Ürünü-2'</span><span class="p">,</span>
    <span class="s">'ORDER_PCODE[1]'</span><span class="p">:</span><span class="s">'Test Kodu-2'</span><span class="p">,</span>
    <span class="s">'ORDER_PINFO[1]'</span><span class="p">:</span><span class="s">'Test Açıklaması-2'</span><span class="p">,</span>
    <span class="s">'ORDER_PRICE[1]'</span><span class="p">:</span><span class="s">'15'</span><span class="p">,</span>
    <span class="s">'ORDER_VAT[1]'</span><span class="p">:</span><span class="s">'24'</span><span class="p">,</span>
    <span class="s">'ORDER_PRICE_TYPE[1]'</span><span class="p">:</span><span class="s">'GROSS'</span><span class="p">,</span>
    <span class="s">'ORDER_QTY[1]'</span><span class="p">:</span><span class="s">'3'</span><span class="p">,</span>

    <span class="s">'CC_NUMBER'</span><span class="p">:</span><span class="s">'4355084355084358'</span><span class="p">,</span>
    <span class="s">'EXP_MONTH'</span><span class="p">:</span><span class="s">'12'</span><span class="p">,</span>
    <span class="s">'EXP_YEAR'</span><span class="p">:</span><span class="s">'2018'</span><span class="p">,</span>
    <span class="s">'CC_CVV'</span><span class="p">:</span><span class="s">'000'</span><span class="p">,</span>
    <span class="s">'CC_OWNER'</span><span class="p">:</span><span class="s">'000'</span><span class="p">,</span>

    <span class="s">'BILL_FNAME'</span><span class="p">:</span><span class="s">'Ad'</span><span class="p">,</span>
    <span class="s">'BILL_LNAME'</span><span class="p">:</span><span class="s">'Soyad'</span><span class="p">,</span>
    <span class="s">'BILL_EMAIL'</span><span class="p">:</span><span class="s">'mail@mail.com'</span><span class="p">,</span>
    <span class="s">'BILL_PHONE'</span><span class="p">:</span><span class="s">'02129003711'</span><span class="p">,</span>
    <span class="s">'BILL_FAX'</span><span class="p">:</span><span class="s">'02129003711'</span><span class="p">,</span>
    <span class="s">'BILL_ADDRESS'</span><span class="p">:</span><span class="s">'Birinci Adres satırı'</span><span class="p">,</span>
    <span class="s">'BILL_ADDRESS2'</span><span class="p">:</span><span class="s">'İkinci Adres satırı'</span><span class="p">,</span>
    <span class="s">'BILL_ZIPCODE'</span><span class="p">:</span><span class="s">'34000'</span><span class="p">,</span>
    <span class="s">'BILL_CITY'</span><span class="p">:</span><span class="s">'ISTANBUL'</span><span class="p">,</span>
    <span class="s">'BILL_COUNTRYCODE'</span><span class="p">:</span><span class="s">'TR'</span><span class="p">,</span>
    <span class="s">'BILL_STATE'</span><span class="p">:</span><span class="s">'Ayazağa'</span><span class="p">,</span>

    <span class="s">'DELIVERY_FNAME'</span><span class="p">:</span><span class="s">'Ad'</span><span class="p">,</span>
    <span class="s">'DELIVERY_LNAME'</span><span class="p">:</span><span class="s">'Soyad'</span><span class="p">,</span>
    <span class="s">'DELIVERY_EMAIL'</span><span class="p">:</span><span class="s">'mail@mail.com'</span><span class="p">,</span>
    <span class="s">'DELIVERY_PHONE'</span><span class="p">:</span><span class="s">'02129003711'</span><span class="p">,</span>
    <span class="s">'DELIVERY_COMPANY'</span><span class="p">:</span><span class="s">'PayU Ödeme Kuruluşu A.Ş.'</span><span class="p">,</span>
    <span class="s">'DELIVERY_ADDRESS'</span><span class="p">:</span><span class="s">'Birinci Adres satırı'</span><span class="p">,</span>
    <span class="s">'DELIVERY_ADDRESS2'</span><span class="p">:</span><span class="s">'İkinci Adres satırı'</span><span class="p">,</span>
    <span class="s">'DELIVERY_ZIPCODE'</span><span class="p">:</span><span class="s">'34000'</span><span class="p">,</span>
    <span class="s">'DELIVERY_CITY'</span><span class="p">:</span><span class="s">'ISTANBUL'</span><span class="p">,</span>
    <span class="s">'DELIVERY_STATE'</span><span class="p">:</span><span class="s">'TR'</span><span class="p">,</span>
    <span class="s">'DELIVERY_COUNTRYCODE'</span><span class="p">:</span><span class="s">'Ayazağa'</span><span class="p">,</span>

<span class="p">}</span>
<span class="c"># Random number generation function for ORDER_REF @param</span>
<span class="n">refno</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100000</span><span class="p">))</span>

<span class="c"># Adding ORDER_REF @param to request array</span>
<span class="n">array</span><span class="p">[</span><span class="s">'ORDER_REF'</span><span class="p">]</span> <span class="o">=</span> <span class="n">refno</span>

<span class="c"># Initializing the hashstring @param</span>
<span class="n">hashstring</span> <span class="o">=</span> <span class="s">''</span>

<span class="c"># Sorting Array @params</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">array</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>

<span class="c"># Adding the length of each field value at the beginning of field value</span>
    <span class="n">hashstring</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">hashstring</span><span class="p">)</span>

<span class="c"># Calculating ORDER_HASH</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashstring</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>

<span class="c"># Adding ORDER_HASH @param to request array</span>
<span class="n">array</span><span class="p">[</span><span class="s">'ORDER_HASH'</span><span class="p">]</span> <span class="o">=</span> <span class="n">signature</span>

<span class="c"># Sending Request to Endpoint</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">urlencode</span><span class="p">(</span><span class="n">array</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

<span class="c"># Printing result/response</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://secure.payu.com.tr/order/alu/v3"</span><span class="p">;</span>
<span class="nb">date_default_timezone_set</span><span class="p">(</span><span class="s1">'UTC'</span><span class="p">);</span>

<span class="nv">$secretKey</span> <span class="o">=</span> <span class="s1">'SECRET_KEY'</span><span class="p">;</span>

<span class="nv">$arParams</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>

   <span class="s2">"MERCHANT"</span> <span class="o">=&gt;</span> <span class="s2">"OPU_TEST"</span><span class="p">,</span>
   <span class="s2">"LANGUAGE"</span> <span class="o">=&gt;</span> <span class="s2">"TR"</span><span class="p">,</span>
   <span class="s2">"ORDER_REF"</span> <span class="o">=&gt;</span>  <span class="nb">rand</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10000</span><span class="p">),</span>
   <span class="s2">"ORDER_DATE"</span> <span class="o">=&gt;</span> <span class="nb">date</span><span class="p">(</span><span class="s1">'Y-m-d H:i:s'</span><span class="p">),</span>
   <span class="s2">"PAY_METHOD"</span> <span class="o">=&gt;</span> <span class="s2">"CCVISAMC"</span><span class="p">,</span>
   <span class="s2">"BACK_REF"</span> <span class="o">=&gt;</span> <span class="s2">"http://www.backref.com.tr"</span><span class="p">,</span>
   <span class="s2">"PRICES_CURRENCY"</span> <span class="o">=&gt;</span> <span class="s2">"TRY"</span><span class="p">,</span>
   <span class="s2">"SELECTED_INSTALLMENTS_NUMBER"</span> <span class="o">=&gt;</span> <span class="s2">"1"</span><span class="p">,</span>
   <span class="s2">"ORDER_SHIPPING"</span><span class="o">=&gt;</span><span class="s2">"5"</span><span class="p">,</span>
   <span class="s2">"CLIENT_IP"</span> <span class="o">=&gt;</span> <span class="nv">$_SERVER</span><span class="p">[</span><span class="s2">"REMOTE_ADDR"</span><span class="p">],</span>


   <span class="s2">"ORDER_PNAME[0]"</span> <span class="o">=&gt;</span> <span class="s2">"Test Ürünü"</span><span class="p">,</span>
   <span class="s2">"ORDER_PCODE[0]"</span> <span class="o">=&gt;</span> <span class="s2">"Test Kodu"</span><span class="p">,</span>
   <span class="s2">"ORDER_PINFO[0]"</span> <span class="o">=&gt;</span> <span class="s2">"Test Açıklaması"</span><span class="p">,</span>
   <span class="s2">"ORDER_PRICE[0]"</span> <span class="o">=&gt;</span> <span class="s2">"5"</span><span class="p">,</span>
   <span class="s2">"ORDER_VAT[0]"</span><span class="o">=&gt;</span><span class="s2">"18"</span><span class="p">,</span>
   <span class="s2">"ORDER_PRICE_TYPE[0]"</span><span class="o">=&gt;</span><span class="s2">"NET"</span><span class="p">,</span>
   <span class="s2">"ORDER_QTY[0]"</span> <span class="o">=&gt;</span> <span class="s2">"1"</span><span class="p">,</span>

   <span class="s2">"ORDER_PNAME[1]"</span> <span class="o">=&gt;</span> <span class="s2">"Test Ürünü-2"</span><span class="p">,</span>
   <span class="s2">"ORDER_PCODE[1]"</span> <span class="o">=&gt;</span> <span class="s2">"Test Kodu-2"</span><span class="p">,</span>
   <span class="s2">"ORDER_PINFO[1]"</span> <span class="o">=&gt;</span> <span class="s2">"Test Açıklaması-2"</span><span class="p">,</span>
   <span class="s2">"ORDER_PRICE[1]"</span> <span class="o">=&gt;</span> <span class="s2">"15"</span><span class="p">,</span>
   <span class="s2">"ORDER_VAT[1]"</span><span class="o">=&gt;</span><span class="s2">"24"</span><span class="p">,</span>
   <span class="s2">"ORDER_PRICE_TYPE[1]"</span><span class="o">=&gt;</span><span class="s2">"GROSS"</span><span class="p">,</span>
   <span class="s2">"ORDER_QTY[1]"</span> <span class="o">=&gt;</span> <span class="s2">"3"</span><span class="p">,</span>

   <span class="s2">"CC_NUMBER"</span> <span class="o">=&gt;</span> <span class="s2">"4355084355084358"</span><span class="p">,</span>
   <span class="s2">"EXP_MONTH"</span> <span class="o">=&gt;</span> <span class="s2">"12"</span><span class="p">,</span>
   <span class="s2">"EXP_YEAR"</span> <span class="o">=&gt;</span> <span class="s2">"2018"</span><span class="p">,</span>
   <span class="s2">"CC_CVV"</span> <span class="o">=&gt;</span> <span class="s2">"000"</span><span class="p">,</span>
   <span class="s2">"CC_OWNER"</span> <span class="o">=&gt;</span> <span class="s2">"000"</span><span class="p">,</span>

   <span class="s2">"BILL_FNAME"</span> <span class="o">=&gt;</span> <span class="s2">"Ad"</span><span class="p">,</span>
   <span class="s2">"BILL_LNAME"</span> <span class="o">=&gt;</span> <span class="s2">"Soyad"</span><span class="p">,</span>
   <span class="s2">"BILL_EMAIL"</span> <span class="o">=&gt;</span> <span class="s2">"mail@mail.com"</span><span class="p">,</span>
   <span class="s2">"BILL_PHONE"</span> <span class="o">=&gt;</span> <span class="s2">"02129003711"</span><span class="p">,</span>
   <span class="s2">"BILL_FAX"</span> <span class="o">=&gt;</span> <span class="s2">"02129003711"</span><span class="p">,</span>
   <span class="s2">"BILL_ADDRESS"</span> <span class="o">=&gt;</span> <span class="s2">"Birinci Adres satırı"</span><span class="p">,</span>
   <span class="s2">"BILL_ADDRESS2"</span> <span class="o">=&gt;</span> <span class="s2">"İkinci Adres satırı"</span><span class="p">,</span>
   <span class="s2">"BILL_ZIPCODE"</span> <span class="o">=&gt;</span> <span class="s2">"34000"</span><span class="p">,</span>
   <span class="s2">"BILL_CITY"</span> <span class="o">=&gt;</span> <span class="s2">"ISTANBUL"</span><span class="p">,</span>
   <span class="s2">"BILL_COUNTRYCODE"</span> <span class="o">=&gt;</span> <span class="s2">"TR"</span><span class="p">,</span>
   <span class="s2">"BILL_STATE"</span> <span class="o">=&gt;</span> <span class="s2">"Ayazağa"</span><span class="p">,</span>

   <span class="s2">"DELIVERY_FNAME"</span> <span class="o">=&gt;</span> <span class="s2">"Ad"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_LNAME"</span> <span class="o">=&gt;</span> <span class="s2">"Soyad"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_EMAIL"</span> <span class="o">=&gt;</span> <span class="s2">"mail@mail.com"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_PHONE"</span> <span class="o">=&gt;</span> <span class="s2">"02129003711"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_COMPANY"</span> <span class="o">=&gt;</span> <span class="s2">"PayU Ödeme Kuruluşu A.Ş."</span><span class="p">,</span>
   <span class="s2">"DELIVERY_ADDRESS"</span> <span class="o">=&gt;</span> <span class="s2">"Birinci Adres satırı"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_ADDRESS2"</span> <span class="o">=&gt;</span> <span class="s2">"İkinci Adres satırı"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_ZIPCODE"</span> <span class="o">=&gt;</span> <span class="s2">"34000"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_CITY"</span> <span class="o">=&gt;</span> <span class="s2">"ISTANBUL"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_STATE"</span> <span class="o">=&gt;</span> <span class="s2">"TR"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_COUNTRYCODE"</span> <span class="o">=&gt;</span> <span class="s2">"Ayazağa"</span><span class="p">,</span>
<span class="p">);</span>

<span class="nb">ksort</span><span class="p">(</span><span class="nv">$arParams</span><span class="p">);</span>
<span class="nv">$hashString</span> <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$arParams</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$val</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$hashString</span> <span class="o">.=</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$val</span><span class="p">)</span> <span class="o">.</span> <span class="nv">$val</span><span class="p">;</span>
<span class="p">}</span>
<span class="nv">$arParams</span><span class="p">[</span><span class="s2">"ORDER_HASH"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">hash_hmac</span><span class="p">(</span><span class="s2">"md5"</span><span class="p">,</span> <span class="nv">$hashString</span><span class="p">,</span> <span class="nv">$secretKey</span><span class="p">);</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_SSL_VERIFYPEER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_SSL_VERIFYHOST</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_IPRESOLVE</span><span class="p">,</span> <span class="nx">CURL_IPRESOLVE_V4</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_TIMEOUT</span><span class="p">,</span> <span class="mi">60</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">http_build_query</span><span class="p">(</span><span class="nv">$arParams</span><span class="p">));</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="nv">$curlerrcode</span> <span class="o">=</span> <span class="nb">curl_errno</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nv">$curlerr</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="k">empty</span><span class="p">(</span><span class="nv">$curlerr</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="k">empty</span><span class="p">(</span><span class="nv">$curlerrcode</span><span class="p">))</span> <span class="p">{</span>
    <span class="nv">$parsedXML</span> <span class="o">=</span> <span class="o">@</span><span class="nb">simplexml_load_string</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$parsedXML</span> <span class="o">!==</span> <span class="k">FALSE</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>
        <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
        <span class="k">echo</span> <span class="s2">"&lt;/pre&gt;"</span><span class="p">;</span>

        <span class="nv">$payuTranReference</span> <span class="o">=</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">REFNO</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">STATUS</span> <span class="o">==</span> <span class="s2">"SUCCESS"</span><span class="p">)</span> <span class="p">{</span>


            <span class="k">if</span> <span class="p">((</span><span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">RETURN_CODE</span> <span class="o">==</span> <span class="s2">"3DS_ENROLLED"</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">URL_3DS</span><span class="p">)))</span> <span class="p">{</span>
                <span class="nb">header</span><span class="p">(</span><span class="s2">"Location:"</span> <span class="o">.</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">URL_3DS</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>
            <span class="k">echo</span> <span class="s2">"SUCCES [PayU reference number: "</span> <span class="o">.</span> <span class="nv">$payuTranReference</span> <span class="o">.</span> <span class="s2">"]"</span><span class="p">;</span>
            <span class="k">echo</span> <span class="s2">"&lt;/pre&gt;"</span><span class="p">;</span>

        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">echo</span> <span class="s2">"Error: "</span> <span class="o">.</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">RETURN_MESSAGE</span> <span class="o">.</span> <span class="s2">" ["</span> <span class="o">.</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">RETURN_CODE</span> <span class="o">.</span> <span class="s2">"]"</span><span class="p">;</span>
            <span class="k">echo</span> <span class="s2">"&lt;br&gt;"</span><span class="p">;</span>
            <span class="k">echo</span> <span class="s2">"Error Details: "</span> <span class="o">.</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">ERRORMESSAGE</span> <span class="o">.</span> <span class="s2">"&lt;br&gt; Error Code: ["</span> <span class="o">.</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">PROCRETURNCODE</span> <span class="o">.</span> <span class="s2">"]"</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$payuTranReference</span><span class="p">))</span> <span class="p">{</span>
                <span class="c1">//the transaction was register to PayU system, but some error occured during the bank authorization.
</span>                <span class="c1">//See $parsedXML-&gt;RETURN_MESSAGE and $parsedXML-&gt;RETURN_CODE for details
</span>                <span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>
                <span class="k">echo</span> <span class="s2">" [PayU reference number: "</span> <span class="o">.</span> <span class="nv">$payuTranReference</span> <span class="o">.</span> <span class="s2">"]"</span><span class="p">;</span>
                <span class="k">echo</span> <span class="s2">"&lt;/pre&gt;"</span><span class="p">;</span>

            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">"cURL error: "</span> <span class="o">.</span> <span class="nv">$curlerr</span><span class="p">;</span>

<span class="p">}</span>

</code></pre>
<aside class="warning">
    ÖNEMLİ NOT:
    Teknik entegrasyon açısından tüm parametrelerin gönderilmesi, işlemlerin analizinin doğru yapılabilmesine olanak sağlamaktadır ve fraud işlemlerin önlenmesinde hayati rol oynamaktadır. Bu sebeple alanların mümkün olduğu ölçüde gönderilmesi tavsiye edilmektedir.
</aside>

<p>Endpoint POST <code>https://secure.payu.com.tr/order/alu/v3</code></p>
<h3 id='islem-parametereleri'>İşlem Parametereleri</h3>
<table><thead>
<tr>
<th>Parametre</th>
<th>Değer</th>
<th>Açıklama</th>
<th>Zorunlu</th>
</tr>
</thead><tbody>
<tr>
<td>MERCHANT</td>
<td>string</td>
<td>İşyerini ID bilgisidir. Üye İşyeri Kontrol Paneli’nde, hesap ayarları sayfasında bulunmaktadır.</td>
<td>Evet</td>
</tr>
<tr>
<td>LANGUAGE</td>
<td>string</td>
<td>İşlemin gerçekleştiği dilin kısa kodu değeri (TR/EN)</td>
<td>Evet</td>
</tr>
<tr>
<td>ORDER_REF</td>
<td>string/int</td>
<td>İşyerinin kendi belirlediği sipariş/işlem numarasıdır. Her başarılı / başarısız işlemde benzersiz bir değer atanmalıdır.</td>
<td>Evet</td>
</tr>
<tr>
<td>ORDER_DATE</td>
<td>string</td>
<td>İşlem/sipariş saati</td>
<td></td>
</tr>
<tr>
<td>PAY_METHOD</td>
<td>string</td>
<td>Ödeme yöntemini belirtir. Alabileceği değerler; <code> 1.<strong>“CCVISAMC”</strong> (Kartlı işlemler) </code>  <code> 2.<strong>“BKM”</strong> (BKM Express işlemleri) </code> <code> 3.<strong>“UPT”</strong> (Ucuz Para Transferi işlemleri) </code> <code> 4.<strong>“COMPAY”</strong> (Online Havale işlemleri) </code> <code> 5.<strong>“WIRE”</strong> (Havale/EFT işlemleri) </code></td>
<td>Evet</td>
</tr>
<tr>
<td>ORDER_HASH</td>
<td>string</td>
<td>Sipariş içeriğindeki tüm parametre değerlerinin key&#39;e göre sıralanıp, üye işyeri kodlama anahtarı kullanılarak HMAC MD5 algoritması ile hashlenerek elde edilen değerdir. Hash hesaplaması için Bknz: <a href="#hash-hesaplama">Hash Hesaplama</a></td>
<td>Evet</td>
</tr>
<tr>
<td>BACK_REF</td>
<td>string</td>
<td>Ödeme işlemi tamamlandıktan sonra kullanıcının yönlendirileceği URL’dir. 3D işlemlerde işleme ait parametreler de BACK_REF URL’e post edilir.</td>
<td>Hayır</td>
</tr>
<tr>
<td>PRICES_CURRENCY</td>
<td>string</td>
<td>İşlemin gerçekleşeceği para birimini belirleyen parametredir (TRY, EUR, USD, GBP). Türk kartlar için dövizli işlem gönderilmemelidir.</td>
<td>Hayır</td>
</tr>
<tr>
<td>SELECTED_INSTALLMENTS_NUMBER</td>
<td>int</td>
<td>Taksit yapılacaksa taksit bilgisinin belirtildiği parametredir.Vade farkı/komisyon bilgileri Üye işyeri kontrol panelinde “Hesap Yönetimi” &gt; “Finansal Yönetim” adımı altında sunulmaktadır. Bu sayfa aracılığı ile komisyonlar kart hamiline ya da işyerine yansıtılabilmektedir.</td>
<td>Hayır</td>
</tr>
<tr>
<td>ORDER_SHIPPING</td>
<td>int</td>
<td>Teslimat/Kargo ücretinin belirtildiği parametredir. Kullanılan para birimi ürün bilgisindeki PRICES_CURRENCY[]’den alınmaktadır.</td>
<td>Hayır</td>
</tr>
<tr>
<td>CLIENT_IP</td>
<td>string</td>
<td>Kullanıcı IP’sinin belirtildiği parametredir.</td>
<td>Hayır</td>
</tr>
<tr>
<td>DISCOUNT</td>
<td>int</td>
<td>Sepet tutarında genel indirim yapılabilmesini sağlayan parametredir .</td>
<td>Hayır</td>
</tr>
<tr>
<td>ORDER_TIMEOUT</td>
<td>int</td>
<td>Belirli bir süre cevap alınamadığı durumlarda işlemin sonlandırılması için saniye belirtebileceğiniz parametre.</td>
<td>Hayır</td>
</tr>
</tbody></table>
<h3 id='urun-parametereleri'>Ürün Parametereleri</h3>
<table><thead>
<tr>
<th>Parametre</th>
<th>Değer</th>
<th>Açıklama</th>
<th>Zorunlu</th>
<th>Karakter Sınırı</th>
</tr>
</thead><tbody>
<tr>
<td>ORDER_PNAME[]</td>
<td>varchar</td>
<td>Minimum 2, maksimum 155 karakterden oluşan ürün isminin gönderildiği parametredir.</td>
<td>Evet</td>
<td>400</td>
</tr>
<tr>
<td>ORDER_PCODE[]</td>
<td>varchar</td>
<td>Maksimum 50 karakterden oluşan ürün kodunun gönderildiği parametredir.</td>
<td>Evet</td>
<td>50</td>
</tr>
<tr>
<td>ORDER_PINFO[]</td>
<td>varchar</td>
<td>Ürün bilgisinin belirtildiği parametredir.</td>
<td>Hayır</td>
<td>1000</td>
</tr>
<tr>
<td>ORDER_VER[]</td>
<td>varchar</td>
<td>Ürün versiyonunun belirtildiği parametredir.</td>
<td>Hayır</td>
<td></td>
</tr>
<tr>
<td>ORDER_PRICE[]</td>
<td>double</td>
<td>Ürün fiyatının gönderildiği parametredir. Ondalık simgesi olarak &quot;.&quot;(nokta) kullanılmalıdır. &quot;,&quot;(virgül) kullanımında hata alınacaktır.</td>
<td>Evet</td>
<td></td>
</tr>
<tr>
<td>ORDER_VAT[]</td>
<td>double</td>
<td>Üründe uygulanan verginin belirlendiği parametredir 1, 8 veya 18 olarak belirlenmelidir.</td>
<td>Evet</td>
<td></td>
</tr>
<tr>
<td>ORDER_PRICE_TYPE[]</td>
<td>string</td>
<td>KDV tipinin belirlendiği parametredir. &quot;GROSS&quot; değeri ile gönderilmesi durumunda ürün fiyatına KDV dahil kabul edilecektir. &quot;NET&quot; gönderilmesi durumunda KDV, PayU tarafından ürünün tutarına eklenecektir.</td>
<td>Evet</td>
<td></td>
</tr>
<tr>
<td>ORDER_QTY[]</td>
<td>int</td>
<td>Ürün adedinin belirlendiği parametredir.</td>
<td>Evet</td>
<td>3</td>
</tr>
</tbody></table>
<h3 id='kart-bilgileri'>Kart Bilgileri</h3>
<table><thead>
<tr>
<th>Parametre</th>
<th>Değer</th>
<th>Açıklama</th>
<th>Zorunlu</th>
</tr>
</thead><tbody>
<tr>
<td>CC_NUMBER</td>
<td>string</td>
<td>Kart numarasının belirtildiği parametredir.</td>
<td>Evet</td>
</tr>
<tr>
<td>EXP_MONTH</td>
<td>string</td>
<td>Kartın son kullanım tarihi ay bilgisinin belirtildiği parametredir.</td>
<td>Evet</td>
</tr>
<tr>
<td>EXP_YEAR</td>
<td>string</td>
<td>Kartın son kullanım tarihi yıl bilgisinin belirtildiği parametredir. Dört haneli olarak belirlenmelidir.</td>
<td>Evet</td>
</tr>
<tr>
<td>CC_CVV</td>
<td>string</td>
<td>Kartın güvenlik kodunu belirtildiği parametredir.</td>
<td>Evet</td>
</tr>
<tr>
<td>CC_OWNER</td>
<td>string</td>
<td>Kart hamilinin isim-soyisim bilgisinin belirtildiği parametredir.</td>
<td>Hayır</td>
</tr>
</tbody></table>
<h3 id='fatura-parametereleri'>Fatura Parametereleri</h3>
<table><thead>
<tr>
<th>Parametre</th>
<th>Değer</th>
<th>Açıklama</th>
<th>Zorunlu</th>
<th>Karakter Sınırı</th>
</tr>
</thead><tbody>
<tr>
<td>BILL_FNAME</td>
<td>varchar</td>
<td>Fatura düzenlenecek kişinin adı.</td>
<td>Evet</td>
<td>40</td>
</tr>
<tr>
<td>BILL_LNAME</td>
<td>varchar</td>
<td>Fatura düzenlenecek kişinin soyadı.</td>
<td>Evet</td>
<td>40</td>
</tr>
<tr>
<td>BILL_EMAIL</td>
<td>varchar</td>
<td>Fatura düzenlenecek kişinin email adresi.</td>
<td>Evet</td>
<td>120</td>
</tr>
<tr>
<td>BILL_PHONE</td>
<td>varchar</td>
<td>Fatura düzenlenecek kişinin telefon numarası.</td>
<td>Evet</td>
<td>40</td>
</tr>
<tr>
<td>BILL_FAX</td>
<td>varchar</td>
<td>Fatura düzenlenecek kişinin faks numarasının belirtildiği parametredir.</td>
<td>Hayır</td>
<td>40</td>
</tr>
<tr>
<td>BILL_ADDRESS</td>
<td>varchar</td>
<td>Fatura düzenlenecek kişinin adresinin belirtildiği parametredir.</td>
<td>Hayır</td>
<td>100</td>
</tr>
<tr>
<td>BILL_ADDRESS2</td>
<td>varchar</td>
<td>Fatura düzenlenecek kişinin adresinin belirtildiği parametredir. (ikinci satır için)</td>
<td>Hayır</td>
<td>100</td>
</tr>
<tr>
<td>BILL_ZIPCODE</td>
<td>varchar</td>
<td>Fatura düzenlenecek kişinin posta kodunun belirtildiği parametredir.</td>
<td>Hayır</td>
<td>15</td>
</tr>
<tr>
<td>BILL_CITY</td>
<td>varchar</td>
<td>Fatura düzenlenecek kişinin şehir bilgisinin belirtildiği parametredir.</td>
<td>Hayır</td>
<td>40</td>
</tr>
<tr>
<td>BILL_COUNTRYCODE</td>
<td>varchar</td>
<td>Fatura düzenlenecek kişinin iki karakterli ülke kodu. (ISO Alpha-2 formatında)</td>
<td>Evet</td>
<td>3</td>
</tr>
<tr>
<td>BILL_STATE</td>
<td>varchar</td>
<td>Fatura düzenlenecek kişinin semt/ilçe bilgisinin belirtildiği parametredir.</td>
<td>Hayır</td>
<td>30</td>
</tr>
</tbody></table>
<h3 id='teslimat-parametereleri'>Teslimat Parametereleri</h3>
<table><thead>
<tr>
<th>Parametre</th>
<th>Değer</th>
<th>Açıklama</th>
<th>Zorunlu</th>
<th>Karakter Sınırı</th>
</tr>
</thead><tbody>
<tr>
<td>DELIVERY_FNAME</td>
<td>varchar</td>
<td>Teslim edilecek kişinin adı.</td>
<td>Hayır</td>
<td>40</td>
</tr>
<tr>
<td>DELIVERY_LNAME</td>
<td>varchar</td>
<td>Teslim edilecek kişinin soyadı.</td>
<td>Hayır</td>
<td>40</td>
</tr>
<tr>
<td>DELIVERY_EMAIL</td>
<td>varchar</td>
<td>Teslim edilecek kişinin email adresi.</td>
<td>Hayır</td>
<td>80</td>
</tr>
<tr>
<td>DELIVERY_PHONE</td>
<td>varchar</td>
<td>Teslim edilecek kişinin telefon numarası.</td>
<td>Hayır</td>
<td>40</td>
</tr>
<tr>
<td>DELIVERY_COMPANY</td>
<td>varchar</td>
<td>Teslim edilecek kişinin şirket bilgisi.</td>
<td>Hayır</td>
<td>50</td>
</tr>
<tr>
<td>DELIVERY_ADDRESS</td>
<td>varchar</td>
<td>Teslim edilecek kişinin adresi.</td>
<td>Hayır</td>
<td>100</td>
</tr>
<tr>
<td>DELIVERY_ADDRESS2</td>
<td>varchar</td>
<td>Teslim edilecek kişinin adresi. (ikinci satır için)</td>
<td>Hayır</td>
<td>100</td>
</tr>
<tr>
<td>DELIVERY_ZIPCODE</td>
<td>varchar</td>
<td>Teslim edilecek kişinin posta kodu.</td>
<td>Hayır</td>
<td>20</td>
</tr>
<tr>
<td>DELIVERY_CITY</td>
<td>varchar</td>
<td>Teslim edilecek kişinin şehir bilgisi.</td>
<td>Hayır</td>
<td>30</td>
</tr>
<tr>
<td>DELIVERY_STATE</td>
<td>varchar</td>
<td>Teslim edilecek kişinin semt/ilçe bilgisi.</td>
<td>Hayır</td>
<td>30</td>
</tr>
<tr>
<td>DELIVERY_COUNTRYCODE</td>
<td>varchar</td>
<td>Teslim edilecek kişinin iki karakterli ülke kodu. (ISO Alpha-2 formatında).</td>
<td>Hayır</td>
<td>3</td>
</tr>
</tbody></table>
<h3 id='fraud-icin-ekstra-parametreler'>Fraud için Ekstra Parametreler</h3>
<table><thead>
<tr>
<th>Parametre</th>
<th>Değer</th>
<th>Açıklama</th>
<th>Zorunlu</th>
</tr>
</thead><tbody>
<tr>
<td>CC_NUMBER_TIME</td>
<td>string</td>
<td>Kullanıcının kart numarasını giriş hızının belirtildiği parametredir.</td>
<td>Hayır</td>
</tr>
<tr>
<td>CC_OWNER_TIME</td>
<td>string</td>
<td>Kullanıcının kart üzerindeki ismi giriş hızının belirtildiği parametredir.</td>
<td>Hayır</td>
</tr>
<tr>
<td>CLIENT_TIME</td>
<td>string</td>
<td>Kullanıcının tarayıcısından YYYY-MM-DD hh:mm;ss formatında alınan zaman bilgisinin belirtildiği parametredir.</td>
<td>Hayır</td>
</tr>
</tbody></table>
<h3 id='yanit-parametreleri'>Yanıt Parametreleri</h3>
<p>PayU sistemi, yapılan isteğe   XML formatında bir yanıt dönmektedir. 
Bu yanıt;</p>

<ul>
<li><p>İşlemin başarılı olup olmadığını,başarılı olmadıysa sebebini ve ek bilgileri içermektedir.</p></li>
<li><p>İşyeri XML formatındaki bu datayı ayrıştırıp kendi sisteminde işlemelidir.</p></li>
<li><p>3D işlem yapılması durumunda aynı data HTTP POST ile BACK_REF url’ine gönderilmektedir.</p></li>
</ul>

<blockquote>
<p><strong>Başarılı İşlem Cevap Örneği</strong></p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="nt">&lt;EPAYMENT&gt;</span>
  <span class="nt">&lt;REFNO&gt;</span>41652325<span class="nt">&lt;/REFNO&gt;</span>
  <span class="nt">&lt;ALIAS&gt;</span>3a9d9b9663a50a9ed0f545152320c9fb<span class="nt">&lt;/ALIAS&gt;</span>
  <span class="nt">&lt;STATUS&gt;</span>SUCCESS<span class="nt">&lt;/STATUS&gt;</span>
  <span class="nt">&lt;RETURN</span><span class="na">_CODE</span><span class="nt">&gt;</span>AUTHORIZED<span class="err">&lt;</span>/RETURN_CODE&gt;
  <span class="nt">&lt;RETURN</span><span class="na">_MESSAGE</span><span class="nt">&gt;</span>Authorized.<span class="err">&lt;</span>/RETURN_MESSAGE&gt;
  <span class="nt">&lt;DATE&gt;</span>2017-10-04 16:38:11<span class="nt">&lt;/DATE&gt;</span>
  <span class="nt">&lt;AMOUNT&gt;</span>10.9<span class="nt">&lt;/AMOUNT&gt;</span>
  <span class="nt">&lt;CURRENCY&gt;</span>TRY<span class="nt">&lt;/CURRENCY&gt;</span>
  <span class="nt">&lt;INSTALLMENTS</span><span class="na">_NO</span><span class="nt">&gt;</span>1<span class="err">&lt;</span>/INSTALLMENTS_NO&gt;
  <span class="nt">&lt;CARD</span><span class="na">_PROGRAM_NAME</span><span class="nt">&gt;</span>AXESS<span class="err">&lt;</span>/CARD_PROGRAM_NAME&gt;
  <span class="nt">&lt;ORDER</span><span class="na">_REF</span><span class="nt">&gt;</span>84525<span class="err">&lt;</span>/ORDER_REF&gt;
  <span class="nt">&lt;AUTH</span><span class="na">_CODE</span><span class="nt">&gt;</span>342871<span class="err">&lt;</span>/AUTH_CODE&gt;
  <span class="nt">&lt;RRN&gt;</span>727716199932<span class="nt">&lt;/RRN&gt;</span>
  <span class="nt">&lt;ERRORMESSAGE&gt;</span>Approved.<span class="nt">&lt;/ERRORMESSAGE&gt;</span>
  <span class="nt">&lt;PROCRETURNCODE&gt;</span>00<span class="nt">&lt;/PROCRETURNCODE&gt;</span>
  <span class="nt">&lt;BANK</span><span class="na">_MERCHANT_ID</span><span class="nt">&gt;</span>100100000<span class="err">&lt;</span>/BANK_MERCHANT_ID&gt;
  <span class="nt">&lt;PAN&gt;</span>4355-xxxx-xxxx-4358<span class="nt">&lt;/PAN&gt;</span>
  <span class="nt">&lt;EXPYEAR&gt;</span>18<span class="nt">&lt;/EXPYEAR&gt;</span>
  <span class="nt">&lt;EXPMONTH&gt;</span>12<span class="nt">&lt;/EXPMONTH&gt;</span>
  <span class="nt">&lt;CLIENTID&gt;</span>100100000<span class="nt">&lt;/CLIENTID&gt;</span>
  <span class="nt">&lt;HOSTREFNUM&gt;</span>727716199932<span class="nt">&lt;/HOSTREFNUM&gt;</span>
  <span class="nt">&lt;OID&gt;</span>41652325<span class="nt">&lt;/OID&gt;</span>
  <span class="nt">&lt;RESPONSE&gt;</span>Approved<span class="nt">&lt;/RESPONSE&gt;</span>
  <span class="nt">&lt;TERMINAL</span><span class="na">_BANK</span><span class="nt">&gt;</span>AKBA<span class="err">&lt;</span>/TERMINAL_BANK&gt;
  <span class="nt">&lt;MDSTATUS&gt;&lt;/MDSTATUS&gt;</span>
  <span class="nt">&lt;MDERRORMSG&gt;&lt;/MDERRORMSG&gt;</span>
  <span class="nt">&lt;TXSTATUS&gt;&lt;/TXSTATUS&gt;</span>
  <span class="nt">&lt;XID&gt;&lt;/XID&gt;</span>
  <span class="nt">&lt;ECI&gt;&lt;/ECI&gt;</span>
  <span class="nt">&lt;CAVV&gt;&lt;/CAVV&gt;</span>
  <span class="nt">&lt;TRANSID&gt;</span>17277QmKG10275<span class="nt">&lt;/TRANSID&gt;</span>
  <span class="nt">&lt;HASH&gt;</span>f1c2e330b1ecad927969b679097d647c<span class="nt">&lt;/HASH&gt;</span>
<span class="nt">&lt;/EPAYMENT&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="o">&lt;</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">REFNO</span><span class="o">&gt;</span><span class="mi">41652325</span><span class="o">&lt;/</span><span class="n">REFNO</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ALIAS</span><span class="o">&gt;</span><span class="mi">3</span><span class="n">a9d9b9663a50a9ed0f545152320c9fb</span><span class="o">&lt;/</span><span class="n">ALIAS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">STATUS</span><span class="o">&gt;</span><span class="n">SUCCESS</span><span class="o">&lt;/</span><span class="n">STATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span><span class="n">AUTHORIZED</span><span class="o">&lt;/</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="n">Authorized</span><span class="o">.&lt;/</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mo">04</span> <span class="mi">16</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mi">11</span><span class="o">&lt;/</span><span class="n">DATE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">AMOUNT</span><span class="o">&gt;</span><span class="mf">10.9</span><span class="o">&lt;/</span><span class="n">AMOUNT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">CURRENCY</span><span class="o">&gt;</span><span class="n">TRY</span><span class="o">&lt;/</span><span class="n">CURRENCY</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">INSTALLMENTS_NO</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&lt;/</span><span class="n">INSTALLMENTS_NO</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">CARD_PROGRAM_NAME</span><span class="o">&gt;</span><span class="n">AXESS</span><span class="o">&lt;/</span><span class="n">CARD_PROGRAM_NAME</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ORDER_REF</span><span class="o">&gt;</span><span class="mi">84525</span><span class="o">&lt;/</span><span class="n">ORDER_REF</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">AUTH_CODE</span><span class="o">&gt;</span><span class="mi">342871</span><span class="o">&lt;/</span><span class="n">AUTH_CODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RRN</span><span class="o">&gt;</span><span class="mi">727716199932</span><span class="o">&lt;/</span><span class="n">RRN</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ERRORMESSAGE</span><span class="o">&gt;</span><span class="n">Approved</span><span class="o">.&lt;/</span><span class="n">ERRORMESSAGE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">PROCRETURNCODE</span><span class="o">&gt;</span><span class="mo">00</span><span class="o">&lt;/</span><span class="n">PROCRETURNCODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">BANK_MERCHANT_ID</span><span class="o">&gt;</span><span class="mi">100100000</span><span class="o">&lt;/</span><span class="n">BANK_MERCHANT_ID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">PAN</span><span class="o">&gt;</span><span class="mi">4355</span><span class="o">-</span><span class="n">xxxx</span><span class="o">-</span><span class="n">xxxx</span><span class="o">-</span><span class="mi">4358</span><span class="o">&lt;/</span><span class="n">PAN</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">EXPYEAR</span><span class="o">&gt;</span><span class="mi">18</span><span class="o">&lt;/</span><span class="n">EXPYEAR</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">EXPMONTH</span><span class="o">&gt;</span><span class="mi">12</span><span class="o">&lt;/</span><span class="n">EXPMONTH</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">CLIENTID</span><span class="o">&gt;</span><span class="mi">100100000</span><span class="o">&lt;/</span><span class="n">CLIENTID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">HOSTREFNUM</span><span class="o">&gt;</span><span class="mi">727716199932</span><span class="o">&lt;/</span><span class="n">HOSTREFNUM</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">OID</span><span class="o">&gt;</span><span class="mi">41652325</span><span class="o">&lt;/</span><span class="n">OID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RESPONSE</span><span class="o">&gt;</span><span class="n">Approved</span><span class="o">&lt;/</span><span class="n">RESPONSE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">TERMINAL_BANK</span><span class="o">&gt;</span><span class="n">AKBA</span><span class="o">&lt;/</span><span class="n">TERMINAL_BANK</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">MDSTATUS</span><span class="o">&gt;&lt;/</span><span class="n">MDSTATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">MDERRORMSG</span><span class="o">&gt;&lt;/</span><span class="n">MDERRORMSG</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">TXSTATUS</span><span class="o">&gt;&lt;/</span><span class="n">TXSTATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">XID</span><span class="o">&gt;&lt;/</span><span class="n">XID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ECI</span><span class="o">&gt;&lt;/</span><span class="n">ECI</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">CAVV</span><span class="o">&gt;&lt;/</span><span class="n">CAVV</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">TRANSID</span><span class="o">&gt;</span><span class="mi">17277</span><span class="n">QmKG10275</span><span class="o">&lt;/</span><span class="n">TRANSID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">HASH</span><span class="o">&gt;</span><span class="n">f1c2e330b1ecad927969b679097d647c</span><span class="o">&lt;/</span><span class="n">HASH</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">EPAYMENT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">REFNO</span><span class="o">&gt;</span><span class="mi">41652325</span><span class="o">&lt;</span><span class="sr">/REFNO</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ALIAS</span><span class="o">&gt;</span><span class="mi">3</span><span class="nx">a9d9b9663a50a9ed0f545152320c9fb</span><span class="o">&lt;</span><span class="sr">/ALIAS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">STATUS</span><span class="o">&gt;</span><span class="nx">SUCCESS</span><span class="o">&lt;</span><span class="sr">/STATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RETURN_CODE</span><span class="o">&gt;</span><span class="nx">AUTHORIZED</span><span class="o">&lt;</span><span class="sr">/RETURN_CODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="nx">Authorized</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/RETURN_MESSAGE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">04</span> <span class="mi">16</span><span class="p">:</span><span class="mi">38</span><span class="p">:</span><span class="mi">11</span><span class="o">&lt;</span><span class="sr">/DATE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">AMOUNT</span><span class="o">&gt;</span><span class="mf">10.9</span><span class="o">&lt;</span><span class="sr">/AMOUNT</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">CURRENCY</span><span class="o">&gt;</span><span class="nx">TRY</span><span class="o">&lt;</span><span class="sr">/CURRENCY</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">INSTALLMENTS_NO</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&lt;</span><span class="sr">/INSTALLMENTS_NO</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">CARD_PROGRAM_NAME</span><span class="o">&gt;</span><span class="nx">AXESS</span><span class="o">&lt;</span><span class="sr">/CARD_PROGRAM_NAME</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ORDER_REF</span><span class="o">&gt;</span><span class="mi">84525</span><span class="o">&lt;</span><span class="sr">/ORDER_REF</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">AUTH_CODE</span><span class="o">&gt;</span><span class="mi">342871</span><span class="o">&lt;</span><span class="sr">/AUTH_CODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RRN</span><span class="o">&gt;</span><span class="mi">727716199932</span><span class="o">&lt;</span><span class="sr">/RRN</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ERRORMESSAGE</span><span class="o">&gt;</span><span class="nx">Approved</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/ERRORMESSAGE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">PROCRETURNCODE</span><span class="o">&gt;</span><span class="mi">00</span><span class="o">&lt;</span><span class="sr">/PROCRETURNCODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">BANK_MERCHANT_ID</span><span class="o">&gt;</span><span class="mi">100100000</span><span class="o">&lt;</span><span class="sr">/BANK_MERCHANT_ID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">PAN</span><span class="o">&gt;</span><span class="mi">4355</span><span class="o">-</span><span class="nx">xxxx</span><span class="o">-</span><span class="nx">xxxx</span><span class="o">-</span><span class="mi">4358</span><span class="o">&lt;</span><span class="sr">/PAN</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">EXPYEAR</span><span class="o">&gt;</span><span class="mi">18</span><span class="o">&lt;</span><span class="sr">/EXPYEAR</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">EXPMONTH</span><span class="o">&gt;</span><span class="mi">12</span><span class="o">&lt;</span><span class="sr">/EXPMONTH</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">CLIENTID</span><span class="o">&gt;</span><span class="mi">100100000</span><span class="o">&lt;</span><span class="sr">/CLIENTID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">HOSTREFNUM</span><span class="o">&gt;</span><span class="mi">727716199932</span><span class="o">&lt;</span><span class="sr">/HOSTREFNUM</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">OID</span><span class="o">&gt;</span><span class="mi">41652325</span><span class="o">&lt;</span><span class="sr">/OID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RESPONSE</span><span class="o">&gt;</span><span class="nx">Approved</span><span class="o">&lt;</span><span class="sr">/RESPONSE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">TERMINAL_BANK</span><span class="o">&gt;</span><span class="nx">AKBA</span><span class="o">&lt;</span><span class="sr">/TERMINAL_BANK</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">MDSTATUS</span><span class="o">&gt;&lt;</span><span class="sr">/MDSTATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">MDERRORMSG</span><span class="o">&gt;&lt;</span><span class="sr">/MDERRORMSG</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">TXSTATUS</span><span class="o">&gt;&lt;</span><span class="sr">/TXSTATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">XID</span><span class="o">&gt;&lt;</span><span class="sr">/XID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ECI</span><span class="o">&gt;&lt;</span><span class="sr">/ECI</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">CAVV</span><span class="o">&gt;&lt;</span><span class="sr">/CAVV</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">TRANSID</span><span class="o">&gt;</span><span class="mi">17277</span><span class="nx">QmKG10275</span><span class="o">&lt;</span><span class="sr">/TRANSID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">HASH</span><span class="o">&gt;</span><span class="nx">f1c2e330b1ecad927969b679097d647c</span><span class="o">&lt;</span><span class="sr">/HASH</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/EPAYMENT</span><span class="err">&gt;
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="p">&lt;</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">REFNO</span><span class="p">&gt;</span><span class="m">41652325</span><span class="p">&lt;/</span><span class="n">REFNO</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ALIAS</span><span class="p">&gt;</span><span class="m">3</span><span class="n">a9d9b9663a50a9ed0f545152320c9fb</span><span class="p">&lt;/</span><span class="n">ALIAS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">STATUS</span><span class="p">&gt;</span><span class="n">SUCCESS</span><span class="p">&lt;/</span><span class="n">STATUS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RETURN_CODE</span><span class="p">&gt;</span><span class="n">AUTHORIZED</span><span class="p">&lt;/</span><span class="n">RETURN_CODE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RETURN_MESSAGE</span><span class="p">&gt;</span><span class="n">Authorized</span><span class="p">.&lt;/</span><span class="n">RETURN_MESSAGE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">DATE</span><span class="p">&gt;</span><span class="m">2017</span><span class="p">-</span><span class="m">10</span><span class="p">-</span><span class="m">04</span> <span class="m">16</span><span class="p">:</span><span class="m">38</span><span class="p">:</span><span class="m">11</span><span class="p">&lt;/</span><span class="n">DATE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">AMOUNT</span><span class="p">&gt;</span><span class="m">10.9</span><span class="p">&lt;/</span><span class="n">AMOUNT</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">CURRENCY</span><span class="p">&gt;</span><span class="n">TRY</span><span class="p">&lt;/</span><span class="n">CURRENCY</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">INSTALLMENTS_NO</span><span class="p">&gt;</span><span class="m">1</span><span class="p">&lt;/</span><span class="n">INSTALLMENTS_NO</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">CARD_PROGRAM_NAME</span><span class="p">&gt;</span><span class="n">AXESS</span><span class="p">&lt;/</span><span class="n">CARD_PROGRAM_NAME</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ORDER_REF</span><span class="p">&gt;</span><span class="m">84525</span><span class="p">&lt;/</span><span class="n">ORDER_REF</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">AUTH_CODE</span><span class="p">&gt;</span><span class="m">342871</span><span class="p">&lt;/</span><span class="n">AUTH_CODE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RRN</span><span class="p">&gt;</span><span class="m">727716199932</span><span class="p">&lt;/</span><span class="n">RRN</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ERRORMESSAGE</span><span class="p">&gt;</span><span class="n">Approved</span><span class="p">.&lt;/</span><span class="n">ERRORMESSAGE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">PROCRETURNCODE</span><span class="p">&gt;</span><span class="m">00</span><span class="p">&lt;/</span><span class="n">PROCRETURNCODE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">BANK_MERCHANT_ID</span><span class="p">&gt;</span><span class="m">100100000</span><span class="p">&lt;/</span><span class="n">BANK_MERCHANT_ID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">PAN</span><span class="p">&gt;</span><span class="m">4355</span><span class="p">-</span><span class="n">xxxx</span><span class="p">-</span><span class="n">xxxx</span><span class="p">-</span><span class="m">4358</span><span class="p">&lt;/</span><span class="n">PAN</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">EXPYEAR</span><span class="p">&gt;</span><span class="m">18</span><span class="p">&lt;/</span><span class="n">EXPYEAR</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">EXPMONTH</span><span class="p">&gt;</span><span class="m">12</span><span class="p">&lt;/</span><span class="n">EXPMONTH</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">CLIENTID</span><span class="p">&gt;</span><span class="m">100100000</span><span class="p">&lt;/</span><span class="n">CLIENTID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">HOSTREFNUM</span><span class="p">&gt;</span><span class="m">727716199932</span><span class="p">&lt;/</span><span class="n">HOSTREFNUM</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">OID</span><span class="p">&gt;</span><span class="m">41652325</span><span class="p">&lt;/</span><span class="n">OID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RESPONSE</span><span class="p">&gt;</span><span class="n">Approved</span><span class="p">&lt;/</span><span class="n">RESPONSE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">TERMINAL_BANK</span><span class="p">&gt;</span><span class="n">AKBA</span><span class="p">&lt;/</span><span class="n">TERMINAL_BANK</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">MDSTATUS</span><span class="p">&gt;&lt;/</span><span class="n">MDSTATUS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">MDERRORMSG</span><span class="p">&gt;&lt;/</span><span class="n">MDERRORMSG</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">TXSTATUS</span><span class="p">&gt;&lt;/</span><span class="n">TXSTATUS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">XID</span><span class="p">&gt;&lt;/</span><span class="n">XID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ECI</span><span class="p">&gt;&lt;/</span><span class="n">ECI</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">CAVV</span><span class="p">&gt;&lt;/</span><span class="n">CAVV</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">TRANSID</span><span class="p">&gt;</span><span class="m">17277</span><span class="n">QmKG10275</span><span class="p">&lt;/</span><span class="n">TRANSID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">HASH</span><span class="p">&gt;</span><span class="n">f1c2e330b1ecad927969b679097d647c</span><span class="p">&lt;/</span><span class="n">HASH</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
</code></pre>
<blockquote>
<p><strong>STATUS Parametresinin alabileceği değerler</strong></p>

<p>SUCCESS – Başarılı otorizasyon işlem sonucu</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="nt">&lt;STATUS&gt;</span>SUCCESS<span class="nt">&lt;/STATUS&gt;</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">STATUS</span><span class="o">&gt;</span><span class="nx">SUCCESS</span><span class="o">&lt;</span><span class="sr">/STATUS</span><span class="err">&gt;
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="p">&lt;</span><span class="n">STATUS</span><span class="p">&gt;</span><span class="n">SUCCESS</span><span class="p">&lt;/</span><span class="n">STATUS</span><span class="p">&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="o">&lt;</span><span class="n">STATUS</span><span class="o">&gt;</span><span class="n">SUCCESS</span><span class="o">&lt;/</span><span class="n">STATUS</span><span class="o">&gt;</span>
</code></pre>
<blockquote>
<p>FAILED – Otorizasyonun başarı ile yapılamadığı durumlarda dönen değerdir.(Yetersiz bakiye,fraud vb.)</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="nt">&lt;STATUS&gt;</span>FAILED<span class="nt">&lt;/STATUS&gt;</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">STATUS</span><span class="o">&gt;</span><span class="nx">FAILED</span><span class="o">&lt;</span><span class="sr">/STATUS</span><span class="err">&gt;
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="p">&lt;</span><span class="n">STATUS</span><span class="p">&gt;</span><span class="n">FAILED</span><span class="p">&lt;/</span><span class="n">STATUS</span><span class="p">&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="o">&lt;</span><span class="n">STATUS</span><span class="o">&gt;</span><span class="n">FAILED</span><span class="o">&lt;/</span><span class="n">STATUS</span><span class="o">&gt;</span>
</code></pre>
<blockquote>
<p>INPUT_ERROR – Request gönderilirken zorunlu parametrelerin eksik veya hatalı gönderilmesinden kaynaklanan bir hatadır.</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="nt">&lt;STATUS&gt;</span>INPUT_ERROR<span class="nt">&lt;/STATUS&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="o">&lt;</span><span class="n">STATUS</span><span class="o">&gt;</span><span class="n">INPUT_ERROR</span><span class="o">&lt;/</span><span class="n">STATUS</span><span class="o">&gt;</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">STATUS</span><span class="o">&gt;</span><span class="nx">INPUT_ERROR</span><span class="o">&lt;</span><span class="sr">/STATUS</span><span class="err">&gt;
</span></code></pre><pre class="highlight plaintext"><code>&lt;STATUS&gt;INPUT_ERROR&lt;/STATUS&gt;
</code></pre>
<blockquote>
<p><strong>RETURN_CODE Parametresinin alabileceği değerler</strong></p>

<p>AUTHORIZED – Otorizasyonun başarı ile tamamlandığını belirtilen işlem sonucu**</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="nt">&lt;EPAYMENT&gt;</span>
    <span class="nt">&lt;REFNO&gt;</span>41464560<span class="nt">&lt;/REFNO&gt;</span>
    <span class="nt">&lt;ALIAS&gt;</span>9592b7736c9e277fea8cc79c2e5b5a23<span class="nt">&lt;/ALIAS&gt;</span>
    <span class="nt">&lt;STATUS&gt;</span>SUCCESS<span class="nt">&lt;/STATUS&gt;</span>
    <span class="nt">&lt;RETURN</span><span class="na">_CODE</span><span class="nt">&gt;</span>AUTHORIZED<span class="err">&lt;</span>/RETURN_CODE&gt;
    <span class="nt">&lt;RETURN</span><span class="na">_MESSAGE</span><span class="nt">&gt;</span>Authorized.<span class="err">&lt;</span>/RETURN_MESSAGE&gt;
    <span class="nt">&lt;DATE&gt;</span>2017-10-04 15:20:21<span class="nt">&lt;/DATE&gt;</span>
    <span class="nt">&lt;ORDER</span><span class="na">_REF</span><span class="nt">&gt;</span>7305<span class="err">&lt;</span>/ORDER_REF&gt;
    <span class="nt">&lt;AUTH</span><span class="na">_CODE</span><span class="nt">&gt;</span>13157TUlA15117<span class="err">&lt;</span>/AUTH_CODE&gt;
    <span class="nt">&lt;HASH&gt;</span>b560a38e2b3e7bcbac328bbd6218bc60<span class="nt">&lt;/HASH&gt;</span>
<span class="nt">&lt;/EPAYMENT&gt;</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">EPAYMENT</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">REFNO</span><span class="o">&gt;</span><span class="mi">41464560</span><span class="o">&lt;</span><span class="sr">/REFNO</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">ALIAS</span><span class="o">&gt;</span><span class="mi">9592</span><span class="nx">b7736c9e277fea8cc79c2e5b5a23</span><span class="o">&lt;</span><span class="sr">/ALIAS</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">STATUS</span><span class="o">&gt;</span><span class="nx">SUCCESS</span><span class="o">&lt;</span><span class="sr">/STATUS</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">RETURN_CODE</span><span class="o">&gt;</span><span class="nx">AUTHORIZED</span><span class="o">&lt;</span><span class="sr">/RETURN_CODE</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="nx">Authorized</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/RETURN_MESSAGE</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">04</span> <span class="mi">15</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">21</span><span class="o">&lt;</span><span class="sr">/DATE</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">ORDER_REF</span><span class="o">&gt;</span><span class="mi">7305</span><span class="o">&lt;</span><span class="sr">/ORDER_REF</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">AUTH_CODE</span><span class="o">&gt;</span><span class="mi">13157</span><span class="nx">TUlA15117</span><span class="o">&lt;</span><span class="sr">/AUTH_CODE</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">HASH</span><span class="o">&gt;</span><span class="nx">b560a38e2b3e7bcbac328bbd6218bc60</span><span class="o">&lt;</span><span class="sr">/HASH</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/EPAYMENT</span><span class="err">&gt;
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="p">&lt;</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="n">REFNO</span><span class="p">&gt;</span><span class="m">41464560</span><span class="p">&lt;/</span><span class="n">REFNO</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="n">ALIAS</span><span class="p">&gt;</span><span class="m">9592</span><span class="n">b7736c9e277fea8cc79c2e5b5a23</span><span class="p">&lt;/</span><span class="n">ALIAS</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="n">STATUS</span><span class="p">&gt;</span><span class="n">SUCCESS</span><span class="p">&lt;/</span><span class="n">STATUS</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="n">RETURN_CODE</span><span class="p">&gt;</span><span class="n">AUTHORIZED</span><span class="p">&lt;/</span><span class="n">RETURN_CODE</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="n">RETURN_MESSAGE</span><span class="p">&gt;</span><span class="n">Authorized</span><span class="p">.&lt;/</span><span class="n">RETURN_MESSAGE</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="n">DATE</span><span class="p">&gt;</span><span class="m">2017</span><span class="p">-</span><span class="m">10</span><span class="p">-</span><span class="m">04</span> <span class="m">15</span><span class="p">:</span><span class="m">20</span><span class="p">:</span><span class="m">21</span><span class="p">&lt;/</span><span class="n">DATE</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="n">ORDER_REF</span><span class="p">&gt;</span><span class="m">7305</span><span class="p">&lt;/</span><span class="n">ORDER_REF</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="n">AUTH_CODE</span><span class="p">&gt;</span><span class="m">13157</span><span class="n">TUlA15117</span><span class="p">&lt;/</span><span class="n">AUTH_CODE</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="n">HASH</span><span class="p">&gt;</span><span class="n">b560a38e2b3e7bcbac328bbd6218bc60</span><span class="p">&lt;/</span><span class="n">HASH</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="o">&lt;</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">REFNO</span><span class="o">&gt;</span><span class="mi">41464560</span><span class="o">&lt;/</span><span class="n">REFNO</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ALIAS</span><span class="o">&gt;</span><span class="mi">9592</span><span class="n">b7736c9e277fea8cc79c2e5b5a23</span><span class="o">&lt;/</span><span class="n">ALIAS</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">STATUS</span><span class="o">&gt;</span><span class="n">SUCCESS</span><span class="o">&lt;/</span><span class="n">STATUS</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span><span class="n">AUTHORIZED</span><span class="o">&lt;/</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="n">Authorized</span><span class="o">.&lt;/</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mo">04</span> <span class="mi">15</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">21</span><span class="o">&lt;/</span><span class="n">DATE</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ORDER_REF</span><span class="o">&gt;</span><span class="mi">7305</span><span class="o">&lt;/</span><span class="n">ORDER_REF</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">AUTH_CODE</span><span class="o">&gt;</span><span class="mi">13157</span><span class="n">TUlA15117</span><span class="o">&lt;/</span><span class="n">AUTH_CODE</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">HASH</span><span class="o">&gt;</span><span class="n">b560a38e2b3e7bcbac328bbd6218bc60</span><span class="o">&lt;/</span><span class="n">HASH</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
</code></pre>
<blockquote>
<p>3DS_ENROLLED – Otorizasyonun tamamlanablilmesi için işlemi 3D Secure sayfasına yönlendirecek olan <url_3ds> parametresini dönen fonksiyonun değeridir.</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="nt">&lt;EPAYMENT&gt;</span>
  <span class="nt">&lt;REFNO&gt;</span>41464560<span class="nt">&lt;/REFNO&gt;</span>
  <span class="nt">&lt;ALIAS&gt;</span>848a62efa487d6b75a0eca5654cc4099<span class="nt">&lt;/ALIAS&gt;</span>
  <span class="nt">&lt;STATUS&gt;</span>SUCCESS<span class="nt">&lt;/STATUS&gt;</span>
  <span class="nt">&lt;RETURN</span><span class="na">_CODE</span><span class="nt">&gt;</span>3DS_ENROLLED<span class="err">&lt;</span>/RETURN_CODE&gt;
  <span class="nt">&lt;RETURN</span><span class="na">_MESSAGE</span><span class="nt">&gt;</span>3DS Enrolled Card.<span class="err">&lt;</span>/RETURN_MESSAGE&gt;
  <span class="nt">&lt;DATE&gt;</span>2017-10-04 15:20:21<span class="nt">&lt;/DATE&gt;</span>
  <span class="nt">&lt;URL</span><span class="na">_3DS</span><span class="nt">&gt;</span>https://secure.payu.com.tr/order/3ds/begin/refno/41464560/sign/b2968234be8cd88a63b0f5999b07d783/<span class="err">&lt;</span>/URL_3DS&gt;
  <span class="nt">&lt;HASH&gt;</span>46b1dcfcda8166ea33582fa2d3da6abb<span class="nt">&lt;/HASH&gt;</span>
<span class="nt">&lt;/EPAYMENT&gt;</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">EPAYMENT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">REFNO</span><span class="o">&gt;</span><span class="mi">41464560</span><span class="o">&lt;</span><span class="sr">/REFNO</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ALIAS</span><span class="o">&gt;</span><span class="mi">848</span><span class="nx">a62efa487d6b75a0eca5654cc4099</span><span class="o">&lt;</span><span class="sr">/ALIAS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">STATUS</span><span class="o">&gt;</span><span class="nx">SUCCESS</span><span class="o">&lt;</span><span class="sr">/STATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RETURN_CODE</span><span class="o">&gt;</span><span class="mi">3</span><span class="nx">DS_ENROLLED</span><span class="o">&lt;</span><span class="sr">/RETURN_CODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="mi">3</span><span class="nx">DS</span> <span class="nx">Enrolled</span> <span class="nx">Card</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/RETURN_MESSAGE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">04</span> <span class="mi">15</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">21</span><span class="o">&lt;</span><span class="sr">/DATE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">URL_3DS</span><span class="o">&gt;</span><span class="nx">https</span><span class="p">:</span><span class="c1">//secure.payu.com.tr/order/3ds/begin/refno/41464560/sign/b2968234be8cd88a63b0f5999b07d783/&lt;/URL_3DS&gt;</span>
  <span class="o">&lt;</span><span class="nx">HASH</span><span class="o">&gt;</span><span class="mi">46</span><span class="nx">b1dcfcda8166ea33582fa2d3da6abb</span><span class="o">&lt;</span><span class="sr">/HASH</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/EPAYMENT</span><span class="err">&gt;
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="p">&lt;</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">REFNO</span><span class="p">&gt;</span><span class="m">41464560</span><span class="p">&lt;/</span><span class="n">REFNO</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ALIAS</span><span class="p">&gt;</span><span class="m">848</span><span class="n">a62efa487d6b75a0eca5654cc4099</span><span class="p">&lt;/</span><span class="n">ALIAS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">STATUS</span><span class="p">&gt;</span><span class="n">SUCCESS</span><span class="p">&lt;/</span><span class="n">STATUS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RETURN_CODE</span><span class="p">&gt;</span><span class="m">3D</span><span class="n">S_ENROLLED</span><span class="p">&lt;/</span><span class="n">RETURN_CODE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RETURN_MESSAGE</span><span class="p">&gt;</span><span class="m">3D</span><span class="n">S</span> <span class="n">Enrolled</span> <span class="n">Card</span><span class="p">.&lt;/</span><span class="n">RETURN_MESSAGE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">DATE</span><span class="p">&gt;</span><span class="m">2017</span><span class="p">-</span><span class="m">10</span><span class="p">-</span><span class="m">04</span> <span class="m">15</span><span class="p">:</span><span class="m">20</span><span class="p">:</span><span class="m">21</span><span class="p">&lt;/</span><span class="n">DATE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">URL_3DS</span><span class="p">&gt;</span><span class="n">https</span><span class="p">:</span><span class="c1">//secure.payu.com.tr/order/3ds/begin/refno/41464560/sign/b2968234be8cd88a63b0f5999b07d783/&lt;/URL_3DS&gt;</span>
  <span class="p">&lt;</span><span class="n">HASH</span><span class="p">&gt;</span><span class="m">46</span><span class="n">b1dcfcda8166ea33582fa2d3da6abb</span><span class="p">&lt;/</span><span class="n">HASH</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="o">&lt;</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">REFNO</span><span class="o">&gt;</span><span class="mi">41464560</span><span class="o">&lt;/</span><span class="n">REFNO</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ALIAS</span><span class="o">&gt;</span><span class="mi">848</span><span class="n">a62efa487d6b75a0eca5654cc4099</span><span class="o">&lt;/</span><span class="n">ALIAS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">STATUS</span><span class="o">&gt;</span><span class="n">SUCCESS</span><span class="o">&lt;/</span><span class="n">STATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span><span class="mi">3</span><span class="n">DS_ENROLLED</span><span class="o">&lt;/</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="mi">3</span><span class="n">DS</span> <span class="n">Enrolled</span> <span class="n">Card</span><span class="o">.&lt;/</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mo">04</span> <span class="mi">15</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">21</span><span class="o">&lt;/</span><span class="n">DATE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">URL_3DS</span><span class="o">&gt;</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">secure</span><span class="o">.</span><span class="n">payu</span><span class="o">.</span><span class="n">com</span><span class="o">.</span><span class="n">tr</span><span class="o">/</span><span class="n">order</span><span class="o">/</span><span class="mi">3</span><span class="n">ds</span><span class="o">/</span><span class="n">begin</span><span class="o">/</span><span class="n">refno</span><span class="o">/</span><span class="mi">41464560</span><span class="o">/</span><span class="n">sign</span><span class="o">/</span><span class="n">b2968234be8cd88a63b0f5999b07d783</span><span class="o">/&lt;/</span><span class="n">URL_3DS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">HASH</span><span class="o">&gt;</span><span class="mi">46</span><span class="n">b1dcfcda8166ea33582fa2d3da6abb</span><span class="o">&lt;/</span><span class="n">HASH</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
</code></pre>
<blockquote>
<p>INVALID_ACCOUNT – Üye işyeri isminin (Merchant ID) hatalı ya da eksik gönderilmesi durumunda dönen değerdir.</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="nt">&lt;EPAYMENT&gt;</span>
  <span class="nt">&lt;REFNO&gt;&lt;/REFNO&gt;</span>
  <span class="nt">&lt;ALIAS&gt;&lt;/ALIAS&gt;</span>
  <span class="nt">&lt;STATUS&gt;</span>INPUT_ERROR<span class="nt">&lt;/STATUS&gt;</span>
  <span class="nt">&lt;RETURN</span><span class="na">_CODE</span><span class="nt">&gt;</span>INVALID_ACCOUNT<span class="err">&lt;</span>/RETURN_CODE&gt;
  <span class="nt">&lt;RETURN</span><span class="na">_MESSAGE</span><span class="nt">&gt;</span>Invalid account: 3DTRTEST<span class="err">&lt;</span>/RETURN_MESSAGE&gt;
  <span class="nt">&lt;DATE&gt;</span>2017-10-04 15:20:21<span class="nt">&lt;/DATE&gt;</span>
  <span class="nt">&lt;ORDER</span><span class="na">_REF</span><span class="nt">&gt;</span><span class="err">&lt;</span>/ORDER_REF&gt;
  <span class="nt">&lt;AUTH</span><span class="na">_CODE</span><span class="nt">&gt;</span><span class="err">&lt;</span>/AUTH_CODE&gt;
  <span class="nt">&lt;RRN&gt;&lt;/RRN&gt;</span>
  <span class="nt">&lt;HASH&gt;&lt;/HASH&gt;</span>
<span class="nt">&lt;/EPAYMENT&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="o">&lt;</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">REFNO</span><span class="o">&gt;&lt;/</span><span class="n">REFNO</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ALIAS</span><span class="o">&gt;&lt;/</span><span class="n">ALIAS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">STATUS</span><span class="o">&gt;</span><span class="n">INPUT_ERROR</span><span class="o">&lt;/</span><span class="n">STATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span><span class="n">INVALID_ACCOUNT</span><span class="o">&lt;/</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="n">Invalid</span> <span class="n">account</span><span class="p">:</span> <span class="mi">3</span><span class="n">DTRTEST</span><span class="o">&lt;/</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mo">04</span> <span class="mi">15</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">21</span><span class="o">&lt;/</span><span class="n">DATE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ORDER_REF</span><span class="o">&gt;&lt;/</span><span class="n">ORDER_REF</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">AUTH_CODE</span><span class="o">&gt;&lt;/</span><span class="n">AUTH_CODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RRN</span><span class="o">&gt;&lt;/</span><span class="n">RRN</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">HASH</span><span class="o">&gt;&lt;/</span><span class="n">HASH</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">EPAYMENT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">REFNO</span><span class="o">&gt;&lt;</span><span class="sr">/REFNO</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ALIAS</span><span class="o">&gt;&lt;</span><span class="sr">/ALIAS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">STATUS</span><span class="o">&gt;</span><span class="nx">INPUT_ERROR</span><span class="o">&lt;</span><span class="sr">/STATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RETURN_CODE</span><span class="o">&gt;</span><span class="nx">INVALID_ACCOUNT</span><span class="o">&lt;</span><span class="sr">/RETURN_CODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="nx">Invalid</span> <span class="nx">account</span><span class="p">:</span> <span class="mi">3</span><span class="nx">DTRTEST</span><span class="o">&lt;</span><span class="sr">/RETURN_MESSAGE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">04</span> <span class="mi">15</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">21</span><span class="o">&lt;</span><span class="sr">/DATE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ORDER_REF</span><span class="o">&gt;&lt;</span><span class="sr">/ORDER_REF</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">AUTH_CODE</span><span class="o">&gt;&lt;</span><span class="sr">/AUTH_CODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RRN</span><span class="o">&gt;&lt;</span><span class="sr">/RRN</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">HASH</span><span class="o">&gt;&lt;</span><span class="sr">/HASH</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/EPAYMENT</span><span class="err">&gt;
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="p">&lt;</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">REFNO</span><span class="p">&gt;&lt;/</span><span class="n">REFNO</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ALIAS</span><span class="p">&gt;&lt;/</span><span class="n">ALIAS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">STATUS</span><span class="p">&gt;</span><span class="n">INPUT_ERROR</span><span class="p">&lt;/</span><span class="n">STATUS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RETURN_CODE</span><span class="p">&gt;</span><span class="n">INVALID_ACCOUNT</span><span class="p">&lt;/</span><span class="n">RETURN_CODE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RETURN_MESSAGE</span><span class="p">&gt;</span><span class="n">Invalid</span> <span class="n">account</span><span class="p">:</span> <span class="m">3D</span><span class="n">TRTEST</span><span class="p">&lt;/</span><span class="n">RETURN_MESSAGE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">DATE</span><span class="p">&gt;</span><span class="m">2017</span><span class="p">-</span><span class="m">10</span><span class="p">-</span><span class="m">04</span> <span class="m">15</span><span class="p">:</span><span class="m">20</span><span class="p">:</span><span class="m">21</span><span class="p">&lt;/</span><span class="n">DATE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ORDER_REF</span><span class="p">&gt;&lt;/</span><span class="n">ORDER_REF</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">AUTH_CODE</span><span class="p">&gt;&lt;/</span><span class="n">AUTH_CODE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RRN</span><span class="p">&gt;&lt;/</span><span class="n">RRN</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">HASH</span><span class="p">&gt;&lt;/</span><span class="n">HASH</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
</code></pre>
<blockquote>
<p>HASH_MISMATCH – Üye işyeri tarafında yanlış hash hesaplama sonucu PayU tarafındaki hash ile eşleşmemesi sonucunda alınan hatadır.</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="nt">&lt;EPAYMENT&gt;</span>
  <span class="nt">&lt;REFNO&gt;&lt;/REFNO&gt;</span>
  <span class="nt">&lt;ALIAS&gt;&lt;/ALIAS&gt;</span>
  <span class="nt">&lt;STATUS&gt;</span>INPUT_ERROR<span class="nt">&lt;/STATUS&gt;</span>
  <span class="nt">&lt;RETURN</span><span class="na">_CODE</span><span class="nt">&gt;</span>HASH_MISMATCH<span class="err">&lt;</span>/RETURN_CODE&gt;
  <span class="nt">&lt;RETURN</span><span class="na">_MESSAGE</span><span class="nt">&gt;</span>Hash mismatch<span class="err">&lt;</span>/RETURN_MESSAGE&gt;
  <span class="nt">&lt;DATE&gt;</span>2017-10-04 15:20:21<span class="nt">&lt;/DATE&gt;</span>
  <span class="nt">&lt;ORDER</span><span class="na">_REF</span><span class="nt">&gt;</span><span class="err">&lt;</span>/ORDER_REF&gt;
  <span class="nt">&lt;AUTH</span><span class="na">_CODE</span><span class="nt">&gt;</span><span class="err">&lt;</span>/AUTH_CODE&gt;
  <span class="nt">&lt;RRN&gt;&lt;/RRN&gt;</span>
  <span class="nt">&lt;PROCRETURNCODE&gt;&lt;/PROCRETURNCODE&gt;</span>
  <span class="nt">&lt;ERRORMESSAGE&gt;&lt;/ERRORMESSAGE&gt;</span>
  <span class="nt">&lt;BANK</span><span class="na">_MERCHANT_ID</span><span class="nt">&gt;</span><span class="err">&lt;</span>/BANK_MERCHANT_ID&gt;
  <span class="nt">&lt;PAN&gt;&lt;/PAN&gt;</span>
  <span class="nt">&lt;EXPYEAR&gt;&lt;/EXPYEAR&gt;</span>
  <span class="nt">&lt;EXPMONTH&gt;&lt;/EXPMONTH&gt;</span>
  <span class="nt">&lt;CLIENTID&gt;&lt;/CLIENTID&gt;</span>
  <span class="nt">&lt;HOSTREFNUM&gt;&lt;/HOSTREFNUM&gt;</span>
  <span class="nt">&lt;OID&gt;&lt;/OID&gt;</span>
  <span class="nt">&lt;RESPONSE&gt;&lt;/RESPONSE&gt;</span>
  <span class="nt">&lt;TERMINAL</span><span class="na">_BANK</span><span class="nt">&gt;</span><span class="err">&lt;</span>/TERMINAL_BANK&gt;
  <span class="nt">&lt;MDSTATUS&gt;&lt;/MDSTATUS&gt;</span>
  <span class="nt">&lt;MDERRORMSG&gt;&lt;/MDERRORMSG&gt;</span>
  <span class="nt">&lt;TXSTATUS&gt;&lt;/TXSTATUS&gt;</span>
  <span class="nt">&lt;XID&gt;&lt;/XID&gt;</span>
  <span class="nt">&lt;ECI&gt;&lt;/ECI&gt;</span>
  <span class="nt">&lt;CAVV&gt;&lt;/CAVV&gt;</span>
  <span class="nt">&lt;TRANSID&gt;&lt;/TRANSID&gt;</span>
  <span class="nt">&lt;HASH&gt;&lt;/HASH&gt;</span>
<span class="nt">&lt;/EPAYMENT&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="o">&lt;</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">REFNO</span><span class="o">&gt;&lt;/</span><span class="n">REFNO</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ALIAS</span><span class="o">&gt;&lt;/</span><span class="n">ALIAS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">STATUS</span><span class="o">&gt;</span><span class="n">INPUT_ERROR</span><span class="o">&lt;/</span><span class="n">STATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span><span class="n">HASH_MISMATCH</span><span class="o">&lt;/</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="n">Hash</span> <span class="n">mismatch</span><span class="o">&lt;/</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mo">04</span> <span class="mi">15</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">21</span><span class="o">&lt;/</span><span class="n">DATE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ORDER_REF</span><span class="o">&gt;&lt;/</span><span class="n">ORDER_REF</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">AUTH_CODE</span><span class="o">&gt;&lt;/</span><span class="n">AUTH_CODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RRN</span><span class="o">&gt;&lt;/</span><span class="n">RRN</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">PROCRETURNCODE</span><span class="o">&gt;&lt;/</span><span class="n">PROCRETURNCODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ERRORMESSAGE</span><span class="o">&gt;&lt;/</span><span class="n">ERRORMESSAGE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">BANK_MERCHANT_ID</span><span class="o">&gt;&lt;/</span><span class="n">BANK_MERCHANT_ID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">PAN</span><span class="o">&gt;&lt;/</span><span class="n">PAN</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">EXPYEAR</span><span class="o">&gt;&lt;/</span><span class="n">EXPYEAR</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">EXPMONTH</span><span class="o">&gt;&lt;/</span><span class="n">EXPMONTH</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">CLIENTID</span><span class="o">&gt;&lt;/</span><span class="n">CLIENTID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">HOSTREFNUM</span><span class="o">&gt;&lt;/</span><span class="n">HOSTREFNUM</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">OID</span><span class="o">&gt;&lt;/</span><span class="n">OID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RESPONSE</span><span class="o">&gt;&lt;/</span><span class="n">RESPONSE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">TERMINAL_BANK</span><span class="o">&gt;&lt;/</span><span class="n">TERMINAL_BANK</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">MDSTATUS</span><span class="o">&gt;&lt;/</span><span class="n">MDSTATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">MDERRORMSG</span><span class="o">&gt;&lt;/</span><span class="n">MDERRORMSG</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">TXSTATUS</span><span class="o">&gt;&lt;/</span><span class="n">TXSTATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">XID</span><span class="o">&gt;&lt;/</span><span class="n">XID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ECI</span><span class="o">&gt;&lt;/</span><span class="n">ECI</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">CAVV</span><span class="o">&gt;&lt;/</span><span class="n">CAVV</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">TRANSID</span><span class="o">&gt;&lt;/</span><span class="n">TRANSID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">HASH</span><span class="o">&gt;&lt;/</span><span class="n">HASH</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">EPAYMENT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">REFNO</span><span class="o">&gt;&lt;</span><span class="sr">/REFNO</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ALIAS</span><span class="o">&gt;&lt;</span><span class="sr">/ALIAS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">STATUS</span><span class="o">&gt;</span><span class="nx">INPUT_ERROR</span><span class="o">&lt;</span><span class="sr">/STATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RETURN_CODE</span><span class="o">&gt;</span><span class="nx">HASH_MISMATCH</span><span class="o">&lt;</span><span class="sr">/RETURN_CODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="nx">Hash</span> <span class="nx">mismatch</span><span class="o">&lt;</span><span class="sr">/RETURN_MESSAGE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">04</span> <span class="mi">15</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">21</span><span class="o">&lt;</span><span class="sr">/DATE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ORDER_REF</span><span class="o">&gt;&lt;</span><span class="sr">/ORDER_REF</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">AUTH_CODE</span><span class="o">&gt;&lt;</span><span class="sr">/AUTH_CODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RRN</span><span class="o">&gt;&lt;</span><span class="sr">/RRN</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">PROCRETURNCODE</span><span class="o">&gt;&lt;</span><span class="sr">/PROCRETURNCODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ERRORMESSAGE</span><span class="o">&gt;&lt;</span><span class="sr">/ERRORMESSAGE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">BANK_MERCHANT_ID</span><span class="o">&gt;&lt;</span><span class="sr">/BANK_MERCHANT_ID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">PAN</span><span class="o">&gt;&lt;</span><span class="sr">/PAN</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">EXPYEAR</span><span class="o">&gt;&lt;</span><span class="sr">/EXPYEAR</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">EXPMONTH</span><span class="o">&gt;&lt;</span><span class="sr">/EXPMONTH</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">CLIENTID</span><span class="o">&gt;&lt;</span><span class="sr">/CLIENTID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">HOSTREFNUM</span><span class="o">&gt;&lt;</span><span class="sr">/HOSTREFNUM</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">OID</span><span class="o">&gt;&lt;</span><span class="sr">/OID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RESPONSE</span><span class="o">&gt;&lt;</span><span class="sr">/RESPONSE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">TERMINAL_BANK</span><span class="o">&gt;&lt;</span><span class="sr">/TERMINAL_BANK</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">MDSTATUS</span><span class="o">&gt;&lt;</span><span class="sr">/MDSTATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">MDERRORMSG</span><span class="o">&gt;&lt;</span><span class="sr">/MDERRORMSG</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">TXSTATUS</span><span class="o">&gt;&lt;</span><span class="sr">/TXSTATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">XID</span><span class="o">&gt;&lt;</span><span class="sr">/XID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ECI</span><span class="o">&gt;&lt;</span><span class="sr">/ECI</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">CAVV</span><span class="o">&gt;&lt;</span><span class="sr">/CAVV</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">TRANSID</span><span class="o">&gt;&lt;</span><span class="sr">/TRANSID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">HASH</span><span class="o">&gt;&lt;</span><span class="sr">/HASH</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/EPAYMENT</span><span class="err">&gt;
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="p">&lt;</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">REFNO</span><span class="p">&gt;&lt;/</span><span class="n">REFNO</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ALIAS</span><span class="p">&gt;&lt;/</span><span class="n">ALIAS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">STATUS</span><span class="p">&gt;</span><span class="n">INPUT_ERROR</span><span class="p">&lt;/</span><span class="n">STATUS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RETURN_CODE</span><span class="p">&gt;</span><span class="n">HASH_MISMATCH</span><span class="p">&lt;/</span><span class="n">RETURN_CODE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RETURN_MESSAGE</span><span class="p">&gt;</span><span class="n">Hash</span> <span class="n">mismatch</span><span class="p">&lt;/</span><span class="n">RETURN_MESSAGE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">DATE</span><span class="p">&gt;</span><span class="m">2017</span><span class="p">-</span><span class="m">10</span><span class="p">-</span><span class="m">04</span> <span class="m">15</span><span class="p">:</span><span class="m">20</span><span class="p">:</span><span class="m">21</span><span class="p">&lt;/</span><span class="n">DATE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ORDER_REF</span><span class="p">&gt;&lt;/</span><span class="n">ORDER_REF</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">AUTH_CODE</span><span class="p">&gt;&lt;/</span><span class="n">AUTH_CODE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RRN</span><span class="p">&gt;&lt;/</span><span class="n">RRN</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">PROCRETURNCODE</span><span class="p">&gt;&lt;/</span><span class="n">PROCRETURNCODE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ERRORMESSAGE</span><span class="p">&gt;&lt;/</span><span class="n">ERRORMESSAGE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">BANK_MERCHANT_ID</span><span class="p">&gt;&lt;/</span><span class="n">BANK_MERCHANT_ID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">PAN</span><span class="p">&gt;&lt;/</span><span class="n">PAN</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">EXPYEAR</span><span class="p">&gt;&lt;/</span><span class="n">EXPYEAR</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">EXPMONTH</span><span class="p">&gt;&lt;/</span><span class="n">EXPMONTH</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">CLIENTID</span><span class="p">&gt;&lt;/</span><span class="n">CLIENTID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">HOSTREFNUM</span><span class="p">&gt;&lt;/</span><span class="n">HOSTREFNUM</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">OID</span><span class="p">&gt;&lt;/</span><span class="n">OID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RESPONSE</span><span class="p">&gt;&lt;/</span><span class="n">RESPONSE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">TERMINAL_BANK</span><span class="p">&gt;&lt;/</span><span class="n">TERMINAL_BANK</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">MDSTATUS</span><span class="p">&gt;&lt;/</span><span class="n">MDSTATUS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">MDERRORMSG</span><span class="p">&gt;&lt;/</span><span class="n">MDERRORMSG</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">TXSTATUS</span><span class="p">&gt;&lt;/</span><span class="n">TXSTATUS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">XID</span><span class="p">&gt;&lt;/</span><span class="n">XID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ECI</span><span class="p">&gt;&lt;/</span><span class="n">ECI</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">CAVV</span><span class="p">&gt;&lt;/</span><span class="n">CAVV</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">TRANSID</span><span class="p">&gt;&lt;/</span><span class="n">TRANSID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">HASH</span><span class="p">&gt;&lt;/</span><span class="n">HASH</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
</code></pre>
<blockquote>
<p>ORDER_TOO_OLD – Daha önce başarılı / başarısız işlem yapılmış bir ORDER_REF parametresi ile işlem denenmesi durumunda meydana gelmektedir.</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="nt">&lt;EPAYMENT&gt;</span>
  <span class="nt">&lt;REFNO&gt;&lt;/REFNO&gt;</span>
  <span class="nt">&lt;ALIAS&gt;&lt;/ALIAS&gt;</span>
  <span class="nt">&lt;STATUS&gt;</span>INPUT_ERROR<span class="nt">&lt;/STATUS&gt;</span>
  <span class="nt">&lt;RETURN</span><span class="na">_CODE</span><span class="nt">&gt;</span>ORDER_TOO_OLD<span class="err">&lt;</span>/RETURN_CODE&gt;
  <span class="nt">&lt;RETURN</span><span class="na">_MESSAGE</span><span class="nt">&gt;</span>Order is older than a week (2015-06-18 13:24:08)!<span class="err">&lt;</span>/RETURN_MESSAGE&gt;
  <span class="nt">&lt;DATE&gt;</span>2017-10-04 15:21:50<span class="nt">&lt;/DATE&gt;</span>
  <span class="nt">&lt;ORDER</span><span class="na">_REF</span><span class="nt">&gt;</span>123<span class="err">&lt;</span>/ORDER_REF&gt;
  <span class="nt">&lt;AUTH</span><span class="na">_CODE</span><span class="nt">&gt;</span><span class="err">&lt;</span>/AUTH_CODE&gt;
  <span class="nt">&lt;RRN&gt;&lt;/RRN&gt;</span>
  <span class="nt">&lt;PROCRETURNCODE&gt;&lt;/PROCRETURNCODE&gt;</span>
  <span class="nt">&lt;ERRORMESSAGE&gt;&lt;/ERRORMESSAGE&gt;</span>
  <span class="nt">&lt;BANK</span><span class="na">_MERCHANT_ID</span><span class="nt">&gt;</span><span class="err">&lt;</span>/BANK_MERCHANT_ID&gt;
  <span class="nt">&lt;PAN&gt;&lt;/PAN&gt;</span>
  <span class="nt">&lt;EXPYEAR&gt;&lt;/EXPYEAR&gt;</span>
  <span class="nt">&lt;EXPMONTH&gt;&lt;/EXPMONTH&gt;</span>
  <span class="nt">&lt;CLIENTID&gt;&lt;/CLIENTID&gt;</span>
  <span class="nt">&lt;HOSTREFNUM&gt;&lt;/HOSTREFNUM&gt;</span>
  <span class="nt">&lt;OID&gt;&lt;/OID&gt;</span>
  <span class="nt">&lt;RESPONSE&gt;&lt;/RESPONSE&gt;</span>
  <span class="nt">&lt;TERMINAL</span><span class="na">_BANK</span><span class="nt">&gt;</span><span class="err">&lt;</span>/TERMINAL_BANK&gt;
  <span class="nt">&lt;MDSTATUS&gt;&lt;/MDSTATUS&gt;</span>
  <span class="nt">&lt;MDERRORMSG&gt;&lt;/MDERRORMSG&gt;</span>
  <span class="nt">&lt;TXSTATUS&gt;&lt;/TXSTATUS&gt;</span>
  <span class="nt">&lt;XID&gt;&lt;/XID&gt;</span>
  <span class="nt">&lt;ECI&gt;&lt;/ECI&gt;</span>
  <span class="nt">&lt;CAVV&gt;&lt;/CAVV&gt;</span>
  <span class="nt">&lt;TRANSID&gt;&lt;/TRANSID&gt;</span>
  <span class="nt">&lt;HASH&gt;&lt;/HASH&gt;</span>
<span class="nt">&lt;/EPAYMENT&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="o">&lt;</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">REFNO</span><span class="o">&gt;&lt;/</span><span class="n">REFNO</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ALIAS</span><span class="o">&gt;&lt;/</span><span class="n">ALIAS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">STATUS</span><span class="o">&gt;</span><span class="n">INPUT_ERROR</span><span class="o">&lt;/</span><span class="n">STATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span><span class="n">ORDER_TOO_OLD</span><span class="o">&lt;/</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="n">Order</span> <span class="ow">is</span> <span class="n">older</span> <span class="n">than</span> <span class="n">a</span> <span class="n">week</span> <span class="p">(</span><span class="mi">2015</span><span class="o">-</span><span class="mo">06</span><span class="o">-</span><span class="mi">18</span> <span class="mi">13</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">08</span><span class="p">)</span><span class="err">!</span><span class="o">&lt;/</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mo">04</span> <span class="mi">15</span><span class="p">:</span><span class="mi">21</span><span class="p">:</span><span class="mi">50</span><span class="o">&lt;/</span><span class="n">DATE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ORDER_REF</span><span class="o">&gt;</span><span class="mi">123</span><span class="o">&lt;/</span><span class="n">ORDER_REF</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">AUTH_CODE</span><span class="o">&gt;&lt;/</span><span class="n">AUTH_CODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RRN</span><span class="o">&gt;&lt;/</span><span class="n">RRN</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">PROCRETURNCODE</span><span class="o">&gt;&lt;/</span><span class="n">PROCRETURNCODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ERRORMESSAGE</span><span class="o">&gt;&lt;/</span><span class="n">ERRORMESSAGE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">BANK_MERCHANT_ID</span><span class="o">&gt;&lt;/</span><span class="n">BANK_MERCHANT_ID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">PAN</span><span class="o">&gt;&lt;/</span><span class="n">PAN</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">EXPYEAR</span><span class="o">&gt;&lt;/</span><span class="n">EXPYEAR</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">EXPMONTH</span><span class="o">&gt;&lt;/</span><span class="n">EXPMONTH</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">CLIENTID</span><span class="o">&gt;&lt;/</span><span class="n">CLIENTID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">HOSTREFNUM</span><span class="o">&gt;&lt;/</span><span class="n">HOSTREFNUM</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">OID</span><span class="o">&gt;&lt;/</span><span class="n">OID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RESPONSE</span><span class="o">&gt;&lt;/</span><span class="n">RESPONSE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">TERMINAL_BANK</span><span class="o">&gt;&lt;/</span><span class="n">TERMINAL_BANK</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">MDSTATUS</span><span class="o">&gt;&lt;/</span><span class="n">MDSTATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">MDERRORMSG</span><span class="o">&gt;&lt;/</span><span class="n">MDERRORMSG</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">TXSTATUS</span><span class="o">&gt;&lt;/</span><span class="n">TXSTATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">XID</span><span class="o">&gt;&lt;/</span><span class="n">XID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ECI</span><span class="o">&gt;&lt;/</span><span class="n">ECI</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">CAVV</span><span class="o">&gt;&lt;/</span><span class="n">CAVV</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">TRANSID</span><span class="o">&gt;&lt;/</span><span class="n">TRANSID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">HASH</span><span class="o">&gt;&lt;/</span><span class="n">HASH</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">EPAYMENT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">REFNO</span><span class="o">&gt;&lt;</span><span class="sr">/REFNO</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ALIAS</span><span class="o">&gt;&lt;</span><span class="sr">/ALIAS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">STATUS</span><span class="o">&gt;</span><span class="nx">INPUT_ERROR</span><span class="o">&lt;</span><span class="sr">/STATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RETURN_CODE</span><span class="o">&gt;</span><span class="nx">ORDER_TOO_OLD</span><span class="o">&lt;</span><span class="sr">/RETURN_CODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="nx">Order</span> <span class="nx">is</span> <span class="nx">older</span> <span class="nx">than</span> <span class="nx">a</span> <span class="nx">week</span> <span class="p">(</span><span class="mi">2015</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">18</span> <span class="mi">13</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">08</span><span class="p">)</span><span class="o">!&lt;</span><span class="sr">/RETURN_MESSAGE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">04</span> <span class="mi">15</span><span class="p">:</span><span class="mi">21</span><span class="p">:</span><span class="mi">50</span><span class="o">&lt;</span><span class="sr">/DATE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ORDER_REF</span><span class="o">&gt;</span><span class="mi">123</span><span class="o">&lt;</span><span class="sr">/ORDER_REF</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">AUTH_CODE</span><span class="o">&gt;&lt;</span><span class="sr">/AUTH_CODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RRN</span><span class="o">&gt;&lt;</span><span class="sr">/RRN</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">PROCRETURNCODE</span><span class="o">&gt;&lt;</span><span class="sr">/PROCRETURNCODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ERRORMESSAGE</span><span class="o">&gt;&lt;</span><span class="sr">/ERRORMESSAGE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">BANK_MERCHANT_ID</span><span class="o">&gt;&lt;</span><span class="sr">/BANK_MERCHANT_ID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">PAN</span><span class="o">&gt;&lt;</span><span class="sr">/PAN</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">EXPYEAR</span><span class="o">&gt;&lt;</span><span class="sr">/EXPYEAR</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">EXPMONTH</span><span class="o">&gt;&lt;</span><span class="sr">/EXPMONTH</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">CLIENTID</span><span class="o">&gt;&lt;</span><span class="sr">/CLIENTID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">HOSTREFNUM</span><span class="o">&gt;&lt;</span><span class="sr">/HOSTREFNUM</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">OID</span><span class="o">&gt;&lt;</span><span class="sr">/OID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RESPONSE</span><span class="o">&gt;&lt;</span><span class="sr">/RESPONSE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">TERMINAL_BANK</span><span class="o">&gt;&lt;</span><span class="sr">/TERMINAL_BANK</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">MDSTATUS</span><span class="o">&gt;&lt;</span><span class="sr">/MDSTATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">MDERRORMSG</span><span class="o">&gt;&lt;</span><span class="sr">/MDERRORMSG</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">TXSTATUS</span><span class="o">&gt;&lt;</span><span class="sr">/TXSTATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">XID</span><span class="o">&gt;&lt;</span><span class="sr">/XID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ECI</span><span class="o">&gt;&lt;</span><span class="sr">/ECI</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">CAVV</span><span class="o">&gt;&lt;</span><span class="sr">/CAVV</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">TRANSID</span><span class="o">&gt;&lt;</span><span class="sr">/TRANSID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">HASH</span><span class="o">&gt;&lt;</span><span class="sr">/HASH</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/EPAYMENT</span><span class="err">&gt;
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="p">&lt;</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">REFNO</span><span class="p">&gt;&lt;/</span><span class="n">REFNO</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ALIAS</span><span class="p">&gt;&lt;/</span><span class="n">ALIAS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">STATUS</span><span class="p">&gt;</span><span class="n">INPUT_ERROR</span><span class="p">&lt;/</span><span class="n">STATUS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RETURN_CODE</span><span class="p">&gt;</span><span class="n">ORDER_TOO_OLD</span><span class="p">&lt;/</span><span class="n">RETURN_CODE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RETURN_MESSAGE</span><span class="p">&gt;</span><span class="n">Order</span> <span class="k">is</span> <span class="n">older</span> <span class="n">than</span> <span class="n">a</span> <span class="nf">week</span> <span class="p">(</span><span class="m">2015</span><span class="p">-</span><span class="m">06</span><span class="p">-</span><span class="m">18</span> <span class="m">13</span><span class="p">:</span><span class="m">24</span><span class="p">:</span><span class="m">08</span><span class="p">)!&lt;/</span><span class="n">RETURN_MESSAGE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">DATE</span><span class="p">&gt;</span><span class="m">2017</span><span class="p">-</span><span class="m">10</span><span class="p">-</span><span class="m">04</span> <span class="m">15</span><span class="p">:</span><span class="m">21</span><span class="p">:</span><span class="m">50</span><span class="p">&lt;/</span><span class="n">DATE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ORDER_REF</span><span class="p">&gt;</span><span class="m">123</span><span class="p">&lt;/</span><span class="n">ORDER_REF</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">AUTH_CODE</span><span class="p">&gt;&lt;/</span><span class="n">AUTH_CODE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RRN</span><span class="p">&gt;&lt;/</span><span class="n">RRN</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">PROCRETURNCODE</span><span class="p">&gt;&lt;/</span><span class="n">PROCRETURNCODE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ERRORMESSAGE</span><span class="p">&gt;&lt;/</span><span class="n">ERRORMESSAGE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">BANK_MERCHANT_ID</span><span class="p">&gt;&lt;/</span><span class="n">BANK_MERCHANT_ID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">PAN</span><span class="p">&gt;&lt;/</span><span class="n">PAN</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">EXPYEAR</span><span class="p">&gt;&lt;/</span><span class="n">EXPYEAR</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">EXPMONTH</span><span class="p">&gt;&lt;/</span><span class="n">EXPMONTH</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">CLIENTID</span><span class="p">&gt;&lt;/</span><span class="n">CLIENTID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">HOSTREFNUM</span><span class="p">&gt;&lt;/</span><span class="n">HOSTREFNUM</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">OID</span><span class="p">&gt;&lt;/</span><span class="n">OID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RESPONSE</span><span class="p">&gt;&lt;/</span><span class="n">RESPONSE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">TERMINAL_BANK</span><span class="p">&gt;&lt;/</span><span class="n">TERMINAL_BANK</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">MDSTATUS</span><span class="p">&gt;&lt;/</span><span class="n">MDSTATUS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">MDERRORMSG</span><span class="p">&gt;&lt;/</span><span class="n">MDERRORMSG</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">TXSTATUS</span><span class="p">&gt;&lt;/</span><span class="n">TXSTATUS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">XID</span><span class="p">&gt;&lt;/</span><span class="n">XID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ECI</span><span class="p">&gt;&lt;/</span><span class="n">ECI</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">CAVV</span><span class="p">&gt;&lt;/</span><span class="n">CAVV</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">TRANSID</span><span class="p">&gt;&lt;/</span><span class="n">TRANSID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">HASH</span><span class="p">&gt;&lt;/</span><span class="n">HASH</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
</code></pre>
<blockquote>
<p>INVALID_CC_TOKEN – Geçersiz Token kullanımı durumunda alınan hatadır.</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="nt">&lt;EPAYMENT&gt;</span>
  <span class="nt">&lt;REFNO&gt;&lt;/REFNO&gt;</span>
  <span class="nt">&lt;ALIAS&gt;&lt;/ALIAS&gt;</span>
  <span class="nt">&lt;STATUS&gt;</span>INPUT_ERROR<span class="nt">&lt;/STATUS&gt;</span>
  <span class="nt">&lt;RETURN</span><span class="na">_CODE</span><span class="nt">&gt;</span>INVALID_CC_TOKEN<span class="err">&lt;</span>/RETURN_CODE&gt;
  <span class="nt">&lt;RETURN</span><span class="na">_MESSAGE</span><span class="nt">&gt;</span>Invalid Token: Invalid token hash "xake1kp153123o1235l2x3"<span class="err">&lt;</span>/RETURN_MESSAGE&gt;
  <span class="nt">&lt;DATE&gt;</span>2017-10-04 16:24:41<span class="nt">&lt;/DATE&gt;</span>
  <span class="nt">&lt;ORDER</span><span class="na">_REF</span><span class="nt">&gt;</span><span class="err">&lt;</span>/ORDER_REF&gt;
  <span class="nt">&lt;AUTH</span><span class="na">_CODE</span><span class="nt">&gt;</span><span class="err">&lt;</span>/AUTH_CODE&gt;
  <span class="nt">&lt;RRN&gt;&lt;/RRN&gt;</span>
  <span class="nt">&lt;PROCRETURNCODE&gt;&lt;/PROCRETURNCODE&gt;</span>
  <span class="nt">&lt;ERRORMESSAGE&gt;&lt;/ERRORMESSAGE&gt;</span>
  <span class="nt">&lt;BANK</span><span class="na">_MERCHANT_ID</span><span class="nt">&gt;</span><span class="err">&lt;</span>/BANK_MERCHANT_ID&gt;
  <span class="nt">&lt;PAN&gt;&lt;/PAN&gt;</span>
  <span class="nt">&lt;EXPYEAR&gt;&lt;/EXPYEAR&gt;</span>
  <span class="nt">&lt;EXPMONTH&gt;&lt;/EXPMONTH&gt;</span>
  <span class="nt">&lt;CLIENTID&gt;&lt;/CLIENTID&gt;</span>
  <span class="nt">&lt;HOSTREFNUM&gt;&lt;/HOSTREFNUM&gt;</span>
  <span class="nt">&lt;OID&gt;&lt;/OID&gt;</span>
  <span class="nt">&lt;RESPONSE&gt;&lt;/RESPONSE&gt;</span>
  <span class="nt">&lt;TERMINAL</span><span class="na">_BANK</span><span class="nt">&gt;</span><span class="err">&lt;</span>/TERMINAL_BANK&gt;
  <span class="nt">&lt;MDSTATUS&gt;&lt;/MDSTATUS&gt;</span>
  <span class="nt">&lt;MDERRORMSG&gt;&lt;/MDERRORMSG&gt;</span>
  <span class="nt">&lt;TXSTATUS&gt;&lt;/TXSTATUS&gt;</span>
  <span class="nt">&lt;XID&gt;&lt;/XID&gt;</span>
  <span class="nt">&lt;ECI&gt;&lt;/ECI&gt;</span>
  <span class="nt">&lt;CAVV&gt;&lt;/CAVV&gt;</span>
  <span class="nt">&lt;TRANSID&gt;&lt;/TRANSID&gt;</span>
  <span class="nt">&lt;HASH&gt;&lt;/HASH&gt;</span>
<span class="nt">&lt;/EPAYMENT&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="o">&lt;</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">REFNO</span><span class="o">&gt;&lt;/</span><span class="n">REFNO</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ALIAS</span><span class="o">&gt;&lt;/</span><span class="n">ALIAS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">STATUS</span><span class="o">&gt;</span><span class="n">INPUT_ERROR</span><span class="o">&lt;/</span><span class="n">STATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span><span class="n">INVALID_CC_TOKEN</span><span class="o">&lt;/</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="n">Invalid</span> <span class="n">Token</span><span class="p">:</span> <span class="n">Invalid</span> <span class="n">token</span> <span class="nb">hash</span> <span class="s">"xake1kp153123o1235l2x3"</span><span class="o">&lt;/</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mo">04</span> <span class="mi">16</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">41</span><span class="o">&lt;/</span><span class="n">DATE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ORDER_REF</span><span class="o">&gt;&lt;/</span><span class="n">ORDER_REF</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">AUTH_CODE</span><span class="o">&gt;&lt;/</span><span class="n">AUTH_CODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RRN</span><span class="o">&gt;&lt;/</span><span class="n">RRN</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">PROCRETURNCODE</span><span class="o">&gt;&lt;/</span><span class="n">PROCRETURNCODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ERRORMESSAGE</span><span class="o">&gt;&lt;/</span><span class="n">ERRORMESSAGE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">BANK_MERCHANT_ID</span><span class="o">&gt;&lt;/</span><span class="n">BANK_MERCHANT_ID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">PAN</span><span class="o">&gt;&lt;/</span><span class="n">PAN</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">EXPYEAR</span><span class="o">&gt;&lt;/</span><span class="n">EXPYEAR</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">EXPMONTH</span><span class="o">&gt;&lt;/</span><span class="n">EXPMONTH</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">CLIENTID</span><span class="o">&gt;&lt;/</span><span class="n">CLIENTID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">HOSTREFNUM</span><span class="o">&gt;&lt;/</span><span class="n">HOSTREFNUM</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">OID</span><span class="o">&gt;&lt;/</span><span class="n">OID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RESPONSE</span><span class="o">&gt;&lt;/</span><span class="n">RESPONSE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">TERMINAL_BANK</span><span class="o">&gt;&lt;/</span><span class="n">TERMINAL_BANK</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">MDSTATUS</span><span class="o">&gt;&lt;/</span><span class="n">MDSTATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">MDERRORMSG</span><span class="o">&gt;&lt;/</span><span class="n">MDERRORMSG</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">TXSTATUS</span><span class="o">&gt;&lt;/</span><span class="n">TXSTATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">XID</span><span class="o">&gt;&lt;/</span><span class="n">XID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ECI</span><span class="o">&gt;&lt;/</span><span class="n">ECI</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">CAVV</span><span class="o">&gt;&lt;/</span><span class="n">CAVV</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">TRANSID</span><span class="o">&gt;&lt;/</span><span class="n">TRANSID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">HASH</span><span class="o">&gt;&lt;/</span><span class="n">HASH</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">EPAYMENT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">REFNO</span><span class="o">&gt;&lt;</span><span class="sr">/REFNO</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ALIAS</span><span class="o">&gt;&lt;</span><span class="sr">/ALIAS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">STATUS</span><span class="o">&gt;</span><span class="nx">INPUT_ERROR</span><span class="o">&lt;</span><span class="sr">/STATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RETURN_CODE</span><span class="o">&gt;</span><span class="nx">INVALID_CC_TOKEN</span><span class="o">&lt;</span><span class="sr">/RETURN_CODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="nx">Invalid</span> <span class="nx">Token</span><span class="p">:</span> <span class="nx">Invalid</span> <span class="nx">token</span> <span class="nx">hash</span> <span class="s2">"xake1kp153123o1235l2x3"</span><span class="o">&lt;</span><span class="sr">/RETURN_MESSAGE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">04</span> <span class="mi">16</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">41</span><span class="o">&lt;</span><span class="sr">/DATE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ORDER_REF</span><span class="o">&gt;&lt;</span><span class="sr">/ORDER_REF</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">AUTH_CODE</span><span class="o">&gt;&lt;</span><span class="sr">/AUTH_CODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RRN</span><span class="o">&gt;&lt;</span><span class="sr">/RRN</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">PROCRETURNCODE</span><span class="o">&gt;&lt;</span><span class="sr">/PROCRETURNCODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ERRORMESSAGE</span><span class="o">&gt;&lt;</span><span class="sr">/ERRORMESSAGE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">BANK_MERCHANT_ID</span><span class="o">&gt;&lt;</span><span class="sr">/BANK_MERCHANT_ID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">PAN</span><span class="o">&gt;&lt;</span><span class="sr">/PAN</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">EXPYEAR</span><span class="o">&gt;&lt;</span><span class="sr">/EXPYEAR</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">EXPMONTH</span><span class="o">&gt;&lt;</span><span class="sr">/EXPMONTH</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">CLIENTID</span><span class="o">&gt;&lt;</span><span class="sr">/CLIENTID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">HOSTREFNUM</span><span class="o">&gt;&lt;</span><span class="sr">/HOSTREFNUM</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">OID</span><span class="o">&gt;&lt;</span><span class="sr">/OID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RESPONSE</span><span class="o">&gt;&lt;</span><span class="sr">/RESPONSE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">TERMINAL_BANK</span><span class="o">&gt;&lt;</span><span class="sr">/TERMINAL_BANK</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">MDSTATUS</span><span class="o">&gt;&lt;</span><span class="sr">/MDSTATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">MDERRORMSG</span><span class="o">&gt;&lt;</span><span class="sr">/MDERRORMSG</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">TXSTATUS</span><span class="o">&gt;&lt;</span><span class="sr">/TXSTATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">XID</span><span class="o">&gt;&lt;</span><span class="sr">/XID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ECI</span><span class="o">&gt;&lt;</span><span class="sr">/ECI</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">CAVV</span><span class="o">&gt;&lt;</span><span class="sr">/CAVV</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">TRANSID</span><span class="o">&gt;&lt;</span><span class="sr">/TRANSID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">HASH</span><span class="o">&gt;&lt;</span><span class="sr">/HASH</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/EPAYMENT</span><span class="err">&gt;
</span></code></pre><pre class="highlight plaintext"><code>&lt;EPAYMENT&gt;
  &lt;REFNO&gt;&lt;/REFNO&gt;
  &lt;ALIAS&gt;&lt;/ALIAS&gt;
  &lt;STATUS&gt;INPUT_ERROR&lt;/STATUS&gt;
  &lt;RETURN_CODE&gt;INVALID_CC_TOKEN&lt;/RETURN_CODE&gt;
  &lt;RETURN_MESSAGE&gt;Invalid Token: Invalid token hash "xake1kp153123o1235l2x3"&lt;/RETURN_MESSAGE&gt;
  &lt;DATE&gt;2017-10-04 16:24:41&lt;/DATE&gt;
  &lt;ORDER_REF&gt;&lt;/ORDER_REF&gt;
  &lt;AUTH_CODE&gt;&lt;/AUTH_CODE&gt;
  &lt;RRN&gt;&lt;/RRN&gt;
  &lt;PROCRETURNCODE&gt;&lt;/PROCRETURNCODE&gt;
  &lt;ERRORMESSAGE&gt;&lt;/ERRORMESSAGE&gt;
  &lt;BANK_MERCHANT_ID&gt;&lt;/BANK_MERCHANT_ID&gt;
  &lt;PAN&gt;&lt;/PAN&gt;
  &lt;EXPYEAR&gt;&lt;/EXPYEAR&gt;
  &lt;EXPMONTH&gt;&lt;/EXPMONTH&gt;
  &lt;CLIENTID&gt;&lt;/CLIENTID&gt;
  &lt;HOSTREFNUM&gt;&lt;/HOSTREFNUM&gt;
  &lt;OID&gt;&lt;/OID&gt;
  &lt;RESPONSE&gt;&lt;/RESPONSE&gt;
  &lt;TERMINAL_BANK&gt;&lt;/TERMINAL_BANK&gt;
  &lt;MDSTATUS&gt;&lt;/MDSTATUS&gt;
  &lt;MDERRORMSG&gt;&lt;/MDERRORMSG&gt;
  &lt;TXSTATUS&gt;&lt;/TXSTATUS&gt;
  &lt;XID&gt;&lt;/XID&gt;
  &lt;ECI&gt;&lt;/ECI&gt;
  &lt;CAVV&gt;&lt;/CAVV&gt;
  &lt;TRANSID&gt;&lt;/TRANSID&gt;
  &lt;HASH&gt;&lt;/HASH&gt;
&lt;/EPAYMENT&gt;
</code></pre>
<blockquote>
<p>WRONG_VERSION – Desteklenmeyen ALU versiyonu kullanımı durumunda alınan hatadır.</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="nt">&lt;EPAYMENT&gt;</span>
  <span class="nt">&lt;REFNO&gt;&lt;/REFNO&gt;</span>
  <span class="nt">&lt;ALIAS&gt;&lt;/ALIAS&gt;</span>
  <span class="nt">&lt;STATUS&gt;</span>INPUT_ERROR<span class="nt">&lt;/STATUS&gt;</span>
  <span class="nt">&lt;RETURN</span><span class="na">_CODE</span><span class="nt">&gt;</span>WRONG_VERSION<span class="err">&lt;</span>/RETURN_CODE&gt;
  <span class="nt">&lt;RETURN</span><span class="na">_MESSAGE</span><span class="nt">&gt;</span>Wrong version<span class="err">&lt;</span>/RETURN_MESSAGE&gt;
  <span class="nt">&lt;DATE&gt;</span>2017-10-04 16:23:47<span class="nt">&lt;/DATE&gt;</span>
  <span class="nt">&lt;HASH&gt;&lt;/HASH&gt;</span>
<span class="nt">&lt;/EPAYMENT&gt;</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">EPAYMENT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">REFNO</span><span class="o">&gt;&lt;</span><span class="sr">/REFNO</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ALIAS</span><span class="o">&gt;&lt;</span><span class="sr">/ALIAS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">STATUS</span><span class="o">&gt;</span><span class="nx">INPUT_ERROR</span><span class="o">&lt;</span><span class="sr">/STATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RETURN_CODE</span><span class="o">&gt;</span><span class="nx">WRONG_VERSION</span><span class="o">&lt;</span><span class="sr">/RETURN_CODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="nx">Wrong</span> <span class="nx">version</span><span class="o">&lt;</span><span class="sr">/RETURN_MESSAGE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">04</span> <span class="mi">16</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mi">47</span><span class="o">&lt;</span><span class="sr">/DATE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">HASH</span><span class="o">&gt;&lt;</span><span class="sr">/HASH</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/EPAYMENT</span><span class="err">&gt;
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="p">&lt;</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">REFNO</span><span class="p">&gt;&lt;/</span><span class="n">REFNO</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ALIAS</span><span class="p">&gt;&lt;/</span><span class="n">ALIAS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">STATUS</span><span class="p">&gt;</span><span class="n">INPUT_ERROR</span><span class="p">&lt;/</span><span class="n">STATUS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RETURN_CODE</span><span class="p">&gt;</span><span class="n">WRONG_VERSION</span><span class="p">&lt;/</span><span class="n">RETURN_CODE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RETURN_MESSAGE</span><span class="p">&gt;</span><span class="n">Wrong</span> <span class="n">version</span><span class="p">&lt;/</span><span class="n">RETURN_MESSAGE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">DATE</span><span class="p">&gt;</span><span class="m">2017</span><span class="p">-</span><span class="m">10</span><span class="p">-</span><span class="m">04</span> <span class="m">16</span><span class="p">:</span><span class="m">23</span><span class="p">:</span><span class="m">47</span><span class="p">&lt;/</span><span class="n">DATE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">HASH</span><span class="p">&gt;&lt;/</span><span class="n">HASH</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="o">&lt;</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">REFNO</span><span class="o">&gt;&lt;/</span><span class="n">REFNO</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ALIAS</span><span class="o">&gt;&lt;/</span><span class="n">ALIAS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">STATUS</span><span class="o">&gt;</span><span class="n">INPUT_ERROR</span><span class="o">&lt;/</span><span class="n">STATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span><span class="n">WRONG_VERSION</span><span class="o">&lt;/</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="n">Wrong</span> <span class="n">version</span><span class="o">&lt;/</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mo">04</span> <span class="mi">16</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mi">47</span><span class="o">&lt;/</span><span class="n">DATE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">HASH</span><span class="o">&gt;&lt;/</span><span class="n">HASH</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
</code></pre>
<blockquote>
<p>REQUEST_EXPIRED
  a) ORDER_DATE parametresinde belirtilen zaman ile ödeme zamanı arasında 10 dakika ve ya daha fazla zaman geçmesi durumunda alınan hatadır.
  b) ORDER_DATE parametresinin yanlış kullanımı durumunda alınan hatadır. ORDER_DATE parametresi UTC/GMT formatı ile Türkiye saatine göre 3 saati geri olacak şekilde gönderilmelidir.</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="nt">&lt;EPAYMENT&gt;</span>
  <span class="nt">&lt;REFNO&gt;&lt;/REFNO&gt;</span>
  <span class="nt">&lt;ALIAS&gt;&lt;/ALIAS&gt;</span>
  <span class="nt">&lt;STATUS&gt;</span>INPUT_ERROR<span class="nt">&lt;/STATUS&gt;</span>
  <span class="nt">&lt;RETURN</span><span class="na">_CODE</span><span class="nt">&gt;</span>REQUEST_EXPIRED<span class="err">&lt;</span>/RETURN_CODE&gt;
  <span class="nt">&lt;RETURN</span><span class="na">_MESSAGE</span><span class="nt">&gt;</span>Your request date is in the future (2017-10-04 15:23:21)!<span class="err">&lt;</span>/RETURN_MESSAGE&gt;
  <span class="nt">&lt;DATE&gt;</span>2017-10-04 16:21:36<span class="nt">&lt;/DATE&gt;</span>
  <span class="nt">&lt;ORDER</span><span class="na">_REF</span><span class="nt">&gt;</span><span class="err">&lt;</span>/ORDER_REF&gt;
  <span class="nt">&lt;AUTH</span><span class="na">_CODE</span><span class="nt">&gt;</span><span class="err">&lt;</span>/AUTH_CODE&gt;
  <span class="nt">&lt;RRN&gt;&lt;/RRN&gt;</span>
  <span class="nt">&lt;PROCRETURNCODE&gt;&lt;/PROCRETURNCODE&gt;</span>
  <span class="nt">&lt;ERRORMESSAGE&gt;&lt;/ERRORMESSAGE&gt;</span>
  <span class="nt">&lt;BANK</span><span class="na">_MERCHANT_ID</span><span class="nt">&gt;</span><span class="err">&lt;</span>/BANK_MERCHANT_ID&gt;
  <span class="nt">&lt;PAN&gt;&lt;/PAN&gt;</span>
  <span class="nt">&lt;EXPYEAR&gt;&lt;/EXPYEAR&gt;</span>
  <span class="nt">&lt;EXPMONTH&gt;&lt;/EXPMONTH&gt;</span>
  <span class="nt">&lt;CLIENTID&gt;&lt;/CLIENTID&gt;</span>
  <span class="nt">&lt;HOSTREFNUM&gt;&lt;/HOSTREFNUM&gt;</span>
  <span class="nt">&lt;OID&gt;&lt;/OID&gt;</span>
  <span class="nt">&lt;RESPONSE&gt;&lt;/RESPONSE&gt;</span>
  <span class="nt">&lt;TERMINAL</span><span class="na">_BANK</span><span class="nt">&gt;</span><span class="err">&lt;</span>/TERMINAL_BANK&gt;
  <span class="nt">&lt;MDSTATUS&gt;&lt;/MDSTATUS&gt;</span>
  <span class="nt">&lt;MDERRORMSG&gt;&lt;/MDERRORMSG&gt;</span>
  <span class="nt">&lt;TXSTATUS&gt;&lt;/TXSTATUS&gt;</span>
  <span class="nt">&lt;XID&gt;&lt;/XID&gt;</span>
  <span class="nt">&lt;ECI&gt;&lt;/ECI&gt;</span>
  <span class="nt">&lt;CAVV&gt;&lt;/CAVV&gt;</span>
  <span class="nt">&lt;TRANSID&gt;&lt;/TRANSID&gt;</span>
  <span class="nt">&lt;HASH&gt;&lt;/HASH&gt;</span>
<span class="nt">&lt;/EPAYMENT&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="o">&lt;</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">REFNO</span><span class="o">&gt;&lt;/</span><span class="n">REFNO</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ALIAS</span><span class="o">&gt;&lt;/</span><span class="n">ALIAS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">STATUS</span><span class="o">&gt;</span><span class="n">INPUT_ERROR</span><span class="o">&lt;/</span><span class="n">STATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span><span class="n">REQUEST_EXPIRED</span><span class="o">&lt;/</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="n">Your</span> <span class="n">request</span> <span class="n">date</span> <span class="ow">is</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">future</span> <span class="p">(</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mo">04</span> <span class="mi">15</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mi">21</span><span class="p">)</span><span class="err">!</span><span class="o">&lt;/</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mo">04</span> <span class="mi">16</span><span class="p">:</span><span class="mi">21</span><span class="p">:</span><span class="mi">36</span><span class="o">&lt;/</span><span class="n">DATE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ORDER_REF</span><span class="o">&gt;&lt;/</span><span class="n">ORDER_REF</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">AUTH_CODE</span><span class="o">&gt;&lt;/</span><span class="n">AUTH_CODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RRN</span><span class="o">&gt;&lt;/</span><span class="n">RRN</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">PROCRETURNCODE</span><span class="o">&gt;&lt;/</span><span class="n">PROCRETURNCODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ERRORMESSAGE</span><span class="o">&gt;&lt;/</span><span class="n">ERRORMESSAGE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">BANK_MERCHANT_ID</span><span class="o">&gt;&lt;/</span><span class="n">BANK_MERCHANT_ID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">PAN</span><span class="o">&gt;&lt;/</span><span class="n">PAN</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">EXPYEAR</span><span class="o">&gt;&lt;/</span><span class="n">EXPYEAR</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">EXPMONTH</span><span class="o">&gt;&lt;/</span><span class="n">EXPMONTH</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">CLIENTID</span><span class="o">&gt;&lt;/</span><span class="n">CLIENTID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">HOSTREFNUM</span><span class="o">&gt;&lt;/</span><span class="n">HOSTREFNUM</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">OID</span><span class="o">&gt;&lt;/</span><span class="n">OID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RESPONSE</span><span class="o">&gt;&lt;/</span><span class="n">RESPONSE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">TERMINAL_BANK</span><span class="o">&gt;&lt;/</span><span class="n">TERMINAL_BANK</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">MDSTATUS</span><span class="o">&gt;&lt;/</span><span class="n">MDSTATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">MDERRORMSG</span><span class="o">&gt;&lt;/</span><span class="n">MDERRORMSG</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">TXSTATUS</span><span class="o">&gt;&lt;/</span><span class="n">TXSTATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">XID</span><span class="o">&gt;&lt;/</span><span class="n">XID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ECI</span><span class="o">&gt;&lt;/</span><span class="n">ECI</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">CAVV</span><span class="o">&gt;&lt;/</span><span class="n">CAVV</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">TRANSID</span><span class="o">&gt;&lt;/</span><span class="n">TRANSID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">HASH</span><span class="o">&gt;&lt;/</span><span class="n">HASH</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">EPAYMENT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">REFNO</span><span class="o">&gt;&lt;</span><span class="sr">/REFNO</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ALIAS</span><span class="o">&gt;&lt;</span><span class="sr">/ALIAS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">STATUS</span><span class="o">&gt;</span><span class="nx">INPUT_ERROR</span><span class="o">&lt;</span><span class="sr">/STATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RETURN_CODE</span><span class="o">&gt;</span><span class="nx">REQUEST_EXPIRED</span><span class="o">&lt;</span><span class="sr">/RETURN_CODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="nx">Your</span> <span class="nx">request</span> <span class="nx">date</span> <span class="nx">is</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">future</span> <span class="p">(</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">04</span> <span class="mi">15</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mi">21</span><span class="p">)</span><span class="o">!&lt;</span><span class="sr">/RETURN_MESSAGE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">04</span> <span class="mi">16</span><span class="p">:</span><span class="mi">21</span><span class="p">:</span><span class="mi">36</span><span class="o">&lt;</span><span class="sr">/DATE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ORDER_REF</span><span class="o">&gt;&lt;</span><span class="sr">/ORDER_REF</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">AUTH_CODE</span><span class="o">&gt;&lt;</span><span class="sr">/AUTH_CODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RRN</span><span class="o">&gt;&lt;</span><span class="sr">/RRN</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">PROCRETURNCODE</span><span class="o">&gt;&lt;</span><span class="sr">/PROCRETURNCODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ERRORMESSAGE</span><span class="o">&gt;&lt;</span><span class="sr">/ERRORMESSAGE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">BANK_MERCHANT_ID</span><span class="o">&gt;&lt;</span><span class="sr">/BANK_MERCHANT_ID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">PAN</span><span class="o">&gt;&lt;</span><span class="sr">/PAN</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">EXPYEAR</span><span class="o">&gt;&lt;</span><span class="sr">/EXPYEAR</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">EXPMONTH</span><span class="o">&gt;&lt;</span><span class="sr">/EXPMONTH</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">CLIENTID</span><span class="o">&gt;&lt;</span><span class="sr">/CLIENTID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">HOSTREFNUM</span><span class="o">&gt;&lt;</span><span class="sr">/HOSTREFNUM</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">OID</span><span class="o">&gt;&lt;</span><span class="sr">/OID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RESPONSE</span><span class="o">&gt;&lt;</span><span class="sr">/RESPONSE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">TERMINAL_BANK</span><span class="o">&gt;&lt;</span><span class="sr">/TERMINAL_BANK</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">MDSTATUS</span><span class="o">&gt;&lt;</span><span class="sr">/MDSTATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">MDERRORMSG</span><span class="o">&gt;&lt;</span><span class="sr">/MDERRORMSG</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">TXSTATUS</span><span class="o">&gt;&lt;</span><span class="sr">/TXSTATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">XID</span><span class="o">&gt;&lt;</span><span class="sr">/XID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ECI</span><span class="o">&gt;&lt;</span><span class="sr">/ECI</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">CAVV</span><span class="o">&gt;&lt;</span><span class="sr">/CAVV</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">TRANSID</span><span class="o">&gt;&lt;</span><span class="sr">/TRANSID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">HASH</span><span class="o">&gt;&lt;</span><span class="sr">/HASH</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/EPAYMENT</span><span class="err">&gt;
</span></code></pre><pre class="highlight csharp tab-csharp"><code><span class="p">&lt;</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">REFNO</span><span class="p">&gt;&lt;/</span><span class="n">REFNO</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ALIAS</span><span class="p">&gt;&lt;/</span><span class="n">ALIAS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">STATUS</span><span class="p">&gt;</span><span class="n">INPUT_ERROR</span><span class="p">&lt;/</span><span class="n">STATUS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RETURN_CODE</span><span class="p">&gt;</span><span class="n">REQUEST_EXPIRED</span><span class="p">&lt;/</span><span class="n">RETURN_CODE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RETURN_MESSAGE</span><span class="p">&gt;</span><span class="n">Your</span> <span class="n">request</span> <span class="n">date</span> <span class="k">is</span> <span class="k">in</span> <span class="n">the</span> <span class="nf">future</span> <span class="p">(</span><span class="m">2017</span><span class="p">-</span><span class="m">10</span><span class="p">-</span><span class="m">04</span> <span class="m">15</span><span class="p">:</span><span class="m">23</span><span class="p">:</span><span class="m">21</span><span class="p">)!&lt;/</span><span class="n">RETURN_MESSAGE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">DATE</span><span class="p">&gt;</span><span class="m">2017</span><span class="p">-</span><span class="m">10</span><span class="p">-</span><span class="m">04</span> <span class="m">16</span><span class="p">:</span><span class="m">21</span><span class="p">:</span><span class="m">36</span><span class="p">&lt;/</span><span class="n">DATE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ORDER_REF</span><span class="p">&gt;&lt;/</span><span class="n">ORDER_REF</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">AUTH_CODE</span><span class="p">&gt;&lt;/</span><span class="n">AUTH_CODE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RRN</span><span class="p">&gt;&lt;/</span><span class="n">RRN</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">PROCRETURNCODE</span><span class="p">&gt;&lt;/</span><span class="n">PROCRETURNCODE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ERRORMESSAGE</span><span class="p">&gt;&lt;/</span><span class="n">ERRORMESSAGE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">BANK_MERCHANT_ID</span><span class="p">&gt;&lt;/</span><span class="n">BANK_MERCHANT_ID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">PAN</span><span class="p">&gt;&lt;/</span><span class="n">PAN</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">EXPYEAR</span><span class="p">&gt;&lt;/</span><span class="n">EXPYEAR</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">EXPMONTH</span><span class="p">&gt;&lt;/</span><span class="n">EXPMONTH</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">CLIENTID</span><span class="p">&gt;&lt;/</span><span class="n">CLIENTID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">HOSTREFNUM</span><span class="p">&gt;&lt;/</span><span class="n">HOSTREFNUM</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">OID</span><span class="p">&gt;&lt;/</span><span class="n">OID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RESPONSE</span><span class="p">&gt;&lt;/</span><span class="n">RESPONSE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">TERMINAL_BANK</span><span class="p">&gt;&lt;/</span><span class="n">TERMINAL_BANK</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">MDSTATUS</span><span class="p">&gt;&lt;/</span><span class="n">MDSTATUS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">MDERRORMSG</span><span class="p">&gt;&lt;/</span><span class="n">MDERRORMSG</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">TXSTATUS</span><span class="p">&gt;&lt;/</span><span class="n">TXSTATUS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">XID</span><span class="p">&gt;&lt;/</span><span class="n">XID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ECI</span><span class="p">&gt;&lt;/</span><span class="n">ECI</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">CAVV</span><span class="p">&gt;&lt;/</span><span class="n">CAVV</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">TRANSID</span><span class="p">&gt;&lt;/</span><span class="n">TRANSID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">HASH</span><span class="p">&gt;&lt;/</span><span class="n">HASH</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
</code></pre>
<blockquote>
<p>INVALID_CUSTOMER_INFO Zorunlu Parametrelerden bir veya bir kaçının hatalı veya eksik gönderilmesi durumunda alınan hatadır.</p>
</blockquote>
<pre class="highlight php tab-php"><code>   <span class="nt">&lt;EPAYMENT&gt;</span>
     <span class="nt">&lt;REFNO&gt;&lt;/REFNO&gt;</span>
     <span class="nt">&lt;ALIAS&gt;&lt;/ALIAS&gt;</span>
     <span class="nt">&lt;STATUS&gt;</span>INPUT_ERROR<span class="nt">&lt;/STATUS&gt;</span>
     <span class="nt">&lt;RETURN</span><span class="na">_CODE</span><span class="nt">&gt;</span>INVALID_CUSTOMER_INFO<span class="err">&lt;</span>/RETURN_CODE&gt;
     <span class="nt">&lt;RETURN</span><span class="na">_MESSAGE</span><span class="nt">&gt;</span>Invalid field BILL_EMAIL<span class="err">&lt;</span>/RETURN_MESSAGE&gt;
     <span class="nt">&lt;DATE&gt;</span>2017-10-04 16:22:25<span class="nt">&lt;/DATE&gt;</span>
     <span class="nt">&lt;HASH&gt;&lt;/HASH&gt;</span>
   <span class="nt">&lt;/EPAYMENT&gt;</span>
</code></pre><pre class="highlight python tab-python"><code>    <span class="o">&lt;</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">REFNO</span><span class="o">&gt;&lt;/</span><span class="n">REFNO</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">ALIAS</span><span class="o">&gt;&lt;/</span><span class="n">ALIAS</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">STATUS</span><span class="o">&gt;</span><span class="n">INPUT_ERROR</span><span class="o">&lt;/</span><span class="n">STATUS</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span><span class="n">INVALID_CUSTOMER_INFO</span><span class="o">&lt;/</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="n">Invalid</span> <span class="n">field</span> <span class="n">BILL_EMAIL</span><span class="o">&lt;/</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mo">04</span> <span class="mi">16</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">25</span><span class="o">&lt;/</span><span class="n">DATE</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="n">HASH</span><span class="o">&gt;&lt;/</span><span class="n">HASH</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>    <span class="o">&lt;</span><span class="nx">EPAYMENT</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">REFNO</span><span class="o">&gt;&lt;</span><span class="sr">/REFNO</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">ALIAS</span><span class="o">&gt;&lt;</span><span class="sr">/ALIAS</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">STATUS</span><span class="o">&gt;</span><span class="nx">INPUT_ERROR</span><span class="o">&lt;</span><span class="sr">/STATUS</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">RETURN_CODE</span><span class="o">&gt;</span><span class="nx">INVALID_CUSTOMER_INFO</span><span class="o">&lt;</span><span class="sr">/RETURN_CODE</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="nx">Invalid</span> <span class="nx">field</span> <span class="nx">BILL_EMAIL</span><span class="o">&lt;</span><span class="sr">/RETURN_MESSAGE</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">04</span> <span class="mi">16</span><span class="p">:</span><span class="mi">22</span><span class="p">:</span><span class="mi">25</span><span class="o">&lt;</span><span class="sr">/DATE</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">HASH</span><span class="o">&gt;&lt;</span><span class="sr">/HASH</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/EPAYMENT</span><span class="err">&gt;
</span></code></pre><pre class="highlight csharp tab-csharp"><code>    <span class="p">&lt;</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="n">REFNO</span><span class="p">&gt;&lt;/</span><span class="n">REFNO</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="n">ALIAS</span><span class="p">&gt;&lt;/</span><span class="n">ALIAS</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="n">STATUS</span><span class="p">&gt;</span><span class="n">INPUT_ERROR</span><span class="p">&lt;/</span><span class="n">STATUS</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="n">RETURN_CODE</span><span class="p">&gt;</span><span class="n">INVALID_CUSTOMER_INFO</span><span class="p">&lt;/</span><span class="n">RETURN_CODE</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="n">RETURN_MESSAGE</span><span class="p">&gt;</span><span class="n">Invalid</span> <span class="n">field</span> <span class="n">BILL_EMAIL</span><span class="p">&lt;/</span><span class="n">RETURN_MESSAGE</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="n">DATE</span><span class="p">&gt;</span><span class="m">2017</span><span class="p">-</span><span class="m">10</span><span class="p">-</span><span class="m">04</span> <span class="m">16</span><span class="p">:</span><span class="m">22</span><span class="p">:</span><span class="m">25</span><span class="p">&lt;/</span><span class="n">DATE</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="n">HASH</span><span class="p">&gt;&lt;/</span><span class="n">HASH</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
</code></pre>
<aside class="notice">
    ÖNEMLİ NOT:
Ekstra parametre olarak işaretlenen parametrelerin aktifleştirilmesi için üye işyeri satış temsilciniz ile iletişime geçebilir veya help@payu.com.tr adresinden bizler ile iletişime geçerek talep edebilirsiniz.
</aside>

<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
<th>Ekstra Parametre</th>
</tr>
</thead><tbody>
<tr>
<td>REFNO</td>
<td>İşleme ait PayU referans numarasının bildirildiği parametredir.</td>
<td>Hayır</td>
</tr>
<tr>
<td>ALIAS</td>
<td>Üye işyerinin kendi tarafında kullanabileceği benzersiz işlem dizesidir.</td>
<td>Hayır</td>
</tr>
<tr>
<td>STATUS</td>
<td>Alabileceği Değerler: <code> <strong>SUCCESS</strong> <strong>FAILED</strong> <strong>INPUT_ERROR</strong> </code></td>
<td>Hayır</td>
</tr>
<tr>
<td>RETURN_CODE</td>
<td>Alabileceği Değerler: <code> <strong>AUTHORIZED</strong> <strong>3DS_ENROLLED</strong> <strong>ALREADY_AUTHORIZED</strong> <strong>AUTHORIZATION_FAILED</strong> <strong>INVALID_CUSTOMER_INFO</strong> <strong>INVALID_PAYMENT_INFO</strong> <strong>INVALID_ACCOUNT</strong> <strong>INVALID_PAYMENT_METHOD_CODE</strong> <strong>INVALID_CURRENCY</strong> <strong>REQUEST_EXPIRED</strong> <strong>HASH_MISMATCH</strong> <strong>WRONG_VERSION</strong> <strong>INVALID_CC_TOKEN</strong></code></td>
<td>Hayır</td>
</tr>
<tr>
<td>RETURN_MESSAGE</td>
<td>RETURN_CODE parametreleri ile dönen değerlerin daha detaylı açıklamasını içeren parametredir.</td>
<td>Hayır</td>
</tr>
<tr>
<td>DATE</td>
<td>UTC formatında response zaman değerini belirten parametredir.</td>
<td>Hayır</td>
</tr>
<tr>
<td>URL_3DS</td>
<td>3DS_ENROLLED fonksiyonunun içerisinde işlemi 3D olarak tamamlatabilmek için 3D Secure sayfasına yönlendirmeniz gereken URL&#39;yi dönen parametredir.</td>
<td>Hayır</td>
</tr>
<tr>
<td>AMOUNT</td>
<td>Toplam işlem tutarını belirten parametredir. Mutlaka sıfırdan büyük olmalıdır.</td>
<td>Hayır</td>
</tr>
<tr>
<td>CURRENCY</td>
<td>İşlemde kullanılan para birimini belirten parametredir.</td>
<td>Hayır</td>
</tr>
<tr>
<td>INSTALLMENTS_NO</td>
<td>İşlemde seçilen taksit sayısını belirten parametredir.</td>
<td>Hayır</td>
</tr>
<tr>
<td>CARD_PROGRAM_NAME</td>
<td>İşlemde kullanılan kartın, program ismini belirten parametredir (Axess,Bonus vb.).</td>
<td>Hayır</td>
</tr>
<tr>
<td>ORDER_REF</td>
<td>Üye işyeri tarafından request sırasında belirlenen sipariş referans numarasıdır.</td>
<td>Hayır</td>
</tr>
<tr>
<td>AUTH_CODE</td>
<td>Bankanın otorizasyon işlem numarasıdır.</td>
<td>Hayır</td>
</tr>
<tr>
<td>RRN</td>
<td>Bankaların iade işlemi için kullandığı işlem numarasıdır.</td>
<td>Hayır</td>
</tr>
<tr>
<td>HASH</td>
<td>Response sırasında gelen tüm parametreler geldiği sıra ile uzunluğu alınıp, dizine çevirilip aynı algoritma ile hash hesaplaması sonucu elde edilen değerdir. URL_3DS, hash hesaplamasına dahil değildir.</td>
<td>Hayır</td>
</tr>
<tr>
<td>PROCRETURNCODE</td>
<td>Yanıt içerisinde bankaların hata açıklama kodunun iletildiği parametredir.</td>
<td>Evet</td>
</tr>
<tr>
<td>ERRORMESSAGE</td>
<td>Yanıt içerisinde bankaların hata açıklama mesajının iletildiği parametredir.</td>
<td>Evet</td>
</tr>
<tr>
<td>BANK_MERCHANT_ID</td>
<td>Yanıt içerisinde işlemin gerçekleştiği Sanal POS’un bankadaki üye işyeri numarasının iletildiği parametredir.</td>
<td>Evet</td>
</tr>
<tr>
<td>PAN</td>
<td>Yanıt içerisinde işlemin gerçekleştiği kartın numarasının maskeli biçimde iletildiği parametredir.</td>
<td>Evet</td>
</tr>
<tr>
<td>EXPYEAR</td>
<td>Yanıt içerisinde işlemin gerçekleştiği kartın son kullanma yılının iletildiği parametredir.</td>
<td>Evet</td>
</tr>
<tr>
<td>EXPMONTH</td>
<td>Yanıt içerisinde işlemin gerçekleştiği kartın son kullanma ayının iletildiği parametredir.</td>
<td>Evet</td>
</tr>
<tr>
<td>OID</td>
<td>Yanıt içerisinde üye işyerlerinin kendi belirledikleri sipariş numarasının iletildiği parametredir.</td>
<td>Evet</td>
</tr>
<tr>
<td>TERMINAL_BANK</td>
<td>Yanıt içerisinde işlemin gerçekleştiği Sanal POS bankasının iletildiği parametredir.</td>
<td>Evet</td>
</tr>
<tr>
<td>MDSTATUS, MDERRORMSG, TXSTATUS, XID, ECI, CAVV</td>
<td>Yanıt içerisinde 3DS işlem parametrelerinin iletildiği parametrelerdir.</td>
<td>Evet</td>
</tr>
<tr>
<td>TRANSID</td>
<td>Yanıt içerisinde banka işlem numarasının iletildiği parametredir.</td>
<td>Evet</td>
</tr>
<tr>
<td>CLIENTID</td>
<td>Yanıt içerisinde işlemin gerçekleştiği Sanal POS’un bankadaki müşteri numarasının iletildiği parametredir.</td>
<td>Evet</td>
</tr>
<tr>
<td>MDSTATUS, MDERRORMSG, TXSTATUS, XID, ECI, CAVV</td>
<td>Yanıt içerisinde 3DS işlem parametrelerinin iletildiği parametrelerdir.</td>
<td>Evet</td>
</tr>
</tbody></table>
<h3 id='hash-hesaplama'>Hash Hesaplama</h3>
<aside class="warning">
  ÖNEMLİ NOT:
 Güvenlik gerekçesiyle her HTTP POST isteği benzersiz bir imzaya sahip olmalıdır.
</aside>

<p>İstek yapılmadan önce, istekte bulunacak parametrelerin başına uzunlukları (UTF-8 bayt olarak) eklenerek bir dizi oluşturulur. Ardından dizi, PayU üye işyeri hesabınızın, Hesap Yönetimi/Hesap Ayarları bölümünde yer alan kodlama anahtarı bilgisi kullanılarak HMAC_MD5 algoritması ile hashlenir. </p>

<p><strong>Oluşan hash ORDER_HASH parametresine atanmalıdır.</strong></p>

<ul>
<li>HMAC MD5 algoritmasıyla ilgili bilgi için linki takip edebilirsiniz https://en.wikipedia.org/wiki/Hash-based_message_authentication_code</li>
</ul>

<p><b>1.Adım İşlem isteği gönderilmeden önce dizi içerisindeki tüm parametreler KEY&#39;e göre sıralanmalıdır.</b></p>

<p><code>BACK_REF : http://www.backref.com.tr</code> </br>
     <code>BILL_ADDRESS : Birinci Adres satır</code> </br>
     <code>BILL_ADDRESS2 : İkinci Adres satırı</code> </br>
     <code>BILL_CITY : ISTANBUL</code> </br>
     <code>BILL_COUNTRYCODE : TR</code> </br>
     <code>BILL_EMAIL : mail@mail.com</code> </br>
     <code>BILL_FAX : 02129003711</code> </br>
     <code>BILL_FNAME : Ad</code> </br>
     <code>BILL_LNAME : Soyad</code> </br>
     <code>BILL_PHONE : 02129003711</code> </br>
     <code>BILL_STATE : Ayazağa</code> </br>
     <code>BILL_ZIPCODE : 34000</code> </br>
     <code>CC_CVV : 000</code> </br>
     <code>CC_NUMBER : 4355084355084358</code> </br>
     <code>CC_OWNER : Ad Soyad</code> </br>
     <code>CLIENT_IP : 127.0.0.1</code> </br>
     <code>DELIVERY_ADDRESS : Birinci Adres satırı</code> </br>
     <code>DELIVERY_ADDRESS2 : İkinci Adres satırı</code> </br>
     <code>DELIVERY_CITY : ISTANBUL</code> </br>
     <code>DELIVERY_COMPANY : PayU Ödeme Kuruluşu A.Ş.</code> </br>
     <code>DELIVERY_COUNTRYCODE : Ayazağa</code> </br>
     <code>DELIVERY_EMAIL : mail@mail.com</code> </br>
     <code>DELIVERY_FNAME : Ad</code> </br>
     <code>DELIVERY_LNAME : Soyad</code> </br>
     <code>DELIVERY_PHONE : 02129003711</code> </br>
     <code>DELIVERY_STATE : TR</code> </br>
     <code>DELIVERY_ZIPCODE : 34000</code> </br>
     <code>EXP_MONTH : 12</code> </br>
     <code>EXP_YEAR : 2018</code> </br>
     <code>LANGUAGE : TR</code> </br>
     <code>MERCHANT : OPU_TEST</code> </br>
     <code>ORDER_DATE : 2017-10-04 11:10:23</code> </br>
     <code>ORDER_PCODE0 : Test Kodu</code> </br>
     <code>ORDER_PCODE1 : Test Kodu-2</code> </br>
     <code>ORDER_PINFO0 : Test Açıklaması</code> </br>
     <code>ORDER_PINFO1 : Test Açıklaması-2</code> </br>
     <code>ORDER_PNAME0 : Test Ürünü</code> </br>
     <code>ORDER_PNAME1 : Test Ürünü-2</code> </br>
     <code>ORDER_PRICE0 : 5</code> </br>
     <code>ORDER_PRICE1 : 15</code> </br>
     <code>ORDER_PRICE_TYPE0 : NET</code> </br>
     <code>ORDER_PRICE_TYPE1 : GROSS</code> </br>
     <code>ORDER_QTY0 : 1</code> </br>
     <code>ORDER_QTY1 : 3</code> </br>
     <code>ORDER_REF : 3245</code> </br>
     <code>ORDER_SHIPPING : 5</code> </br>
     <code>ORDER_VAT0 : 18</code> </br>
     <code>ORDER_VAT1 : 24</code> </br>
     <code>PAY_METHOD : CCVISAMC</code> </br>
     <code>PRICES_CURRENCY : TRY</code> </br></p>

<p><b> 2.Adım Keye göre sıralanan parametrelerin değerlerinin başına uzunlukları eklenerek HASH string oluşturulmalı (UTF-8 Bayt olarak).</b> </br></p>

<p><code>25http://www.backref.com.tr22Birinci Adres satırı22İkinci Adres satırı8ISTANBUL2TR13mail@mail.com11021290037112Ad5Soyad11021290037118Ayazağa53400030001643550843550843588Ad Soyad9127.0.0.122Birinci Adres satırı22İkinci Adres satırı8ISTANBUL27PayU Ödeme Kuruluşu A.Ş.8Ayazağa13mail@mail.com2Ad5Soyad11021290037112TR534000212420182TR8OPU_TEST192017-10-04 11:10:239Test Kodu11Test Kodu-218Test Açıklaması20Test Açıklaması-213Test Ürünü15Test Ürünü-2152153NET5GROSS111343245152182248CCVISAMC3TRY11</code> </br></p>

<p><b>3.Adım Oluşturulan dizi PayU üye işyeri hesabınızın Hesap Yönetimi / Hesap Ayarları bölümünde yer alan kodlama anahtarı bilgisi kullanılarak HMAC_MD5 algoritması ile hashlenmeli ve elde edilen değer ORDER_HASH parametresine atayarak işlem isteği endpointe gönderilmelidir. </b> </br></p>

<p><strong>Örnekte kullanılan kodlama anahtarı değeri: SECRET_KEY</strong></p>

<p><code>ORDER_HASH 271748a93c3781774104216d979c7d94</code></p>
<h3 id='3d-entegrasyonu'>3D Entegrasyonu</h3>
<p>3D entegrasyonu için; işlemin başlatıldığı sırada ilk alınan yanıtta elde edilen <url_3ds> </url_3ds> parametresi ile gelen URL&#39;i dinlemeli ve URL&#39;e yönlendirme yapılması beklenmektedir.
<aside class="warning">
Bu URL&#39;e değer post edilmemeli, yönlendirme gerçekleştirilmesi işlemin 3D aşamasının tamamlanması için yeterlidir.
</aside></p>

<p>Yapılması gereken düzenleme aşağıda ki gibidir:</p>

<p>Non-3D olarak gerçekleşen işlemlerde sistem  aşağıdaki gibi bir yanıt dönmektedir.</p>

<p><code>&lt;EPAYMENT&gt;</code> </br>
<code>&lt;REFNO&gt;41652325&lt;/REFNO&gt;</code>  </br>
<code>&lt;ALIAS&gt;3a9d9b9663a50a9ed0f545152320c9fb&lt;/ALIAS&gt;</code> </br>
<code>&lt;STATUS&gt;SUCCESS&lt;/STATUS&gt;</code> </br>
<code>&lt;RETURN_CODE&gt;AUTHORIZED&lt;/RETURN_CODE&gt;</code> </br>
<code>&lt;RETURN_MESSAGE&gt;Authorized.&lt;/RETURN_MESSAGE&gt;</code> </br>
<code>&lt;DATE&gt;2017-10-04 16:38:11&lt;/DATE&gt;</code> </br>
<code>&lt;AMOUNT&gt;10.9&lt;/AMOUNT&gt;</code> </br>
<code>&lt;CURRENCY&gt;TRY&lt;/CURRENCY&gt;</code> </br>
<code>&lt;INSTALLMENTS_NO&gt;1&lt;/INSTALLMENTS_NO&gt;</code> </br>
<code>&lt;CARD_PROGRAM_NAME&gt;AXESS&lt;/CARD_PROGRAM_NAME&gt;</code> </br>
<code>&lt;ORDER_REF&gt;84525&lt;/ORDER_REF&gt;</code> </br>
<code>&lt;AUTH_CODE&gt;342871&lt;/AUTH_CODE&gt;</code> </br>
<code>&lt;HASH&gt;f1c2e330b1ecad927969b679097d647c&lt;/HASH&gt;</code> </br>
<code>&lt;/EPAYMENT&gt;</code> </br></p>

<p>3D işlemlerde dönen yanıt ise aşağıdaki gibidir.</p>

<p><code>&lt;EPAYMENT&gt;</code> </br>
<code>&lt;REFNO&gt;41464560&lt;/REFNO&gt;</code> </br>
<code>&lt;ALIAS&gt;848a62efa487d6b75a0eca5654cc4099&lt;/ALIAS&gt;</code> </br>
<code>&lt;STATUS&gt;SUCCESS&lt;/STATUS&gt;</code> </br>
<code>&lt;RETURN_CODE&gt;3DS_ENROLLED&lt;/RETURN_CODE&gt;</code> </br>
<code>&lt;RETURN_MESSAGE&gt;3DS Enrolled Card.&lt;/RETURN_MESSAGE&gt;</code> </br>
<code>&lt;DATE&gt;2017-10-04 15:20:21&lt;/DATE&gt;</code> </br>
<code>&lt;URL_3DS&gt;https://secure.payu.com.tr/order/3ds/begin/refno/41464560/sign/b2968234be8cd88a63b0f5999b07d783/&lt;/URL_3DS&gt;</code> </br>
<code>&lt;HASH&gt;46b1dcfcda8166ea33582fa2d3da6abb&lt;/HASH&gt;</code> </br>
<code>&lt;/EPAYMENT&gt;</code> </br></p>

<p>Burada 3D yanıtını incelendiğinde 
<code>&lt;RETURN_CODE&gt;3DS_ENROLLED&lt;/RETURN_CODE&gt;</code> ve <code>&lt;URL_3DS&gt;https://secure.payu.com.tr/order/alu_return_3ds.php?request_id=2Xrl85eakbSBr3WtcbixYQ%3D%3D&lt;/URL_3DS&gt;</code>
şeklinde olduğunu görüntülenmekte.</p>

<p>Yapılması gereken <code>&lt;RETURN_CODE&gt;3DS_ENROLLED&lt;/RETURN_CODE&gt;</code> yanıtını alındığında <code>&lt;URL_3DS&gt;&lt;/URL_3DS&gt;</code> içinde yer alan URL&#39;e yönlendirme yapmaktır. Bu yönlendirmeyi sağladığında müşteri banka ekranına yönlendirilir ve şifre doğrulamasını yapması beklenir.</p>

<p>İşlem tamamlandığında ise işlem isteği gönderdiğiniz sırada tanımlamış olduğunuz BACK_REF URL&#39;e işlem sonucunu post edilir.
Yukarıdaki geliştirme ile yönlendirme sağlandığında, 3D işlem gerçekleştirilebilir.</p>

<p><a href='#md-status-kodlari-ve-aciklamalari'>MD Status Kodları ve Açıklamaları</a>&#39;nı inceleyerek 3D durumlarını yorumlayabilir ve ilerleyen aksiyonları bu kodlara göre alabilirsiniz.</p>
<h3 id='api-ile-bkm-express-entegrasyonu'>API ile BKM Express Entegrasyonu</h3>
<p>BKM Express Entegrasyonunda işlem isteğinden aşağıda listelenen kart parametrelerini API ile ödeme isteğinden çıkartıp <code>PAY_METHOD</code> parametresini <code>BKM</code> olarak değiştirmesi yeterlidir.</p>

<p><b>Çıkartılacak parametreler:</b></br>
- CC_OWNER </br>
- CC_NUMBER </br>
- CC_CVV </br>
- EXP_MONTH </br>
- EXP_YEAR </br></p>

<p><b>Kart parametreleri çıkartılıp, PAY_METHOD parametresi &quot;BKM&quot; olarak ayarlanarak işlem isteği gönderildiğinde elde edilecek response aşağıdaki gibidir.</b>
<code>&lt;EPAYMENT&gt;</code>  </br>
<code>&lt;REFNO&gt;55685381&lt;/REFNO&gt;</code>  </br>
<code>&lt;ALIAS&gt;b5db3513028556bc1be23505049fb5ca&lt;/ALIAS&gt;</code>  </br>
<code>&lt;STATUS&gt;SUCCESS&lt;/STATUS&gt;</code>  </br>
<code>&lt;RETURN_CODE&gt;PENDING_AUTHORIZATION&lt;/RETURN_CODE&gt;</code>  </br>
<code>&lt;RETURN_MESSAGE&gt;Order saved and pending authorization.&lt;/RETURN_MESSAGE&gt;</code>  </br>
<code>&lt;DATE&gt;2018-03-26 11:04:24&lt;/DATE&gt;</code>  </br>
<code>&lt;ORDER_REF&gt;Test303&lt;/ORDER_REF&gt;</code>  </br>
<code>&lt;URL_REDIRECT&gt;https://secure.payu.com.tr/order/pbl/redirect.php?hash=385af76c05ba92ff1ce38276e4be2c02&lt;/URL_REDIRECT&gt;</code>  </br>
<code>&lt;HASH&gt;079330a56b5ca62a4112553506df1b08&lt;/HASH&gt;</code>  </br>
<code>&lt;/EPAYMENT&gt;</code>  </br></p>

<p>Bu responseda iletilen URL_REDIRECT parametresindeki URL&#39;e yönlendirme yapılması durumunda BKM Ödeme sayfası açılacaktır ve işlem sonucunda BACK_REF adresinize geri dönüş sağlanacaktır.</p>
<h3 id='api-ile-compay-entegrasyonu'>API ile Compay Entegrasyonu</h3>
<p>Compay Entegrasyonunda işlem isteğinden aşağıda listelenen kart parametrelerini API ile ödeme isteğinden çıkartıp <code>PAY_METHOD</code> parametresini <code>COMPAY</code> olarak değiştirmesi yeterlidir.</p>

<p><b>Çıkartılacak parametreler:</b></br>
- CC_OWNER </br>
- CC_NUMBER </br>
- CC_CVV </br>
- EXP_MONTH </br>
- EXP_YEAR </br></p>

<p><b>Kart parametreleri çıkartılıp, PAY_METHOD parametresi &quot;COMPAY&quot; olarak ayarlanarak işlem isteği gönderildiğinde elde edilecek response aşağıdaki gibidir.</b>
<code>&lt;EPAYMENT&gt;</code>  </br>
<code>&lt;REFNO&gt;55685381&lt;/REFNO&gt;</code>  </br>
<code>&lt;ALIAS&gt;b5db3513028556bc1be23505049fb5ca&lt;/ALIAS&gt;</code>  </br>
<code>&lt;STATUS&gt;SUCCESS&lt;/STATUS&gt;</code>  </br>
<code>&lt;RETURN_CODE&gt;PENDING_AUTHORIZATION&lt;/RETURN_CODE&gt;</code>  </br>
<code>&lt;RETURN_MESSAGE&gt;Order saved and pending authorization.&lt;/RETURN_MESSAGE&gt;</code>  </br>
<code>&lt;DATE&gt;2018-03-26 11:04:24&lt;/DATE&gt;</code>  </br>
<code>&lt;ORDER_REF&gt;Test303&lt;/ORDER_REF&gt;</code>  </br>
<code>&lt;URL_REDIRECT&gt;https://secure.payu.com.tr/order/pbl/redirect.php?hash=385af76c05ba92ff1ce38276e4be2c02&lt;/URL_REDIRECT&gt;</code>  </br>
<code>&lt;HASH&gt;079330a56b5ca62a4112553506df1b08&lt;/HASH&gt;</code>  </br>
<code>&lt;/EPAYMENT&gt;</code>  </br></p>

<p>Bu responseda iletilen URL_REDIRECT parametresindeki URL&#39;e yönlendirme yapılması durumunda Compay Ödeme sayfası açılacaktır ve işlem sonucunda BACK_REF adresinize geri dönüş sağlanacaktır.</p>
<h1 id='lu-ortak-odeme-sayfasi-entegrasyonu'>LU(Ortak Ödeme Sayfası) Entegrasyonu</h1>
<p>Ortak ödeme sayfası üzerinden işlem gerçekleştirmek için; HTTPS POST iletişim protokolü kullanılarak https://secure.payu.com.tr/order/lu.php adresine istek yapılması gerekmektedir. 
Bu isteğin içeriği aşağıdaki zorunlu parametrelerden oluşmalıdır. </p>
<h2 id='istek-parametreleri-2'>İstek Parametreleri</h2>
<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>MERCHANT</td>
<td>İşyerini ID bilgisidir. Üye İşyeri Kontrol Paneli’nde, hesap ayarları sayfasında bulunmaktadır.</td>
</tr>
<tr>
<td>ORDER_REF</td>
<td>İşyerinin kendi belirlediği sipariş/işlem numarasıdır.</td>
</tr>
<tr>
<td>ORDER_DATE</td>
<td>İşlem/sipariş saati</td>
</tr>
<tr>
<td>ORDER_HASH</td>
<td>Sipariş içeriğindeki tüm parametrelere HMAC_MD5 algoritması uygulanmalıdır. Dokümanın 2. bölümünde hash hesaplaması anlatılmaktadır.</td>
</tr>
<tr>
<td>BACK_REF</td>
<td>Ödeme işlemi tamamlandıktan sonra kullanıcının yönlendirileceği URL’dir. 3D işlemlerde işleme ait parametreler de BACK_REF URL’e post edilir.</td>
</tr>
<tr>
<td>PRICES_CURRENCY[]</td>
<td>İşlemin gerçekleşeceği para birimini belirleyen parametredir (TRY, EUR, USD, GBP). Türk kartlar için dövizli işlem gönderilmemelidir.</td>
</tr>
<tr>
<td>INSTALLMENT_OPTIONS</td>
<td>Ortak ödeme sayfasında gösterilecek taksit sayısını belirtebileceginiz parametredir.</td>
</tr>
<tr>
<td>ORDER_SHIPPING</td>
<td>Teslimat/Kargo ücretinin belirtildiği parametredir. Kullanılan para birimi ürün bilgisindeki PRICES_CURRENCY[]’den alınmaktadır.</td>
</tr>
</tbody></table>
<h2 id='urun-parametreleri'>Ürün Parametreleri</h2>
<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>ORDER_PNAME[]</td>
<td>Minimum 2, maksimum 155 karakterden oluşan ürün isminin gönderildiği parametredir.</td>
</tr>
<tr>
<td>ORDER_PCODE[]</td>
<td>Maksimum 50 karakterden oluşan ürün kodunun gönderildiği parametredir.</td>
</tr>
<tr>
<td>ORDER_PRICE[]</td>
<td>Ürün fiyatının gönderildiği parametredir. Ondalık simgesi olarak &quot;.&quot;(nokta) kullanılmalıdır. &quot;,&quot;(virgül) kullanımında hata alınacaktır.</td>
</tr>
<tr>
<td>ORDER_VAT[]</td>
<td>Üründe uygulanan verginin belirlendiği parametredir 1, 8 veya 18 olarak belirlenmelidir.</td>
</tr>
<tr>
<td>ORDER_PRICE_TYPE[]</td>
<td>KDV tipinin belirlendiği parametredir. &quot;GROSS&quot; değeri ile gönderilmesi durumunda ürün fiyatına KDV dahil kabul edilecektir. &quot;NET&quot; gönderilmesi durumunda KDV, PayU tarafından ürünün tutarına eklenecektir.</td>
</tr>
<tr>
<td>ORDER_QTY[]</td>
<td>Ürün adedinin belirlendiği parametredir.</td>
</tr>
<tr>
<td>ORDER_PINFO[]</td>
<td>Ürün bilgisinin belirtildiği parametredir.</td>
</tr>
<tr>
<td>ORDER_VER[]</td>
<td>Ürün versiyonunun belirtildiği parametredir.</td>
</tr>
</tbody></table>
<h2 id='fatura-parametreleri'>Fatura Parametreleri</h2>
<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>BILL_LNAME</td>
<td>Fatura düzenlenecek kişinin soyadı.</td>
</tr>
<tr>
<td>BILL_FNAME</td>
<td>Fatura düzenlenecek kişinin adı.</td>
</tr>
<tr>
<td>BILL_EMAIL</td>
<td>Fatura düzenlenecek kişinin email adresi.</td>
</tr>
<tr>
<td>BILL_PHONE</td>
<td>Fatura düzenlenecek kişinin telefon numarası.</td>
</tr>
<tr>
<td>BILL_COUNTRYCODE</td>
<td>Fatura düzenlenecek kişinin iki karakterli ülke kodu. (ISO Alpha-2 formatında)</td>
</tr>
</tbody></table>
<h2 id='fatura-parametreleri-2'>Fatura Parametreleri</h2>
<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>BILL_FAX</td>
<td>Fatura düzenlenecek kişinin faks numarasının belirtildiği parametredir.</td>
</tr>
<tr>
<td>BILL_ADDRESS</td>
<td>Fatura düzenlenecek kişinin adresinin belirtildiği parametredir.</td>
</tr>
<tr>
<td>BILL_ADDRESS2</td>
<td>Fatura düzenlenecek kişinin adresinin belirtildiği parametredir. (ikinci satır için)</td>
</tr>
<tr>
<td>BILL_ZIPCODE</td>
<td>Fatura düzenlenecek kişinin posta kodunun belirtildiği parametredir.</td>
</tr>
<tr>
<td>BILL_CITY</td>
<td>Fatura düzenlenecek kişinin şehir bilgisinin belirtildiği parametredir.</td>
</tr>
<tr>
<td>BILL_STATE</td>
<td>Fatura düzenlenecek kişinin semt/ilçe bilgisinin belirtildiği parametredir.</td>
</tr>
</tbody></table>
<h2 id='teslimat-parametreleri'>Teslimat Parametreleri</h2>
<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>DELIVERY_LNAME</td>
<td>Teslim edilecek kişinin soyadı. (!)</td>
</tr>
<tr>
<td>DELIVERY_FNAME</td>
<td>Teslim edilecek kişinin adı. (!)</td>
</tr>
<tr>
<td>DELIVERY_EMAIL</td>
<td>Teslim edilecek kişinin email adresi. (!)</td>
</tr>
<tr>
<td>DELIVERY_PHONE</td>
<td>Teslim edilecek kişinin telefon numarası. (!)</td>
</tr>
<tr>
<td>DELIVERY_COMPANY</td>
<td>Teslim edilecek kişinin şirket bilgisi.</td>
</tr>
<tr>
<td>DELIVERY_ADDRESS</td>
<td>Teslim edilecek kişinin adresi. (!)</td>
</tr>
<tr>
<td>DELIVERY_ADDRESS2</td>
<td>Teslim edilecek kişinin adresi. (ikinci satır için)</td>
</tr>
<tr>
<td>DELIVERY_ZIPCODE</td>
<td>Teslim edilecek kişinin posta kodu.</td>
</tr>
<tr>
<td>DELIVERY_CITY</td>
<td>Teslim edilecek kişinin şehir bilgisi. (!)</td>
</tr>
<tr>
<td>DELIVERY_STATE</td>
<td>Teslim edilecek kişinin semt/ilçe bilgisi. (!)</td>
</tr>
<tr>
<td>DELIVERY_COUNTRYCODE</td>
<td>Teslim edilecek kişinin iki karakterli ülke kodu. (ISO Alpha-2 formatında). (!)</td>
</tr>
</tbody></table>
<h2 id='hash-hesaplama-2'>Hash Hesaplama</h2>
<aside class="warning">
  ÖNEMLİ NOT:
 Güvenlik gerekçesiyle her HTTP POST isteği benzersiz bir imzaya sahip olmalıdır.
</aside>

<p>İstek yapılmadan önce, istekte bulunacak parametrelerin başına uzunlukları (UTF-8 bayt olarak) eklenerek bir dizi oluşturulur. Ardından dizi, PayU üye işyeri hesabınızın, Hesap Yönetimi/Hesap Ayarları bölümünde yer alan kodlama anahtarı bilgisi kullanılarak HMAC_MD5 algoritması ile hashlenir. </p>

<p><strong>Oluşan hash ORDER_HASH parametresine atanmalıdır.</strong></p>

<ul>
<li>HMAC MD5 algoritmasıyla ilgili bilgi için linki takip edebilirsiniz https://en.wikipedia.org/wiki/Hash-based_message_authentication_code</li>
</ul>

<p><b> Hash hesaplama adımları aşağıdaki gibi olmalıdır: </b></p>

<p><b> 1. Adım: PayU&#39;ya işlem isteği gönderilmeden önce <b>sadece</b> aşağıdaki parametreler hash hesaplamasına dahil edileceğinden; sadece aşağıdaki parametreler örnekteki gibi sıralanmalıdır.</b></p>

<p><code>&#39;MERCHANT&#39;: &#39;OPU_TEST&#39;,</code> </br>
        <code>&#39;ORDER_REF&#39;: &quot;21831832&quot;,</code> </br>
        <code>&#39;ORDER_DATE&#39;: 2018-03-28,</code> </br>
        <code>&#39;ORDER_PNAME[0]&#39;: &#39;Test Urun&#39;,</code> </br>
        <code>&#39;ORDER_PNAME[1]&#39;: &#39;Test Urun-2&#39;,</code> </br>
        <code>&#39;ORDER_PCODE[0]&#39;:&#39;Test Urun Kodu-2&#39;,</code> </br>
        <code>&#39;ORDER_PCODE[1]&#39;:&#39;Test Urun Kodu&#39;,</code> </br>
        <code>&#39;ORDER_PINFO[0]&#39;:&#39;Test urun Aciklamasi-2&#39;,</code> </br>
        <code>&#39;ORDER_PINFO[1]&#39;:&#39;Test urun Aciklamasi&#39;,</code> </br>
        <code>&#39;ORDER_PRICE[0]&#39;:&#39;10&#39;,</code> </br>
        <code>&#39;ORDER_PRICE[1]&#39;:&#39;20&#39;,</code> </br>
        <code>&#39;ORDER_QTY[0]&#39;:&#39;1&#39;,</code> </br>
        <code>&#39;ORDER_QTY[1]&#39;:&#39;2&#39;,</code> </br>
        <code>&#39;ORDER_VAT[0]&#39;:&#39;18&#39;,</code> </br>
        <code>&#39;ORDER_VAT[1]&#39;:&#39;18&#39;,</code> </br>
        <code>&#39;ORDER_SHIPPING&#39;:&#39;5&#39;,</code> </br>
        <code>&#39;PRICES_CURRENCY&#39;: &#39;TRY&#39;,</code> </br>
        <code>&#39;PAY_METHOD&#39;: &#39;CCVISAMC&#39;,</code> </br>
        <code>&#39;ORDER_PRICE_TYPE[0]&#39;:&#39;GROSS&#39;,</code> </br>
        <code>&#39;ORDER_PRICE_TYPE[1]&#39;:&#39;NET&#39;,</code> </br>
        <code>&#39;SELECTED_INSTALLMENTS_NO&#39;: &#39;1,2,3,4,5,6,7,8,9,10,11,12&#39;</code> </br></p>

<aside class="warning">
ORDER_PNAME, ORDER_PCODE, ORDER_PINFO, ORDER_PRICE and ORDER_QTY parametreleri köşeli parantez ( [] ) kullanılarak parantez içerisine sıra numarası yazılmalı.
</aside>

<p><b> 2. Adım: Sıralanan parametrelerin değerlerinin başına uzunlukları eklenerek HASH string oluşturulmalıdır (UTF-8 Bayt olarak). </b></p>

<p><code>8OPU_TEST821831832102018-03-289Test Urun11Test Urun-216Test Urun Kodu-214Test Urun Kodu22Test urun Aciklamasi-220Test urun Aciklamasi2102201112218218153TRY8CCVISAMC5GROSS3NET261,2,3,4,5,6,7,8,9,10,11,12</code> </p>

<p><b>3. Adım: Oluşturulan dizi PayU üye işyeri hesabınızın Hesap Yönetimi / Hesap Ayarları bölümünde yer alan kodlama anahtarı bilgisi kullanılarak HMAC_MD5 algoritması ile hashlenmeli ve ORDER_HASH parametresine eklenerek post işlemi gerçekleştirilmelidir. </b></p>

<p><b> Örnekte kullanılan kodlama anahtarı değer: SECRET_KEY </b></p>

<p><code>46021bad8f3e5998f60a6daa7d679f43</code></p>
<h2 id='odeme-sonrasi-geri-donus'>Ödeme Sonrası Geri Dönüş</h2>
<p>Ödeme aşamasından sonra eğer işlem başarılı olursa belirtmiş olduğunuz BACK_REF parametresine bir kontrol değişkeni ile dönülüyor olacaktır.
Eğer ödeme başarısız olursa kart sahibi ortak ödeme sayfasına kalacak ve tekrar denemesi için işlem başa alınacaktır.</p>
<h3 id='ctrl-degiskeninin-hesaplamasi'>CTRL Değişkeninin Hesaplaması</h3>
<aside class="warning">
Üye işyerinin talep etmesi durumunda, geri dönüş sırasında opsiyonel parametreler aktifleştirilebilir. Bu aktivasyon ile birlikte geri dönüş sırasında 3d secure durumu, Date, PayU Ref No değerleri URL'sonuna aşağıdaki örnek gibi PayU tarafından otomatik olarak eklenir.</br>
<b>https://www.backref.com.tr/return.php?3dsecure=NO&date=2018-03-28%2021%3A26%3A44&payrefno=56390894&ctrl=2df7a648b80ab5dc62f195141b8ba454</b>
</aside>

<p><b> 1. Adım: BACK_REF parametresine atadığımız URL&#39;imizin karakter uzunluğunu almalı ve başına eklenmeli.</b> </br>
Bu örnekte https://www.backrefurl.com/return.php URL&#39;i BACK_REF olarak kullanılmıştır. </p>

<p><code>36https://www.backrefurl.com/return.php</code> </br></p>

<p><b> 2. Adım: Karakter uzunluğu alınıp başına eklenen BACK_REF parametresi, üye iş yeri hesabınıza tanımlı olan kodlama anahtarı ile HMAC MD5 algoritması ile hashlenmeli. Bu örnekte Kodlama anahtarı SECRET_KEY kullanılmıştır. </b> </br></p>

<p><b> Bu örnekte Kodlama anahtarı SECRET_KEY kullanılmıştır. </b> </br></p>

<p><code>3dce9ddf2f4a2ee4af647d9dfb62f0f3</code></p>

<p><b> 3. Adım: Ardından oluşan bu hash ile BACK_REF&#39;i beklenmesi gerekmektedir. </b> </br></p>

<p><code>https://www.backrefurl.com/return.php&amp;ctrl=3dce9ddf2f4a2ee4af647d9dfb62f0f3</code></p>
<h1 id='payu-checkout-entegrasyonu'>PayU Checkout Entegrasyonu</h1>
<p>PayU Checkout, müşterilerinize ürün detay sayfasından ödeme sayfasına yönlendirme olmaksızın pop-up (açılır pencere)de ödeme alma imkanı sunar.</p>

<aside class="warning">
PayU Checkout Ürününü kullanabilmek için satış temsilciniz ile iletişime geçerek ürün yetkinizi aktifleştirmeniz gerekmektedir.
</aside>
<h2 id='payu-checkout-frontend-entegrasyonu'>PayU Checkout Frontend Entegrasyonu</h2>
<p>Entegrasyon HTML içerisinde ürün ile ilgili bilgilerin olduğu ve ödemeyi başlatmak için tıklanabilir buton barındıran FORM içermelidir.
Ödeme tamamlandığında form içerisinde otomatik olarak adı token olan gizli bir INPUT alanı eklenecektir.</p>
<h3 id='parametreler'>Parametreler</h3>
<blockquote>
<p><a href="http://www.payudemo.com/payucheckout/"> PayU Checkout Örneği için tıklayınız</a> </br></p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"GET"</span> <span class="na">action=</span><span class="s">"https://secure.payu.com.tr/docs/modal-checkout/merchant/ru-example-integration-return.php"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">name=</span><span class="s">"MerchantOrderRefNo"</span> <span class="na">value=</span><span class="s">"123213123124312"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;script </span><span class="na">id=</span><span class="s">"payu-modal-checkout"</span> <span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"/pay/modal-checkout/integration/payu-modal-checkout.js"</span> <span class="na">data-merchant-code=</span><span class="s">"OPU_TEST"</span> <span class="na">data-merchant-logo=</span><span class="s">"https://secure.payu.com.tr/docs/modal-checkout/merchant/dummy-logo.png"</span> <span class="na">data-client-firstname=</span><span class="s">"Average"</span> <span class="na">data-client-lastname=</span><span class="s">"Joes"</span> <span class="na">data-client-email=</span><span class="s">"average.joes@payu.ro"</span> <span class="na">data-client-phone=</span><span class="s">"+40729.12.34.56"</span> <span class="na">data-order-amount=</span><span class="s">"799.99"</span> <span class="na">data-order-currency=</span><span class="s">"TRY"</span> <span class="na">data-language=</span><span class="s">"tr"</span> <span class="na">data-button=</span><span class="s">"payButton"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"Pay"</span> <span class="na">id=</span><span class="s">"payButton"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="o">&lt;</span><span class="n">form</span> <span class="n">method</span><span class="o">=</span><span class="s">"GET"</span> <span class="n">action</span><span class="o">=</span><span class="s">"https://secure.payu.com.tr/docs/modal-checkout/merchant/ru-example-integration-return.php"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s">"hidden"</span> <span class="n">name</span><span class="o">=</span><span class="s">"MerchantOrderRefNo"</span> <span class="n">value</span><span class="o">=</span><span class="s">"123213123124312"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">script</span> <span class="nb">id</span><span class="o">=</span><span class="s">"payu-modal-checkout"</span> <span class="nb">type</span><span class="o">=</span><span class="s">"text/javascript"</span> <span class="n">src</span><span class="o">=</span><span class="s">"/pay/modal-checkout/integration/payu-modal-checkout.js"</span> <span class="n">data</span><span class="o">-</span><span class="n">merchant</span><span class="o">-</span><span class="n">code</span><span class="o">=</span><span class="s">"OPU_TEST"</span> <span class="n">data</span><span class="o">-</span><span class="n">merchant</span><span class="o">-</span><span class="n">logo</span><span class="o">=</span><span class="s">"https://secure.payu.com.tr/docs/modal-checkout/merchant/dummy-logo.png"</span> <span class="n">data</span><span class="o">-</span><span class="n">client</span><span class="o">-</span><span class="n">firstname</span><span class="o">=</span><span class="s">"Average"</span> <span class="n">data</span><span class="o">-</span><span class="n">client</span><span class="o">-</span><span class="n">lastname</span><span class="o">=</span><span class="s">"Joes"</span> <span class="n">data</span><span class="o">-</span><span class="n">client</span><span class="o">-</span><span class="n">email</span><span class="o">=</span><span class="s">"average.joes@payu.ro"</span> <span class="n">data</span><span class="o">-</span><span class="n">client</span><span class="o">-</span><span class="n">phone</span><span class="o">=</span><span class="s">"+40729.12.34.56"</span> <span class="n">data</span><span class="o">-</span><span class="n">order</span><span class="o">-</span><span class="n">amount</span><span class="o">=</span><span class="s">"799.99"</span> <span class="n">data</span><span class="o">-</span><span class="n">order</span><span class="o">-</span><span class="n">currency</span><span class="o">=</span><span class="s">"TRY"</span> <span class="n">data</span><span class="o">-</span><span class="n">language</span><span class="o">=</span><span class="s">"tr"</span> <span class="n">data</span><span class="o">-</span><span class="n">button</span><span class="o">=</span><span class="s">"payButton"</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s">"button"</span> <span class="n">value</span><span class="o">=</span><span class="s">"Pay"</span> <span class="nb">id</span><span class="o">=</span><span class="s">"payButton"</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">form</span> <span class="nx">method</span><span class="o">=</span><span class="s2">"GET"</span> <span class="nx">action</span><span class="o">=</span><span class="s2">"https://secure.payu.com.tr/docs/modal-checkout/merchant/ru-example-integration-return.php"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"hidden"</span> <span class="nx">name</span><span class="o">=</span><span class="s2">"MerchantOrderRefNo"</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"123213123124312"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">script</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"payu-modal-checkout"</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">src</span><span class="o">=</span><span class="s2">"/pay/modal-checkout/integration/payu-modal-checkout.js"</span> <span class="nx">data</span><span class="o">-</span><span class="nx">merchant</span><span class="o">-</span><span class="nx">code</span><span class="o">=</span><span class="s2">"OPU_TEST"</span> <span class="nx">data</span><span class="o">-</span><span class="nx">merchant</span><span class="o">-</span><span class="nx">logo</span><span class="o">=</span><span class="s2">"https://secure.payu.com.tr/docs/modal-checkout/merchant/dummy-logo.png"</span> <span class="nx">data</span><span class="o">-</span><span class="nx">client</span><span class="o">-</span><span class="nx">firstname</span><span class="o">=</span><span class="s2">"Average"</span> <span class="nx">data</span><span class="o">-</span><span class="nx">client</span><span class="o">-</span><span class="nx">lastname</span><span class="o">=</span><span class="s2">"Joes"</span> <span class="nx">data</span><span class="o">-</span><span class="nx">client</span><span class="o">-</span><span class="nx">email</span><span class="o">=</span><span class="s2">"average.joes@payu.ro"</span> <span class="nx">data</span><span class="o">-</span><span class="nx">client</span><span class="o">-</span><span class="nx">phone</span><span class="o">=</span><span class="s2">"+40729.12.34.56"</span> <span class="nx">data</span><span class="o">-</span><span class="nx">order</span><span class="o">-</span><span class="nx">amount</span><span class="o">=</span><span class="s2">"799.99"</span> <span class="nx">data</span><span class="o">-</span><span class="nx">order</span><span class="o">-</span><span class="nx">currency</span><span class="o">=</span><span class="s2">"EUR"</span> <span class="nx">data</span><span class="o">-</span><span class="nx">language</span><span class="o">=</span><span class="s2">"tr"</span> <span class="nx">data</span><span class="o">-</span><span class="nx">button</span><span class="o">=</span><span class="s2">"payButton"</span><span class="o">&gt;&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"button"</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"Pay"</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"payButton"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="sr">/form</span><span class="err">&gt;
</span></code></pre>
<p>Javascript URL: <code>https://secure.payu.com.tr/pay/modal-checkout/integration/payu-modal-checkout.js</code> </br></p>

<p><a href="http://www.payudemo.com/payucheckout/"> PayU Checkout Örneği için tıklayınız</a> </br></p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>data-merchant-code</td>
<td>Merchant ID&#39;niz API&#39;ya gönderilen bu parametre ile aynı değere sahip olmalıdır.</td>
</tr>
<tr>
<td>data-merchant-logo</td>
<td>Logonuzun bulunduğu URL adresi (string)</td>
</tr>
<tr>
<td>data-order-amount</td>
<td>Sipariş Miktarı (int</td>
</tr>
<tr>
<td>data-order-currency</td>
<td>Para birimi (string) ALU&#39;ya gönderilen PRICES_CURRENCY parametresiyle aynı değere sahip olmalıdır..</td>
</tr>
<tr>
<td>data-client-email</td>
<td>Müşteri email adresi (string) ALU&#39;ya gönderilen BILL_EMAIL parametresiyle aynı değere sahip olmalıdır..</td>
</tr>
<tr>
<td>data-client-firstname</td>
<td>Müşteri Adı (string)</td>
</tr>
<tr>
<td>data-client-lastname</td>
<td>Müşteri Soyadı (string)</td>
</tr>
<tr>
<td>data-client-phone</td>
<td>Müşteri Telefonu(string)</td>
</tr>
<tr>
<td>data-language</td>
<td>Arayüz dili (string)  <b>İzin verilen değerler:</b> en, ro, ru, ua, hu, de, es, fr</td>
</tr>
<tr>
<td>data-button</td>
<td>Ödeme butonunun HTML ID&#39;si (string)</td>
</tr>
</tbody></table>
<h2 id='payu-checkout-backend-entegrasyonu'>PayU Checkout Backend Entegrasyonu</h2>
<p>Frontend ile üretilen Token değeri ile birlikte ALU(API ile Ödeme) kullanılarak işlemler doğrudan PayU’ya gönderilmelidir. 
Detaylı bilgiye <a href='#alu-v3-api-entegrasyonu'>ALU v3(API) Entegrasyonu</a> dokümanından ulaşabilirsiniz.</p>

<p><b> Örnek istek aşağıdaki gibi olmalıdır.</b></br></p>

<p><code>&quot;MERCHANT&quot; =&gt; &quot;OPU_TEST&quot;,</code> </br>
<code>&quot;LANGUAGE&quot; =&gt; &quot;TR&quot;,</code> </br>
<code>&quot;ORDER_REF&quot; =&gt;  235125,</code> </br>
<code>&quot;ORDER_DATE&quot; =&gt; &quot;2017-10-06 21:24:21&quot;,</code> </br>
<code>&quot;PAY_METHOD&quot; =&gt; &quot;CCVISAMC&quot;,</code> </br>
<code>&quot;BACK_REF&quot; =&gt; &quot;http://www.backref.com.tr&quot;,</code> </br>
<code>&quot;PRICES_CURRENCY&quot; =&gt; &quot;TRY&quot;,</code> </br>
<code>&quot;SELECTED_INSTALLMENTS_NUMBER&quot; =&gt; &quot;1&quot;,</code> </br>
<code>&quot;ORDER_SHIPPING&quot;=&gt;&quot;5&quot;,</code> </br>
<code>&quot;CLIENT_IP&quot; =&gt; &quot;127.0.0.1&quot;,</code> </br></p>

<p><code>&quot;ORDER_PNAME[0]&quot; =&gt; &quot;Test Ürünü&quot;,</code> </br>
<code>&quot;ORDER_PCODE[0]&quot; =&gt; &quot;Test Kodu&quot;,</code> </br>
<code>&quot;ORDER_PINFO[0]&quot; =&gt; &quot;Test Açıklaması&quot;,</code> </br>
<code>&quot;ORDER_PRICE[0]&quot; =&gt; &quot;5&quot;,</code> </br>
<code>&quot;ORDER_VAT[0]&quot;=&gt;&quot;18&quot;,</code> </br>
<code>&quot;ORDER_PRICE_TYPE[0]&quot;=&gt;&quot;NET&quot;,</code> </br>
<code>&quot;ORDER_QTY[0]&quot; =&gt; &quot;1&quot;,</code> </br></p>

<p><code>&quot;CC_TOKEN&quot; =&gt; &quot;ZweUQS5LCyl5VdtlgZelHjSC3p7q3rdOvZIcjTstK6fy6lyFEe/UKJNKpikuAo+BvLQTe6Dg3C8iS2qtczP7+IU3Ui04EdIonG0C1nbJd6o=&quot;,</code> </br>
<code>&quot;CC_NUMBER&quot; =&gt; &quot;&quot;,</code> </br>
<code>&quot;EXP_MONTH&quot; =&gt; &quot;&quot;,</code> </br>
<code>&quot;EXP_YEAR&quot; =&gt; &quot;&quot;,</code> </br>
<code>&quot;CC_CVV&quot; =&gt; &quot;&quot;,</code> </br>
<code>&quot;CC_OWNER&quot; =&gt; &quot;Ad Soyad&quot;,</code> </br></p>

<p><code>&quot;BILL_FNAME&quot; =&gt; &quot;Ad&quot;,</code> </br>
<code>&quot;BILL_LNAME&quot; =&gt; &quot;Soyad&quot;,</code> </br>
<code>&quot;BILL_EMAIL&quot; =&gt; &quot;mail@mail.com&quot;,</code> </br>
<code>&quot;BILL_PHONE&quot; =&gt; &quot;02129003711&quot;,</code> </br>
<code>&quot;BILL_FAX&quot; =&gt; &quot;02129003711&quot;,</code> </br>
<code>&quot;BILL_ADDRESS&quot; =&gt; &quot;Birinci Adres satırı&quot;,</code> </br>
<code>&quot;BILL_ADDRESS2&quot; =&gt; &quot;İkinci Adres satırı&quot;,</code> </br>
<code>&quot;BILL_ZIPCODE&quot; =&gt; &quot;34000&quot;,</code> </br>
<code>&quot;BILL_CITY&quot; =&gt; &quot;ISTANBUL&quot;,</code> </br>
<code>&quot;BILL_COUNTRYCODE&quot; =&gt; &quot;TR&quot;,</code> </br>
<code>&quot;BILL_STATE&quot; =&gt; &quot;Ayazağa&quot;,</code> </br></p>

<p><code>&quot;DELIVERY_FNAME&quot; =&gt; &quot;Ad&quot;,</code> </br>
<code>&quot;DELIVERY_LNAME&quot; =&gt; &quot;Soyad&quot;,</code> </br>
<code>&quot;DELIVERY_EMAIL&quot; =&gt; &quot;mail@mail.com&quot;,</code> </br>
<code>&quot;DELIVERY_PHONE&quot; =&gt; &quot;02129003711&quot;,</code> </br>
<code>&quot;DELIVERY_COMPANY&quot; =&gt; &quot;PayU Ödeme Kuruluşu A.Ş.&quot;,</code> </br>
<code>&quot;DELIVERY_ADDRESS&quot; =&gt; &quot;Birinci Adres satırı&quot;,</code> </br>
<code>&quot;DELIVERY_ADDRESS2&quot; =&gt; &quot;İkinci Adres satırı&quot;,</code> </br>
<code>&quot;DELIVERY_ZIPCODE&quot; =&gt; &quot;34000&quot;,</code> </br>
<code>&quot;DELIVERY_CITY&quot; =&gt; &quot;ISTANBUL&quot;,</code> </br>
<code>&quot;DELIVERY_STATE&quot; =&gt; &quot;TR&quot;,</code> </br>
<code>&quot;DELIVERY_COUNTRYCODE&quot; =&gt; &quot;Ayazağa&quot;,</code> </br></p>
<h2 id='javascript-hata-mesajlari'>Javascript Hata Mesajları</h2>
<table><thead>
<tr>
<th>Hata Mesajı</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>Invalid browser <browser / version></td>
<td>Tarayıcı, uygulama tarafından desteklenmiyor (Bk.: Desteklenen tarayıcılar)</td>
</tr>
<tr>
<td>Invalid parameter: <parameter></td>
<td>Belirtilen parametre geçersiz (eksik veya bozuk biçim)</td>
</tr>
<tr>
<td>Pay button not specified</td>
<td>data-button parametresi belirtilmemiş</td>
</tr>
<tr>
<td>Specified Pay button not found</td>
<td>HTML içerisinde data-button parametresi ile belirtilen buton bulunamadı</td>
</tr>
<tr>
<td>Script must be inserted directly inside a form</td>
<td>Script doğrudan form içerisine eklenmelidir.</td>
</tr>
</tbody></table>
<h2 id='browser-uyumlulugu'>Browser Uyumluluğu</h2>
<table><thead>
<tr>
<th>İşletim Sistemi</th>
<th>Tarayıcı</th>
<th>Destekliyor</th>
</tr>
</thead><tbody>
<tr>
<td>Windows XP</td>
<td>IE 6</td>
<td>Hayır</td>
</tr>
<tr>
<td>Windows XP</td>
<td>IE 7</td>
<td>Hayır</td>
</tr>
<tr>
<td>Windows XP</td>
<td>Firefox 10 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows XP</td>
<td>Chrome 24 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows XP</td>
<td>Opera 12.15 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 7</td>
<td>IE 8</td>
<td>Hayır</td>
</tr>
<tr>
<td>Windows 7</td>
<td>IE 9 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 7</td>
<td>Firefox 10 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 7</td>
<td>Chrome 24 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 7</td>
<td>Opera 12.15 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 8</td>
<td>IE 10</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 8</td>
<td>Firefox 16 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 8</td>
<td>Chrome 24 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 8.1</td>
<td>IE 11</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 8.1</td>
<td>Firefox 16 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 8.1</td>
<td>Chrome 24 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 10</td>
<td>IE 11</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 10</td>
<td>Edge 13</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 10</td>
<td>Edge 14</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 10</td>
<td>Firefox 35 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 10</td>
<td>Chrome 37 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>OS X</td>
<td>Safari 5.1</td>
<td>Evet</td>
</tr>
<tr>
<td>OS X</td>
<td>Safari 6</td>
<td>Evet</td>
</tr>
<tr>
<td>OS X</td>
<td>Safari 6.2</td>
<td>Evet</td>
</tr>
<tr>
<td>OS X</td>
<td>Safari 7</td>
<td>Evet</td>
</tr>
<tr>
<td>OS X</td>
<td>Safari 8</td>
<td>Evet</td>
</tr>
<tr>
<td>OS X</td>
<td>Safari 9.1</td>
<td>Evet</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Mobil İşletim Sistemi</th>
<th>Tarayıcı</th>
<th>Destekliyor</th>
</tr>
</thead><tbody>
<tr>
<td>Android</td>
<td>Android 4 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>iOS</td>
<td>5.1 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 8.1 ve 10</td>
<td>Varsayılan tarayıcı</td>
<td>Evet</td>
</tr>
</tbody></table>
<h2 id='payu-checkout-onemli-bilgiler'>PayU Checkout Önemli Bilgiler</h2>
<p><b> PayU Checkout Tokenı&#39;ın alabileceği karakter değerleri </b> </br>
A-Z a-z 0-9 / + =</p>

<p><b> Token Örneği </b> </br>
ZweUQS5LCyl5VdtlgZelHjSC3p7q3rdOvZIcjTstK6fy6lyFEe/UKJNKpikuAo+BvLQTe6Dg3C8iS2qtczP7+IU3Ui04EdIonG0C1nbJd6o=</p>

<p><b> Token Kısıtlamaları </b> </br>
- Token, işlem başarısız olsa dahi yalnızca bir kez kullanılır, </br>
- Token’ın kullanım süresi, token oluşturulduktan sonra 30 dakika dır, </br>
- Token değeri hiçbir koşulda saklanmamalıdır. </br></p>
<h1 id='kart-saklama'>Kart Saklama</h1>
<blockquote>
<p>Kart Saklama İstek Örneği</p>

<p><a href="https://github.com/PayUTurkiye/PayUTR_CSharp/raw/master/PayU_TR_CSharp.zip"> C Sharp Örnek Proje ve Kodları buradan indirebilirsiniz. </a></p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code>            <span class="n">ApiPaymentRequest</span> <span class="n">apiPaymentRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApiPaymentRequest</span><span class="p">();</span>

            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUConfig</span><span class="p">();</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">MERCHANT</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">LANGUAGE</span> <span class="p">=</span> <span class="s">"TR"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">PAY_METHOD</span> <span class="p">=</span> <span class="s">"CCVISAMC"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">BACK_REF</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">PRICES_CURRENCY</span> <span class="p">=</span> <span class="s">"TRY"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">LU_ENABLE_TOKEN</span> <span class="p">=</span> <span class="s">"true"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUOrder</span><span class="p">();</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">ORDER_REF</span> <span class="p">=</span> <span class="n">Guid</span><span class="p">.</span><span class="nf">NewGuid</span><span class="p">().</span><span class="nf">ToString</span><span class="p">();</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">ORDER_SHIPPING</span> <span class="p">=</span> <span class="s">"5"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">ORDER_DATE</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"yyyy-MM-dd HH:mm:ss"</span><span class="p">);</span>

            <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="n">PayUOrder</span><span class="p">.</span><span class="n">PayUOrderItem</span> <span class="n">orderItem</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="n">PayUOrder</span><span class="p">.</span><span class="nf">PayUOrderItem</span><span class="p">();</span>
            <span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PRICE</span> <span class="p">=</span> <span class="s">"5"</span><span class="p">;</span>
            <span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PINFO</span> <span class="p">=</span> <span class="s">"Test Açıklaması"</span><span class="p">;</span>
            <span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_QTY</span> <span class="p">=</span> <span class="s">"1"</span><span class="p">;</span>
            <span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PCODE</span> <span class="p">=</span> <span class="s">"Test Kodu"</span><span class="p">;</span>
            <span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PNAME</span> <span class="p">=</span> <span class="s">"Test Ürünü"</span><span class="p">;</span>
            <span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_VAT</span> <span class="p">=</span> <span class="s">"18"</span><span class="p">;</span>
            <span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PRICE_TYPE</span> <span class="p">=</span> <span class="s">"NET"</span><span class="p">;</span>

            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">OrderItems</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">orderItem</span><span class="p">);</span>

            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUCreditCard</span><span class="p">();</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">CC_NUMBER</span> <span class="p">=</span> <span class="n">cardNumber</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">EXP_MONTH</span> <span class="p">=</span> <span class="n">month</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">EXP_YEAR</span> <span class="p">=</span> <span class="n">year</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">CC_CVV</span> <span class="p">=</span> <span class="n">cvc</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">CC_OWNER</span> <span class="p">=</span> <span class="n">nameSurname</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">SELECTED_INSTALLMENTS_NUMBER</span> <span class="p">=</span> <span class="n">installment</span><span class="p">;</span>

            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUCustomer</span><span class="p">();</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_FNAME</span> <span class="p">=</span> <span class="s">"Ad"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_LNAME</span> <span class="p">=</span> <span class="s">"Soyad"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_EMAIL</span> <span class="p">=</span> <span class="s">"mail@mail.com"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_PHONE</span> <span class="p">=</span> <span class="s">"02129003711"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_FAX</span> <span class="p">=</span> <span class="s">"02129003711"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_ADDRESS</span> <span class="p">=</span> <span class="s">"Birinci Adres satırı"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_ADDRESS2</span> <span class="p">=</span> <span class="s">"İkinci Adres satırı"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_ZIPCODE</span> <span class="p">=</span> <span class="s">"34000"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_CITY</span> <span class="p">=</span> <span class="s">"ISTANBUL"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_COUNTRYCODE</span> <span class="p">=</span> <span class="s">"TR"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_STATE</span> <span class="p">=</span> <span class="s">"Ayazağa"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">CLIENT_IP</span> <span class="p">=</span> <span class="n">Request</span><span class="p">.</span><span class="n">UserHostAddress</span><span class="p">;</span>


            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUDelivery</span><span class="p">();</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_FNAME</span> <span class="p">=</span> <span class="s">"Ad"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_LNAME</span> <span class="p">=</span> <span class="s">"Soyad"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_EMAIL</span> <span class="p">=</span> <span class="s">"mail@mail.com"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_PHONE</span> <span class="p">=</span> <span class="s">"02129003711"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_COMPANY</span> <span class="p">=</span> <span class="s">"PayU Ödeme Kuruluşu A.Ş."</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_ADDRESS</span> <span class="p">=</span> <span class="s">"Birinci Adres satIRI"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_ADDRESS2</span> <span class="p">=</span> <span class="s">"İkinci Adres satırı"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_ZIPCODE</span> <span class="p">=</span> <span class="s">"34000"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_CITY</span> <span class="p">=</span> <span class="s">"ISTANBUL"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_STATE</span> <span class="p">=</span> <span class="s">"TR"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_COUNTRYCODE</span> <span class="p">=</span> <span class="s">"Ayazağa"</span><span class="p">;</span>

            <span class="kt">var</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
            <span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/order/alu/v3"</span><span class="p">;</span>
            <span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
            <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">Non3DExecute</span><span class="p">(</span><span class="n">apiPaymentRequest</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>

</code></pre><pre class="highlight javascript tab-javascript"><code>
<span class="kd">var</span> <span class="nx">EndPointUrl</span> <span class="o">=</span> <span class="s1">'https://secure.payu.com.tr/order/alu/v3'</span><span class="p">;</span>

<span class="nx">SecretKey</span> <span class="o">=</span> <span class="s1">'SECRET_KEY'</span><span class="p">;</span>


<span class="kd">var</span> <span class="nx">moment</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moment'</span><span class="p">);</span>
<span class="nx">date</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">.</span><span class="nx">utc</span><span class="p">().</span><span class="nx">format</span><span class="p">(</span><span class="s1">'YYYY-MM-DD HH:mm:ss'</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span>
<span class="nx">ORDER_REF</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="mi">1000</span><span class="p">));</span>


<span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'MERCHANT'</span><span class="p">:</span> <span class="s2">"OPU_TEST"</span><span class="p">,</span>
    <span class="s1">'LANGUAGE'</span><span class="p">:</span> <span class="s2">"TR"</span><span class="p">,</span>
    <span class="s1">'ORDER_DATE'</span><span class="p">:</span> <span class="nx">date</span><span class="p">,</span>
    <span class="s1">'PAY_METHOD'</span><span class="p">:</span> <span class="s2">"CCVISAMC"</span><span class="p">,</span>
    <span class="s1">'BACK_REF'</span><span class="p">:</span> <span class="s2">"http://www.backref.com.tr"</span><span class="p">,</span>
    <span class="s1">'PRICES_CURRENCY'</span><span class="p">:</span> <span class="s2">"TRY"</span><span class="p">,</span>
    <span class="s1">'SELECTED_INSTALLMENTS_NUMBER'</span><span class="p">:</span> <span class="s2">"1"</span><span class="p">,</span>
    <span class="s1">'ORDER_SHIPPING'</span><span class="p">:</span> <span class="s2">"5"</span><span class="p">,</span>
    <span class="s1">'CLIENT_IP'</span><span class="p">:</span> <span class="s2">"127.0.0.1"</span><span class="p">,</span>
    <span class="s1">'ORDER_REF'</span><span class="p">:</span> <span class="s2">"Test"</span><span class="o">+</span><span class="nx">ORDER_REF</span><span class="p">,</span>

    <span class="s1">'ORDER_PNAME[0]'</span><span class="p">:</span><span class="s1">'Test Ürünü'</span><span class="p">,</span>
    <span class="s1">'ORDER_PCODE[0]'</span><span class="p">:</span><span class="s1">'Test Kodu'</span><span class="p">,</span>
    <span class="s1">'ORDER_PINFO[0]'</span><span class="p">:</span><span class="s1">'Test Açıklaması'</span><span class="p">,</span>
    <span class="s1">'ORDER_PRICE[0]'</span><span class="p">:</span><span class="s1">'5'</span><span class="p">,</span>
    <span class="s1">'ORDER_VAT[0]'</span><span class="p">:</span><span class="s1">'18'</span><span class="p">,</span>
    <span class="s1">'ORDER_PRICE_TYPE[0]'</span><span class="p">:</span><span class="s1">'NET'</span><span class="p">,</span>
    <span class="s1">'ORDER_QTY[0]'</span><span class="p">:</span><span class="s1">'1'</span><span class="p">,</span>

    <span class="s1">'ORDER_PNAME[1]'</span><span class="p">:</span><span class="s1">'Test Ürünü-2'</span><span class="p">,</span>
    <span class="s1">'ORDER_PCODE[1]'</span><span class="p">:</span><span class="s1">'Test Kodu-2'</span><span class="p">,</span>
    <span class="s1">'ORDER_PINFO[1]'</span><span class="p">:</span><span class="s1">'Test Açıklaması-2'</span><span class="p">,</span>
    <span class="s1">'ORDER_PRICE[1]'</span><span class="p">:</span><span class="s1">'15'</span><span class="p">,</span>
    <span class="s1">'ORDER_VAT[1]'</span><span class="p">:</span><span class="s1">'24'</span><span class="p">,</span>
    <span class="s1">'ORDER_PRICE_TYPE[1]'</span><span class="p">:</span><span class="s1">'GROSS'</span><span class="p">,</span>
    <span class="s1">'ORDER_QTY[1]'</span><span class="p">:</span><span class="s1">'3'</span><span class="p">,</span>

    <span class="s1">'CC_NUMBER'</span><span class="p">:</span><span class="s1">'4355084355084358'</span><span class="p">,</span>
    <span class="s1">'EXP_MONTH'</span><span class="p">:</span><span class="s1">'12'</span><span class="p">,</span>
    <span class="s1">'EXP_YEAR'</span><span class="p">:</span><span class="s1">'2018'</span><span class="p">,</span>
    <span class="s1">'CC_CVV'</span><span class="p">:</span><span class="s1">'000'</span><span class="p">,</span>
    <span class="s1">'CC_OWNER'</span><span class="p">:</span><span class="s1">'000'</span><span class="p">,</span>

    <span class="s1">'BILL_FNAME'</span><span class="p">:</span><span class="s1">'Ad'</span><span class="p">,</span>
    <span class="s1">'BILL_LNAME'</span><span class="p">:</span><span class="s1">'Soyad'</span><span class="p">,</span>
    <span class="s1">'BILL_EMAIL'</span><span class="p">:</span><span class="s1">'mail@mail.com'</span><span class="p">,</span>
    <span class="s1">'BILL_PHONE'</span><span class="p">:</span><span class="s1">'02129003711'</span><span class="p">,</span>
    <span class="s1">'BILL_FAX'</span><span class="p">:</span><span class="s1">'02129003711'</span><span class="p">,</span>
    <span class="s1">'BILL_ADDRESS'</span><span class="p">:</span><span class="s1">'Birinci Adres satırı'</span><span class="p">,</span>
    <span class="s1">'BILL_ADDRESS2'</span><span class="p">:</span><span class="s1">'İkinci Adres satırı'</span><span class="p">,</span>
    <span class="s1">'BILL_ZIPCODE'</span><span class="p">:</span><span class="s1">'34000'</span><span class="p">,</span>
    <span class="s1">'BILL_CITY'</span><span class="p">:</span><span class="s1">'ISTANBUL'</span><span class="p">,</span>
    <span class="s1">'BILL_COUNTRYCODE'</span><span class="p">:</span><span class="s1">'TR'</span><span class="p">,</span>
    <span class="s1">'BILL_STATE'</span><span class="p">:</span><span class="s1">'Ayazağa'</span><span class="p">,</span>

    <span class="s1">'DELIVERY_FNAME'</span><span class="p">:</span><span class="s1">'Ad'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_LNAME'</span><span class="p">:</span><span class="s1">'Soyad'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_EMAIL'</span><span class="p">:</span><span class="s1">'mail@mail.com'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_PHONE'</span><span class="p">:</span><span class="s1">'02129003711'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_COMPANY'</span><span class="p">:</span><span class="s1">'PayU Ödeme Kuruluşu A.Ş.'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_ADDRESS'</span><span class="p">:</span><span class="s1">'Birinci Adres satırı'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_ADDRESS2'</span><span class="p">:</span><span class="s1">'İkinci Adres satırı'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_ZIPCODE'</span><span class="p">:</span><span class="s1">'34000'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_CITY'</span><span class="p">:</span><span class="s1">'ISTANBUL'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_STATE'</span><span class="p">:</span><span class="s1">'TR'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_COUNTRYCODE'</span><span class="p">:</span><span class="s1">'Ayazağa'</span><span class="p">,</span>
    <span class="s1">'LU_ENABLE_TOKEN'</span><span class="p">:</span> <span class="s1">'1'</span><span class="p">,</span>

<span class="p">}</span>

<span class="nx">hashstring</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">sortKeys</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'sort-keys'</span><span class="p">);</span>
<span class="nx">sorted</span> <span class="o">=</span> <span class="nx">sortKeys</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">k</span> <span class="k">in</span> <span class="nx">sorted</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">hashstring</span> <span class="o">+=</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">].</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span> <span class="p">;</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">)</span>
    <span class="p">,</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">hashstring</span>
    <span class="p">,</span> <span class="nx">secretkey</span> <span class="o">=</span> <span class="nx">SecretKey</span><span class="p">;</span>

<span class="nx">signature</span> <span class="o">=</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s1">'md5'</span><span class="p">,</span> <span class="nx">secretkey</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="nx">array</span><span class="p">[</span><span class="s1">'ORDER_HASH'</span><span class="p">]</span> <span class="o">=</span> <span class="nx">signature</span>

<span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">EndPointUrl</span><span class="p">,</span> <span class="p">{</span><span class="na">form</span><span class="p">:</span><span class="nx">array</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>

<span class="p">});</span>


<<<<<<< HEAD
<p>İşlem tamamlandığında ise işlem isteği gönderdiğiniz sırada tanımlamış olduğunuz BACK_REF URL&#39;e işlem sonucunu post edilir.
Yukarıdaki geliştirme ile yönlendirme sağlandığında, 3D işlem gerçekleştirilebilir.</p>
=======
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://secure.payu.com.tr/order/alu/v3"</span><span class="p">;</span>
<span class="nb">date_default_timezone_set</span><span class="p">(</span><span class="s1">'UTC'</span><span class="p">);</span>

<span class="nv">$secretKey</span> <span class="o">=</span> <span class="s1">'SECRET_KEY'</span><span class="p">;</span>

<span class="nv">$arParams</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>

   <span class="s2">"MERCHANT"</span> <span class="o">=&gt;</span> <span class="s2">"OPU_TEST"</span><span class="p">,</span>
   <span class="s2">"LANGUAGE"</span> <span class="o">=&gt;</span> <span class="s2">"TR"</span><span class="p">,</span>
   <span class="s2">"ORDER_REF"</span> <span class="o">=&gt;</span>  <span class="nb">rand</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10000</span><span class="p">),</span>
   <span class="s2">"ORDER_DATE"</span> <span class="o">=&gt;</span> <span class="nb">date</span><span class="p">(</span><span class="s1">'Y-m-d H:i:s'</span><span class="p">),</span>
   <span class="s2">"PAY_METHOD"</span> <span class="o">=&gt;</span> <span class="s2">"CCVISAMC"</span><span class="p">,</span>
   <span class="s2">"BACK_REF"</span> <span class="o">=&gt;</span> <span class="s2">"http://www.backref.com.tr"</span><span class="p">,</span>
   <span class="s2">"PRICES_CURRENCY"</span> <span class="o">=&gt;</span> <span class="s2">"TRY"</span><span class="p">,</span>
   <span class="s2">"SELECTED_INSTALLMENTS_NUMBER"</span> <span class="o">=&gt;</span> <span class="s2">"1"</span><span class="p">,</span>
   <span class="s2">"ORDER_SHIPPING"</span><span class="o">=&gt;</span><span class="s2">"5"</span><span class="p">,</span>
   <span class="s2">"CLIENT_IP"</span> <span class="o">=&gt;</span> <span class="s2">"127.0.0.1"</span><span class="p">,</span>


   <span class="s2">"ORDER_PNAME[0]"</span> <span class="o">=&gt;</span> <span class="s2">"Test Ürünü"</span><span class="p">,</span>
   <span class="s2">"ORDER_PCODE[0]"</span> <span class="o">=&gt;</span> <span class="s2">"Test Kodu"</span><span class="p">,</span>
   <span class="s2">"ORDER_PINFO[0]"</span> <span class="o">=&gt;</span> <span class="s2">"Test Açıklaması"</span><span class="p">,</span>
   <span class="s2">"ORDER_PRICE[0]"</span> <span class="o">=&gt;</span> <span class="s2">"5"</span><span class="p">,</span>
   <span class="s2">"ORDER_VAT[0]"</span><span class="o">=&gt;</span><span class="s2">"18"</span><span class="p">,</span>
   <span class="s2">"ORDER_PRICE_TYPE[0]"</span><span class="o">=&gt;</span><span class="s2">"NET"</span><span class="p">,</span>
   <span class="s2">"ORDER_QTY[0]"</span> <span class="o">=&gt;</span> <span class="s2">"1"</span><span class="p">,</span>

   <span class="s2">"LU_ENABLE_TOKEN"</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
   <span class="s2">"CC_NUMBER"</span> <span class="o">=&gt;</span> <span class="s2">"4355084355084358"</span><span class="p">,</span>
   <span class="s2">"EXP_MONTH"</span> <span class="o">=&gt;</span> <span class="s2">"12"</span><span class="p">,</span>
   <span class="s2">"EXP_YEAR"</span> <span class="o">=&gt;</span> <span class="s2">"2018"</span><span class="p">,</span>
   <span class="s2">"CC_CVV"</span> <span class="o">=&gt;</span> <span class="s2">"000"</span><span class="p">,</span>
   <span class="s2">"CC_OWNER"</span> <span class="o">=&gt;</span> <span class="s2">"Ad Soyad"</span><span class="p">,</span>

   <span class="s2">"BILL_FNAME"</span> <span class="o">=&gt;</span> <span class="s2">"Ad"</span><span class="p">,</span>
   <span class="s2">"BILL_LNAME"</span> <span class="o">=&gt;</span> <span class="s2">"Soyad"</span><span class="p">,</span>
   <span class="s2">"BILL_EMAIL"</span> <span class="o">=&gt;</span> <span class="s2">"mail@mail.com"</span><span class="p">,</span>
   <span class="s2">"BILL_PHONE"</span> <span class="o">=&gt;</span> <span class="s2">"02129003711"</span><span class="p">,</span>
   <span class="s2">"BILL_FAX"</span> <span class="o">=&gt;</span> <span class="s2">"02129003711"</span><span class="p">,</span>
   <span class="s2">"BILL_ADDRESS"</span> <span class="o">=&gt;</span> <span class="s2">"Birinci Adres satırı"</span><span class="p">,</span>
   <span class="s2">"BILL_ADDRESS2"</span> <span class="o">=&gt;</span> <span class="s2">"İkinci Adres satırı"</span><span class="p">,</span>
   <span class="s2">"BILL_ZIPCODE"</span> <span class="o">=&gt;</span> <span class="s2">"34000"</span><span class="p">,</span>
   <span class="s2">"BILL_CITY"</span> <span class="o">=&gt;</span> <span class="s2">"ISTANBUL"</span><span class="p">,</span>
   <span class="s2">"BILL_COUNTRYCODE"</span> <span class="o">=&gt;</span> <span class="s2">"TR"</span><span class="p">,</span>
   <span class="s2">"BILL_STATE"</span> <span class="o">=&gt;</span> <span class="s2">"Ayazağa"</span><span class="p">,</span>

   <span class="s2">"DELIVERY_FNAME"</span> <span class="o">=&gt;</span> <span class="s2">"Ad"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_LNAME"</span> <span class="o">=&gt;</span> <span class="s2">"Soyad"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_EMAIL"</span> <span class="o">=&gt;</span> <span class="s2">"mail@mail.com"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_PHONE"</span> <span class="o">=&gt;</span> <span class="s2">"02129003711"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_COMPANY"</span> <span class="o">=&gt;</span> <span class="s2">"PayU Ödeme Kuruluşu A.Ş."</span><span class="p">,</span>
   <span class="s2">"DELIVERY_ADDRESS"</span> <span class="o">=&gt;</span> <span class="s2">"Birinci Adres satırı"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_ADDRESS2"</span> <span class="o">=&gt;</span> <span class="s2">"İkinci Adres satırı"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_ZIPCODE"</span> <span class="o">=&gt;</span> <span class="s2">"34000"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_CITY"</span> <span class="o">=&gt;</span> <span class="s2">"ISTANBUL"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_STATE"</span> <span class="o">=&gt;</span> <span class="s2">"TR"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_COUNTRYCODE"</span> <span class="o">=&gt;</span> <span class="s2">"Ayazağa"</span><span class="p">,</span>
<span class="p">);</span>

<span class="nb">ksort</span><span class="p">(</span><span class="nv">$arParams</span><span class="p">);</span>
<span class="nv">$hashString</span> <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$arParams</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$val</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$hashString</span> <span class="o">.=</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$val</span><span class="p">)</span> <span class="o">.</span> <span class="nv">$val</span><span class="p">;</span>
<span class="p">}</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$arParams</span><span class="p">);</span>
<span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$hashString</span><span class="p">);</span>
<span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>

<span class="nv">$arParams</span><span class="p">[</span><span class="s2">"ORDER_HASH"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">hash_hmac</span><span class="p">(</span><span class="s2">"md5"</span><span class="p">,</span> <span class="nv">$hashString</span><span class="p">,</span> <span class="nv">$secretKey</span><span class="p">);</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$arParams</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_SSL_VERIFYPEER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_SSL_VERIFYHOST</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_IPRESOLVE</span><span class="p">,</span> <span class="nx">CURL_IPRESOLVE_V4</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_TIMEOUT</span><span class="p">,</span> <span class="mi">60</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">http_build_query</span><span class="p">(</span><span class="nv">$arParams</span><span class="p">));</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="nv">$curlerrcode</span> <span class="o">=</span> <span class="nb">curl_errno</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nv">$curlerr</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="k">empty</span><span class="p">(</span><span class="nv">$curlerr</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="k">empty</span><span class="p">(</span><span class="nv">$curlerrcode</span><span class="p">))</span> <span class="p">{</span>
    <span class="nv">$parsedXML</span> <span class="o">=</span> <span class="o">@</span><span class="nb">simplexml_load_string</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$parsedXML</span> <span class="o">!==</span> <span class="k">FALSE</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>
        <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
        <span class="k">echo</span> <span class="s2">"&lt;/pre&gt;"</span><span class="p">;</span>

        <span class="nv">$payuTranReference</span> <span class="o">=</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">REFNO</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">STATUS</span> <span class="o">==</span> <span class="s2">"SUCCESS"</span><span class="p">)</span> <span class="p">{</span>


            <span class="k">if</span> <span class="p">((</span><span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">RETURN_CODE</span> <span class="o">==</span> <span class="s2">"3DS_ENROLLED"</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">URL_3DS</span><span class="p">)))</span> <span class="p">{</span>
                <span class="nb">header</span><span class="p">(</span><span class="s2">"Location:"</span> <span class="o">.</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">URL_3DS</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>
            <span class="k">echo</span> <span class="s2">"SUCCES [PayU reference number: "</span> <span class="o">.</span> <span class="nv">$payuTranReference</span> <span class="o">.</span> <span class="s2">"]"</span><span class="p">;</span>
            <span class="k">echo</span> <span class="s2">"&lt;/pre&gt;"</span><span class="p">;</span>

        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">echo</span> <span class="s2">"Error: "</span> <span class="o">.</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">RETURN_MESSAGE</span> <span class="o">.</span> <span class="s2">" ["</span> <span class="o">.</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">RETURN_CODE</span> <span class="o">.</span> <span class="s2">"]"</span><span class="p">;</span>
            <span class="k">echo</span> <span class="s2">"&lt;br&gt;"</span><span class="p">;</span>
            <span class="k">echo</span> <span class="s2">"Error Details: "</span> <span class="o">.</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">ERRORMESSAGE</span> <span class="o">.</span> <span class="s2">"&lt;br&gt; Error Code: ["</span> <span class="o">.</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">PROCRETURNCODE</span> <span class="o">.</span> <span class="s2">"]"</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$payuTranReference</span><span class="p">))</span> <span class="p">{</span>
                <span class="c1">//the transaction was register to PayU system, but some error occured during the bank authorization.
</span>                <span class="c1">//See $parsedXML-&gt;RETURN_MESSAGE and $parsedXML-&gt;RETURN_CODE for details
</span>                <span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>
                <span class="k">echo</span> <span class="s2">" [PayU reference number: "</span> <span class="o">.</span> <span class="nv">$payuTranReference</span> <span class="o">.</span> <span class="s2">"]"</span><span class="p">;</span>
                <span class="k">echo</span> <span class="s2">"&lt;/pre&gt;"</span><span class="p">;</span>

            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">"cURL error: "</span> <span class="o">.</span> <span class="nv">$curlerr</span><span class="p">;</span>

<span class="p">}</span>

</code></pre><pre class="highlight python tab-python"><code><span class="c"># Importing required libraries.</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">urlencode</span>
<span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>

<span class="c"># Endpoint</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://secure.payu.com.tr/order/alu/v3"</span>
>>>>>>> 3ed3dff92d6b76228aaccf3922e0c87dca9c7fe9

<p><a href='#md-status-kodlari-ve-aciklamalari'>MD Status Kodları ve Açıklamaları</a>&#39;nı inceleyerek 3D durumlarını yorumlayabilir ve ilerleyen aksiyonları bu kodlara göre alabilirsiniz.</p>
<h3 id='api-ile-bkm-express-entegrasyonu'>API ile BKM Express Entegrasyonu</h3>
<p>BKM Express Entegrasyonunda işlem isteğinden aşağıda listelenen kart parametrelerini API ile ödeme isteğinden çıkartıp <code>PAY_METHOD</code> parametresini <code>BKM</code> olarak değiştirmesi yeterlidir.</p>

<p><b>Çıkartılacak parametreler:</b></br>
- CC_OWNER </br>
- CC_NUMBER </br>
- CC_CVV </br>
- EXP_MONTH </br>
- EXP_YEAR </br></p>

<p><b>Kart parametreleri çıkartılıp, PAY_METHOD parametresi &quot;BKM&quot; olarak ayarlanarak işlem isteği gönderildiğinde elde edilecek response aşağıdaki gibidir.</b>
<code>&lt;EPAYMENT&gt;</code>  </br>
<code>&lt;REFNO&gt;55685381&lt;/REFNO&gt;</code>  </br>
<code>&lt;ALIAS&gt;b5db3513028556bc1be23505049fb5ca&lt;/ALIAS&gt;</code>  </br>
<code>&lt;STATUS&gt;SUCCESS&lt;/STATUS&gt;</code>  </br>
<code>&lt;RETURN_CODE&gt;PENDING_AUTHORIZATION&lt;/RETURN_CODE&gt;</code>  </br>
<code>&lt;RETURN_MESSAGE&gt;Order saved and pending authorization.&lt;/RETURN_MESSAGE&gt;</code>  </br>
<code>&lt;DATE&gt;2018-03-26 11:04:24&lt;/DATE&gt;</code>  </br>
<code>&lt;ORDER_REF&gt;Test303&lt;/ORDER_REF&gt;</code>  </br>
<code>&lt;URL_REDIRECT&gt;https://secure.payu.com.tr/order/pbl/redirect.php?hash=385af76c05ba92ff1ce38276e4be2c02&lt;/URL_REDIRECT&gt;</code>  </br>
<code>&lt;HASH&gt;079330a56b5ca62a4112553506df1b08&lt;/HASH&gt;</code>  </br>
<code>&lt;/EPAYMENT&gt;</code>  </br></p>

<p>Bu responseda iletilen URL_REDIRECT parametresindeki URL&#39;e yönlendirme yapılması durumunda BKM Ödeme sayfası açılacaktır ve işlem sonucunda BACK_REF adresinize geri dönüş sağlanacaktır.</p>
<h3 id='api-ile-compay-entegrasyonu'>API ile Compay Entegrasyonu</h3>
<p>Compay Entegrasyonunda işlem isteğinden aşağıda listelenen kart parametrelerini API ile ödeme isteğinden çıkartıp <code>PAY_METHOD</code> parametresini <code>COMPAY</code> olarak değiştirmesi yeterlidir.</p>

<p><b>Çıkartılacak parametreler:</b></br>
- CC_OWNER </br>
- CC_NUMBER </br>
- CC_CVV </br>
- EXP_MONTH </br>
- EXP_YEAR </br></p>

<p><b>Kart parametreleri çıkartılıp, PAY_METHOD parametresi &quot;COMPAY&quot; olarak ayarlanarak işlem isteği gönderildiğinde elde edilecek response aşağıdaki gibidir.</b>
<code>&lt;EPAYMENT&gt;</code>  </br>
<code>&lt;REFNO&gt;55685381&lt;/REFNO&gt;</code>  </br>
<code>&lt;ALIAS&gt;b5db3513028556bc1be23505049fb5ca&lt;/ALIAS&gt;</code>  </br>
<code>&lt;STATUS&gt;SUCCESS&lt;/STATUS&gt;</code>  </br>
<code>&lt;RETURN_CODE&gt;PENDING_AUTHORIZATION&lt;/RETURN_CODE&gt;</code>  </br>
<code>&lt;RETURN_MESSAGE&gt;Order saved and pending authorization.&lt;/RETURN_MESSAGE&gt;</code>  </br>
<code>&lt;DATE&gt;2018-03-26 11:04:24&lt;/DATE&gt;</code>  </br>
<code>&lt;ORDER_REF&gt;Test303&lt;/ORDER_REF&gt;</code>  </br>
<code>&lt;URL_REDIRECT&gt;https://secure.payu.com.tr/order/pbl/redirect.php?hash=385af76c05ba92ff1ce38276e4be2c02&lt;/URL_REDIRECT&gt;</code>  </br>
<code>&lt;HASH&gt;079330a56b5ca62a4112553506df1b08&lt;/HASH&gt;</code>  </br>
<code>&lt;/EPAYMENT&gt;</code>  </br></p>

<p>Bu responseda iletilen URL_REDIRECT parametresindeki URL&#39;e yönlendirme yapılması durumunda Compay Ödeme sayfası açılacaktır ve işlem sonucunda BACK_REF adresinize geri dönüş sağlanacaktır.</p>
<h1 id='lu-ortak-odeme-sayfasi-entegrasyonu'>LU(Ortak Ödeme Sayfası) Entegrasyonu</h1><pre class="highlight javascript tab-javascript"><code></code></pre><pre class="highlight python tab-python"><code></code></pre><pre class="highlight php tab-php"><code></code></pre><pre class="highlight csharp tab-csharp"><code><span class="n">CommonPaymentRequest</span> <span class="n">commonPageRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CommonPaymentRequest</span><span class="p">();</span>

<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Config</span> <span class="p">=</span> <span class="k">new</span> <span class="n">CommonPaymentRequest</span><span class="p">.</span><span class="nf">PayUConfig</span><span class="p">();</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Order</span> <span class="p">=</span> <span class="k">new</span> <span class="n">CommonPaymentRequest</span><span class="p">.</span><span class="nf">PayUOrder</span><span class="p">();</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">MERCHANT</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">ORDER_REF</span> <span class="p">=</span> <span class="n">Guid</span><span class="p">.</span><span class="nf">NewGuid</span><span class="p">().</span><span class="nf">ToString</span><span class="p">();</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">ORDER_DATE</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"yyyy -MM-dd HH:mm:ss"</span><span class="p">);</span>

<span class="n">CommonPaymentRequest</span><span class="p">.</span><span class="n">PayUOrder</span><span class="p">.</span><span class="n">PayUOrderItem</span> <span class="n">orderItem</span> <span class="p">=</span> <span class="k">new</span> <span class="n">CommonPaymentRequest</span><span class="p">.</span><span class="n">PayUOrder</span><span class="p">.</span><span class="nf">PayUOrderItem</span><span class="p">();</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PNAME</span> <span class="p">=</span> <span class="s">"MacBook Air 13 inch"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PCODE</span> <span class="p">=</span> <span class="s">"MBA13"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PINFO</span> <span class="p">=</span> <span class="s">"Extended Warranty - 5 Years"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PRICE</span> <span class="p">=</span> <span class="s">"2000"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PRICE_TYPE</span> <span class="p">=</span> <span class="s">"GROSS"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_QTY</span> <span class="p">=</span> <span class="s">"1"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_VAT</span> <span class="p">=</span> <span class="s">"18"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">OrderItems</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">orderItem</span><span class="p">);</span>
<span class="n">orderItem</span> <span class="p">=</span> <span class="k">new</span> <span class="n">CommonPaymentRequest</span><span class="p">.</span><span class="n">PayUOrder</span><span class="p">.</span><span class="nf">PayUOrderItem</span><span class="p">();</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PNAME</span> <span class="p">=</span> <span class="s">"iPhone 6S"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PCODE</span> <span class="p">=</span> <span class="s">"IP6S"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PINFO</span> <span class="p">=</span> <span class="s">"Test"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PRICE</span> <span class="p">=</span> <span class="s">"2500.50"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PRICE_TYPE</span> <span class="p">=</span> <span class="s">"NET"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_QTY</span> <span class="p">=</span> <span class="s">"1"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_VAT</span> <span class="p">=</span> <span class="s">"18"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">OrderItems</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">orderItem</span><span class="p">);</span>

<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">ORDER_SHIPPING</span> <span class="p">=</span> <span class="s">"50"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">PRICES_CURRENCY</span> <span class="p">=</span> <span class="s">"TRY"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">DISCOUNT</span> <span class="p">=</span> <span class="s">"10"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">DESTINATION_CITY</span> <span class="p">=</span> <span class="s">"IST"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">DESTINATION_STATE</span> <span class="p">=</span> <span class="s">"IST"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">DESTINATION_COUNTRY</span> <span class="p">=</span> <span class="s">"TR"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">PAY_METHOD</span> <span class="p">=</span> <span class="s">"CCVISAMC"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">TESTORDER</span> <span class="p">=</span> <span class="s">"TRUE"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">LANGUAGE</span> <span class="p">=</span> <span class="s">"TR"</span><span class="p">;</span>


<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Customer</span> <span class="p">=</span> <span class="k">new</span> <span class="n">CommonPaymentRequest</span><span class="p">.</span><span class="nf">PayUCustomer</span><span class="p">();</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_FNAME</span> <span class="p">=</span> <span class="s">"Ad"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_LNAME</span> <span class="p">=</span> <span class="s">"Soyad"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_EMAIL</span> <span class="p">=</span> <span class="s">"mail@mail.com"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_PHONE</span> <span class="p">=</span> <span class="s">"02129003711"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_FAX</span> <span class="p">=</span> <span class="s">"02129003711"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_ADDRESS</span> <span class="p">=</span> <span class="s">"Birinci Adres satırı"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_ADDRESS2</span> <span class="p">=</span> <span class="s">"İkinci Adres satırı"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_ZIPCODE</span> <span class="p">=</span> <span class="s">"34000"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_CITY</span> <span class="p">=</span> <span class="s">"ISTANBUL"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_COUNTRYCODE</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_STATE</span> <span class="p">=</span> <span class="s">"Ayazağa"</span><span class="p">;</span>


<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Delivery</span> <span class="p">=</span> <span class="k">new</span> <span class="n">CommonPaymentRequest</span><span class="p">.</span><span class="nf">PayUDelivery</span><span class="p">();</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_FNAME</span> <span class="p">=</span> <span class="s">"Ad"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_LNAME</span> <span class="p">=</span> <span class="s">"Soyad"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_EMAIL</span> <span class="p">=</span> <span class="s">"mail@mail.com"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_PHONE</span> <span class="p">=</span> <span class="s">"02129003711"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_COMPANY</span> <span class="p">=</span> <span class="s">"PayU Ödeme Kuruluşu A.Ş."</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_ADDRESS</span> <span class="p">=</span> <span class="s">"Birinci Adres satırı"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_ADDRESS2</span> <span class="p">=</span> <span class="s">"İkinci Adres satırı"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_ZIPCODE</span> <span class="p">=</span> <span class="s">"34000"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_CITY</span> <span class="p">=</span> <span class="s">"ISTANBUL"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_STATE</span> <span class="p">=</span> <span class="s">"Ayazağa"</span><span class="p">;</span>
<span class="n">commonPageRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_COUNTRYCODE</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
<span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/order/lu.php"</span><span class="p">;</span>
<span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">form</span> <span class="p">=</span> <span class="n">CommonPaymentRequest</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">commonPageRequest</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span> <span class="c1">//api Áar˝s˝n˝n ba˛lat˝ld˝˝ k˝sm˝ temsil eder.</span>
</code></pre>
<p>Ortak ödeme sayfası üzerinden işlem gerçekleştirmek için; HTTPS POST iletişim protokolü kullanılarak https://secure.payu.com.tr/order/lu.php adresine istek yapılması gerekmektedir. 
Bu isteğin içeriği aşağıdaki zorunlu parametrelerden oluşmalıdır. </p>
<h3 id='istek-parametreleri-2'>İstek Parametreleri</h3>
<p>Endpoint POST <code>https://secure.payu.com.tr/order/lu.php</code></p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>MERCHANT</td>
<td>İşyerini ID bilgisidir. Üye İşyeri Kontrol Paneli’nde, hesap ayarları sayfasında bulunmaktadır.</td>
</tr>
<tr>
<td>ORDER_REF</td>
<td>İşyerinin kendi belirlediği sipariş/işlem numarasıdır.</td>
</tr>
<tr>
<td>ORDER_DATE</td>
<td>İşlem/sipariş saati</td>
</tr>
<tr>
<td>ORDER_HASH</td>
<td>Sipariş içeriğindeki tüm parametrelere HMAC_MD5 algoritması uygulanmalıdır. Dokümanın 2. bölümünde hash hesaplaması anlatılmaktadır.</td>
</tr>
<tr>
<td>BACK_REF</td>
<td>Ödeme işlemi tamamlandıktan sonra kullanıcının yönlendirileceği URL’dir. 3D işlemlerde işleme ait parametreler de BACK_REF URL’e post edilir.</td>
</tr>
<tr>
<td>PRICES_CURRENCY[]</td>
<td>İşlemin gerçekleşeceği para birimini belirleyen parametredir (TRY, EUR, USD, GBP). Türk kartlar için dövizli işlem gönderilmemelidir.</td>
</tr>
<tr>
<td>INSTALLMENT_OPTIONS</td>
<td>Ortak ödeme sayfasında gösterilecek taksit sayısını belirtebileceginiz parametredir.</td>
</tr>
<tr>
<td>ORDER_SHIPPING</td>
<td>Teslimat/Kargo ücretinin belirtildiği parametredir. Kullanılan para birimi ürün bilgisindeki PRICES_CURRENCY[]’den alınmaktadır.</td>
</tr>
</tbody></table>
<h3 id='urun-parametreleri'>Ürün Parametreleri</h3>
<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>ORDER_PNAME[]</td>
<td>Minimum 2, maksimum 155 karakterden oluşan ürün isminin gönderildiği parametredir.</td>
</tr>
<tr>
<td>ORDER_PCODE[]</td>
<td>Maksimum 50 karakterden oluşan ürün kodunun gönderildiği parametredir.</td>
</tr>
<tr>
<td>ORDER_PRICE[]</td>
<td>Ürün fiyatının gönderildiği parametredir. Ondalık simgesi olarak &quot;.&quot;(nokta) kullanılmalıdır. &quot;,&quot;(virgül) kullanımında hata alınacaktır.</td>
</tr>
<tr>
<td>ORDER_VAT[]</td>
<td>Üründe uygulanan verginin belirlendiği parametredir 1, 8 veya 18 olarak belirlenmelidir.</td>
</tr>
<tr>
<td>ORDER_PRICE_TYPE[]</td>
<td>KDV tipinin belirlendiği parametredir. &quot;GROSS&quot; değeri ile gönderilmesi durumunda ürün fiyatına KDV dahil kabul edilecektir. &quot;NET&quot; gönderilmesi durumunda KDV, PayU tarafından ürünün tutarına eklenecektir.</td>
</tr>
<tr>
<td>ORDER_QTY[]</td>
<td>Ürün adedinin belirlendiği parametredir.</td>
</tr>
<tr>
<td>ORDER_PINFO[]</td>
<td>Ürün bilgisinin belirtildiği parametredir.</td>
</tr>
<tr>
<td>ORDER_VER[]</td>
<td>Ürün versiyonunun belirtildiği parametredir.</td>
</tr>
</tbody></table>
<h3 id='fatura-parametreleri'>Fatura Parametreleri</h3>
<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>BILL_LNAME</td>
<td>Fatura düzenlenecek kişinin soyadı.</td>
</tr>
<tr>
<td>BILL_FNAME</td>
<td>Fatura düzenlenecek kişinin adı.</td>
</tr>
<tr>
<td>BILL_EMAIL</td>
<td>Fatura düzenlenecek kişinin email adresi.</td>
</tr>
<tr>
<td>BILL_PHONE</td>
<td>Fatura düzenlenecek kişinin telefon numarası.</td>
</tr>
<tr>
<td>BILL_COUNTRYCODE</td>
<td>Fatura düzenlenecek kişinin iki karakterli ülke kodu. (ISO Alpha-2 formatında)</td>
</tr>
</tbody></table>
<h3 id='fatura-parametreleri-2'>Fatura Parametreleri</h3>
<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>BILL_FAX</td>
<td>Fatura düzenlenecek kişinin faks numarasının belirtildiği parametredir.</td>
</tr>
<tr>
<td>BILL_ADDRESS</td>
<td>Fatura düzenlenecek kişinin adresinin belirtildiği parametredir.</td>
</tr>
<tr>
<td>BILL_ADDRESS2</td>
<td>Fatura düzenlenecek kişinin adresinin belirtildiği parametredir. (ikinci satır için)</td>
</tr>
<tr>
<td>BILL_ZIPCODE</td>
<td>Fatura düzenlenecek kişinin posta kodunun belirtildiği parametredir.</td>
</tr>
<tr>
<td>BILL_CITY</td>
<td>Fatura düzenlenecek kişinin şehir bilgisinin belirtildiği parametredir.</td>
</tr>
<tr>
<td>BILL_STATE</td>
<td>Fatura düzenlenecek kişinin semt/ilçe bilgisinin belirtildiği parametredir.</td>
</tr>
</tbody></table>
<h3 id='teslimat-parametreleri'>Teslimat Parametreleri</h3>
<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>DELIVERY_LNAME</td>
<td>Teslim edilecek kişinin soyadı. (!)</td>
</tr>
<tr>
<td>DELIVERY_FNAME</td>
<td>Teslim edilecek kişinin adı. (!)</td>
</tr>
<tr>
<td>DELIVERY_EMAIL</td>
<td>Teslim edilecek kişinin email adresi. (!)</td>
</tr>
<tr>
<td>DELIVERY_PHONE</td>
<td>Teslim edilecek kişinin telefon numarası. (!)</td>
</tr>
<tr>
<td>DELIVERY_COMPANY</td>
<td>Teslim edilecek kişinin şirket bilgisi.</td>
</tr>
<tr>
<td>DELIVERY_ADDRESS</td>
<td>Teslim edilecek kişinin adresi. (!)</td>
</tr>
<tr>
<td>DELIVERY_ADDRESS2</td>
<td>Teslim edilecek kişinin adresi. (ikinci satır için)</td>
</tr>
<tr>
<td>DELIVERY_ZIPCODE</td>
<td>Teslim edilecek kişinin posta kodu.</td>
</tr>
<tr>
<td>DELIVERY_CITY</td>
<td>Teslim edilecek kişinin şehir bilgisi. (!)</td>
</tr>
<tr>
<td>DELIVERY_STATE</td>
<td>Teslim edilecek kişinin semt/ilçe bilgisi. (!)</td>
</tr>
<tr>
<td>DELIVERY_COUNTRYCODE</td>
<td>Teslim edilecek kişinin iki karakterli ülke kodu. (ISO Alpha-2 formatında). (!)</td>
</tr>
</tbody></table>
<h3 id='hash-hesaplama-2'>Hash Hesaplama</h3>
<aside class="warning">
  ÖNEMLİ NOT:
 Güvenlik gerekçesiyle her HTTP POST isteği benzersiz bir imzaya sahip olmalıdır.
</aside>

<p>İstek yapılmadan önce, istekte bulunacak parametrelerin başına uzunlukları (UTF-8 bayt olarak) eklenerek bir dizi oluşturulur. Ardından dizi, PayU üye işyeri hesabınızın, Hesap Yönetimi/Hesap Ayarları bölümünde yer alan kodlama anahtarı bilgisi kullanılarak HMAC_MD5 algoritması ile hashlenir. </p>

<p><strong>Oluşan hash ORDER_HASH parametresine atanmalıdır.</strong></p>

<ul>
<li>HMAC MD5 algoritmasıyla ilgili bilgi için linki takip edebilirsiniz https://en.wikipedia.org/wiki/Hash-based_message_authentication_code</li>
</ul>

<p><b> Hash hesaplama adımları aşağıdaki gibi olmalıdır: </b></p>

<p><b> 1. Adım: PayU&#39;ya işlem isteği gönderilmeden önce <b>sadece</b> aşağıdaki parametreler hash hesaplamasına dahil edileceğinden; sadece aşağıdaki parametreler örnekteki gibi sıralanmalıdır.</b></p>

<p><code>&#39;MERCHANT&#39;: &#39;OPU_TEST&#39;,</code> </br>
        <code>&#39;ORDER_REF&#39;: &quot;21831832&quot;,</code> </br>
        <code>&#39;ORDER_DATE&#39;: 2018-03-28,</code> </br>
        <code>&#39;ORDER_PNAME[0]&#39;: &#39;Test Urun&#39;,</code> </br>
        <code>&#39;ORDER_PNAME[1]&#39;: &#39;Test Urun-2&#39;,</code> </br>
        <code>&#39;ORDER_PCODE[0]&#39;:&#39;Test Urun Kodu-2&#39;,</code> </br>
        <code>&#39;ORDER_PCODE[1]&#39;:&#39;Test Urun Kodu&#39;,</code> </br>
        <code>&#39;ORDER_PINFO[0]&#39;:&#39;Test urun Aciklamasi-2&#39;,</code> </br>
        <code>&#39;ORDER_PINFO[1]&#39;:&#39;Test urun Aciklamasi&#39;,</code> </br>
        <code>&#39;ORDER_PRICE[0]&#39;:&#39;10&#39;,</code> </br>
        <code>&#39;ORDER_PRICE[1]&#39;:&#39;20&#39;,</code> </br>
        <code>&#39;ORDER_QTY[0]&#39;:&#39;1&#39;,</code> </br>
        <code>&#39;ORDER_QTY[1]&#39;:&#39;2&#39;,</code> </br>
        <code>&#39;ORDER_VAT[0]&#39;:&#39;18&#39;,</code> </br>
        <code>&#39;ORDER_VAT[1]&#39;:&#39;18&#39;,</code> </br>
        <code>&#39;ORDER_SHIPPING&#39;:&#39;5&#39;,</code> </br>
        <code>&#39;PRICES_CURRENCY&#39;: &#39;TRY&#39;,</code> </br>
        <code>&#39;PAY_METHOD&#39;: &#39;CCVISAMC&#39;,</code> </br>
        <code>&#39;ORDER_PRICE_TYPE[0]&#39;:&#39;GROSS&#39;,</code> </br>
        <code>&#39;ORDER_PRICE_TYPE[1]&#39;:&#39;NET&#39;,</code> </br>
        <code>&#39;SELECTED_INSTALLMENTS_NO&#39;: &#39;1,2,3,4,5,6,7,8,9,10,11,12&#39;</code> </br></p>

<aside class="warning">
ORDER_PNAME, ORDER_PCODE, ORDER_PINFO, ORDER_PRICE and ORDER_QTY parametreleri köşeli parantez ( [] ) kullanılarak parantez içerisine sıra numarası yazılmalı.
</aside>

<p><b> 2. Adım: Sıralanan parametrelerin değerlerinin başına uzunlukları eklenerek HASH string oluşturulmalıdır (UTF-8 Bayt olarak). </b></p>

<p><code>8OPU_TEST821831832102018-03-289Test Urun11Test Urun-216Test Urun Kodu-214Test Urun Kodu22Test urun Aciklamasi-220Test urun Aciklamasi2102201112218218153TRY8CCVISAMC5GROSS3NET261,2,3,4,5,6,7,8,9,10,11,12</code> </p>

<p><b>3. Adım: Oluşturulan dizi PayU üye işyeri hesabınızın Hesap Yönetimi / Hesap Ayarları bölümünde yer alan kodlama anahtarı bilgisi kullanılarak HMAC_MD5 algoritması ile hashlenmeli ve ORDER_HASH parametresine eklenerek post işlemi gerçekleştirilmelidir. </b></p>

<p><b> Örnekte kullanılan kodlama anahtarı değer: SECRET_KEY </b></p>

<p><code>46021bad8f3e5998f60a6daa7d679f43</code></p>
<h3 id='odeme-sonrasi-geri-donus'>Ödeme Sonrası Geri Dönüş</h3>
<p>Ödeme aşamasından sonra eğer işlem başarılı olursa belirtmiş olduğunuz BACK_REF parametresine bir kontrol değişkeni ile dönülüyor olacaktır.
Eğer ödeme başarısız olursa kart sahibi ortak ödeme sayfasına kalacak ve tekrar denemesi için işlem başa alınacaktır.</p>
<h3 id='ctrl-degiskeninin-hesaplamasi'>CTRL Değişkeninin Hesaplaması</h3>
<aside class="warning">
Üye işyerinin talep etmesi durumunda, geri dönüş sırasında opsiyonel parametreler aktifleştirilebilir. Bu aktivasyon ile birlikte geri dönüş sırasında 3d secure durumu, Date, PayU Ref No değerleri URL'sonuna aşağıdaki örnek gibi PayU tarafından otomatik olarak eklenir.</br>
<b>https://www.backref.com.tr/return.php?3dsecure=NO&date=2018-03-28%2021%3A26%3A44&payrefno=56390894&ctrl=2df7a648b80ab5dc62f195141b8ba454</b>
</aside>

<p><b> 1. Adım: BACK_REF parametresine atadığımız URL&#39;imizin karakter uzunluğunu almalı ve başına eklenmeli.</b> </br>
Bu örnekte https://www.backrefurl.com/return.php URL&#39;i BACK_REF olarak kullanılmıştır. </p>

<p><code>36https://www.backrefurl.com/return.php</code> </br></p>

<p><b> 2. Adım: Karakter uzunluğu alınıp başına eklenen BACK_REF parametresi, üye iş yeri hesabınıza tanımlı olan kodlama anahtarı ile HMAC MD5 algoritması ile hashlenmeli. Bu örnekte Kodlama anahtarı SECRET_KEY kullanılmıştır. </b> </br></p>

<p><b> Bu örnekte Kodlama anahtarı SECRET_KEY kullanılmıştır. </b> </br></p>

<p><code>3dce9ddf2f4a2ee4af647d9dfb62f0f3</code></p>

<p><b> 3. Adım: Ardından oluşan bu hash ile BACK_REF&#39;i beklenmesi gerekmektedir. </b> </br></p>

<p><code>https://www.backrefurl.com/return.php&amp;ctrl=3dce9ddf2f4a2ee4af647d9dfb62f0f3</code></p>
<h1 id='payu-checkout-entegrasyonu'>PayU Checkout Entegrasyonu</h1>
<p>PayU Checkout, müşterilerinize ürün detay sayfasından ödeme sayfasına yönlendirme olmaksızın pop-up (açılır pencere)de ödeme alma imkanı sunar.</p>

<aside class="warning">
PayU Checkout Ürününü kullanabilmek için satış temsilciniz ile iletişime geçerek ürün yetkinizi aktifleştirmeniz gerekmektedir.
</aside>
<h3 id='payu-checkout-frontend-entegrasyonu'>PayU Checkout Frontend Entegrasyonu</h3>
<p>Entegrasyon HTML içerisinde ürün ile ilgili bilgilerin olduğu ve ödemeyi başlatmak için tıklanabilir buton barındıran FORM içermelidir.
Ödeme tamamlandığında form içerisinde otomatik olarak adı token olan gizli bir INPUT alanı eklenecektir.</p>
<h3 id='parametreler'>Parametreler</h3>
<blockquote>
<p><a href="http://www.payudemo.com/payucheckout/"> PayU Checkout Örneği için tıklayınız</a> </br></p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="nt">&lt;form</span> <span class="na">method=</span><span class="s">"GET"</span> <span class="na">action=</span><span class="s">"https://secure.payu.com.tr/docs/modal-checkout/merchant/ru-example-integration-return.php"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"hidden"</span> <span class="na">name=</span><span class="s">"MerchantOrderRefNo"</span> <span class="na">value=</span><span class="s">"123213123124312"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;script </span><span class="na">id=</span><span class="s">"payu-modal-checkout"</span> <span class="na">type=</span><span class="s">"text/javascript"</span> <span class="na">src=</span><span class="s">"/pay/modal-checkout/integration/payu-modal-checkout.js"</span> <span class="na">data-merchant-code=</span><span class="s">"OPU_TEST"</span> <span class="na">data-merchant-logo=</span><span class="s">"https://secure.payu.com.tr/docs/modal-checkout/merchant/dummy-logo.png"</span> <span class="na">data-client-firstname=</span><span class="s">"Average"</span> <span class="na">data-client-lastname=</span><span class="s">"Joes"</span> <span class="na">data-client-email=</span><span class="s">"average.joes@payu.ro"</span> <span class="na">data-client-phone=</span><span class="s">"+40729.12.34.56"</span> <span class="na">data-order-amount=</span><span class="s">"799.99"</span> <span class="na">data-order-currency=</span><span class="s">"TRY"</span> <span class="na">data-language=</span><span class="s">"tr"</span> <span class="na">data-button=</span><span class="s">"payButton"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"button"</span> <span class="na">value=</span><span class="s">"Pay"</span> <span class="na">id=</span><span class="s">"payButton"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/form&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="o">&lt;</span><span class="n">form</span> <span class="n">method</span><span class="o">=</span><span class="s">"GET"</span> <span class="n">action</span><span class="o">=</span><span class="s">"https://secure.payu.com.tr/docs/modal-checkout/merchant/ru-example-integration-return.php"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s">"hidden"</span> <span class="n">name</span><span class="o">=</span><span class="s">"MerchantOrderRefNo"</span> <span class="n">value</span><span class="o">=</span><span class="s">"123213123124312"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">script</span> <span class="nb">id</span><span class="o">=</span><span class="s">"payu-modal-checkout"</span> <span class="nb">type</span><span class="o">=</span><span class="s">"text/javascript"</span> <span class="n">src</span><span class="o">=</span><span class="s">"/pay/modal-checkout/integration/payu-modal-checkout.js"</span> <span class="n">data</span><span class="o">-</span><span class="n">merchant</span><span class="o">-</span><span class="n">code</span><span class="o">=</span><span class="s">"OPU_TEST"</span> <span class="n">data</span><span class="o">-</span><span class="n">merchant</span><span class="o">-</span><span class="n">logo</span><span class="o">=</span><span class="s">"https://secure.payu.com.tr/docs/modal-checkout/merchant/dummy-logo.png"</span> <span class="n">data</span><span class="o">-</span><span class="n">client</span><span class="o">-</span><span class="n">firstname</span><span class="o">=</span><span class="s">"Average"</span> <span class="n">data</span><span class="o">-</span><span class="n">client</span><span class="o">-</span><span class="n">lastname</span><span class="o">=</span><span class="s">"Joes"</span> <span class="n">data</span><span class="o">-</span><span class="n">client</span><span class="o">-</span><span class="n">email</span><span class="o">=</span><span class="s">"average.joes@payu.ro"</span> <span class="n">data</span><span class="o">-</span><span class="n">client</span><span class="o">-</span><span class="n">phone</span><span class="o">=</span><span class="s">"+40729.12.34.56"</span> <span class="n">data</span><span class="o">-</span><span class="n">order</span><span class="o">-</span><span class="n">amount</span><span class="o">=</span><span class="s">"799.99"</span> <span class="n">data</span><span class="o">-</span><span class="n">order</span><span class="o">-</span><span class="n">currency</span><span class="o">=</span><span class="s">"TRY"</span> <span class="n">data</span><span class="o">-</span><span class="n">language</span><span class="o">=</span><span class="s">"tr"</span> <span class="n">data</span><span class="o">-</span><span class="n">button</span><span class="o">=</span><span class="s">"payButton"</span><span class="o">&gt;&lt;/</span><span class="n">script</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nb">input</span> <span class="nb">type</span><span class="o">=</span><span class="s">"button"</span> <span class="n">value</span><span class="o">=</span><span class="s">"Pay"</span> <span class="nb">id</span><span class="o">=</span><span class="s">"payButton"</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">form</span><span class="o">&gt;</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">form</span> <span class="nx">method</span><span class="o">=</span><span class="s2">"GET"</span> <span class="nx">action</span><span class="o">=</span><span class="s2">"https://secure.payu.com.tr/docs/modal-checkout/merchant/ru-example-integration-return.php"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"hidden"</span> <span class="nx">name</span><span class="o">=</span><span class="s2">"MerchantOrderRefNo"</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"123213123124312"</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">script</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"payu-modal-checkout"</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"text/javascript"</span> <span class="nx">src</span><span class="o">=</span><span class="s2">"/pay/modal-checkout/integration/payu-modal-checkout.js"</span> <span class="nx">data</span><span class="o">-</span><span class="nx">merchant</span><span class="o">-</span><span class="nx">code</span><span class="o">=</span><span class="s2">"OPU_TEST"</span> <span class="nx">data</span><span class="o">-</span><span class="nx">merchant</span><span class="o">-</span><span class="nx">logo</span><span class="o">=</span><span class="s2">"https://secure.payu.com.tr/docs/modal-checkout/merchant/dummy-logo.png"</span> <span class="nx">data</span><span class="o">-</span><span class="nx">client</span><span class="o">-</span><span class="nx">firstname</span><span class="o">=</span><span class="s2">"Average"</span> <span class="nx">data</span><span class="o">-</span><span class="nx">client</span><span class="o">-</span><span class="nx">lastname</span><span class="o">=</span><span class="s2">"Joes"</span> <span class="nx">data</span><span class="o">-</span><span class="nx">client</span><span class="o">-</span><span class="nx">email</span><span class="o">=</span><span class="s2">"average.joes@payu.ro"</span> <span class="nx">data</span><span class="o">-</span><span class="nx">client</span><span class="o">-</span><span class="nx">phone</span><span class="o">=</span><span class="s2">"+40729.12.34.56"</span> <span class="nx">data</span><span class="o">-</span><span class="nx">order</span><span class="o">-</span><span class="nx">amount</span><span class="o">=</span><span class="s2">"799.99"</span> <span class="nx">data</span><span class="o">-</span><span class="nx">order</span><span class="o">-</span><span class="nx">currency</span><span class="o">=</span><span class="s2">"EUR"</span> <span class="nx">data</span><span class="o">-</span><span class="nx">language</span><span class="o">=</span><span class="s2">"tr"</span> <span class="nx">data</span><span class="o">-</span><span class="nx">button</span><span class="o">=</span><span class="s2">"payButton"</span><span class="o">&gt;&lt;</span><span class="sr">/script</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">input</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"button"</span> <span class="nx">value</span><span class="o">=</span><span class="s2">"Pay"</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"payButton"</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="sr">/form</span><span class="err">&gt;
</span></code></pre>
<p>Javascript URL: <code>https://secure.payu.com.tr/pay/modal-checkout/integration/payu-modal-checkout.js</code> </br></p>

<p><a href="http://www.payudemo.com/payucheckout/"> PayU Checkout Örneği için tıklayınız</a> </br></p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>data-merchant-code</td>
<td>Merchant ID&#39;niz API&#39;ya gönderilen bu parametre ile aynı değere sahip olmalıdır.</td>
</tr>
<tr>
<td>data-merchant-logo</td>
<td>Logonuzun bulunduğu URL adresi (string)</td>
</tr>
<tr>
<td>data-order-amount</td>
<td>Sipariş Miktarı (int</td>
</tr>
<tr>
<td>data-order-currency</td>
<td>Para birimi (string) ALU&#39;ya gönderilen PRICES_CURRENCY parametresiyle aynı değere sahip olmalıdır..</td>
</tr>
<tr>
<td>data-client-email</td>
<td>Müşteri email adresi (string) ALU&#39;ya gönderilen BILL_EMAIL parametresiyle aynı değere sahip olmalıdır..</td>
</tr>
<tr>
<td>data-client-firstname</td>
<td>Müşteri Adı (string)</td>
</tr>
<tr>
<td>data-client-lastname</td>
<td>Müşteri Soyadı (string)</td>
</tr>
<tr>
<td>data-client-phone</td>
<td>Müşteri Telefonu(string)</td>
</tr>
<tr>
<td>data-language</td>
<td>Arayüz dili (string)  <b>İzin verilen değerler:</b> en, ro, ru, ua, hu, de, es, fr</td>
</tr>
<tr>
<td>data-button</td>
<td>Ödeme butonunun HTML ID&#39;si (string)</td>
</tr>
</tbody></table>
<h3 id='payu-checkout-backend-entegrasyonu'>PayU Checkout Backend Entegrasyonu</h3>
<p>Frontend ile üretilen Token değeri ile birlikte ALU(API ile Ödeme) kullanılarak işlemler doğrudan PayU’ya gönderilmelidir. 
Detaylı bilgiye <a href='#alu-v3-api-entegrasyonu'>ALU v3(API) Entegrasyonu</a> dokümanından ulaşabilirsiniz.</p>

<p><b> Örnek istek aşağıdaki gibi olmalıdır.</b></br></p>

<p><code>&quot;MERCHANT&quot; =&gt; &quot;OPU_TEST&quot;,</code> </br>
<code>&quot;LANGUAGE&quot; =&gt; &quot;TR&quot;,</code> </br>
<code>&quot;ORDER_REF&quot; =&gt;  235125,</code> </br>
<code>&quot;ORDER_DATE&quot; =&gt; &quot;2017-10-06 21:24:21&quot;,</code> </br>
<code>&quot;PAY_METHOD&quot; =&gt; &quot;CCVISAMC&quot;,</code> </br>
<code>&quot;BACK_REF&quot; =&gt; &quot;http://www.backref.com.tr&quot;,</code> </br>
<code>&quot;PRICES_CURRENCY&quot; =&gt; &quot;TRY&quot;,</code> </br>
<code>&quot;SELECTED_INSTALLMENTS_NUMBER&quot; =&gt; &quot;1&quot;,</code> </br>
<code>&quot;ORDER_SHIPPING&quot;=&gt;&quot;5&quot;,</code> </br>
<code>&quot;CLIENT_IP&quot; =&gt; &quot;127.0.0.1&quot;,</code> </br></p>

<p><code>&quot;ORDER_PNAME[0]&quot; =&gt; &quot;Test Ürünü&quot;,</code> </br>
<code>&quot;ORDER_PCODE[0]&quot; =&gt; &quot;Test Kodu&quot;,</code> </br>
<code>&quot;ORDER_PINFO[0]&quot; =&gt; &quot;Test Açıklaması&quot;,</code> </br>
<code>&quot;ORDER_PRICE[0]&quot; =&gt; &quot;5&quot;,</code> </br>
<code>&quot;ORDER_VAT[0]&quot;=&gt;&quot;18&quot;,</code> </br>
<code>&quot;ORDER_PRICE_TYPE[0]&quot;=&gt;&quot;NET&quot;,</code> </br>
<code>&quot;ORDER_QTY[0]&quot; =&gt; &quot;1&quot;,</code> </br></p>

<p><code>&quot;CC_TOKEN&quot; =&gt; &quot;ZweUQS5LCyl5VdtlgZelHjSC3p7q3rdOvZIcjTstK6fy6lyFEe/UKJNKpikuAo+BvLQTe6Dg3C8iS2qtczP7+IU3Ui04EdIonG0C1nbJd6o=&quot;,</code> </br>
<code>&quot;CC_NUMBER&quot; =&gt; &quot;&quot;,</code> </br>
<code>&quot;EXP_MONTH&quot; =&gt; &quot;&quot;,</code> </br>
<code>&quot;EXP_YEAR&quot; =&gt; &quot;&quot;,</code> </br>
<code>&quot;CC_CVV&quot; =&gt; &quot;&quot;,</code> </br>
<code>&quot;CC_OWNER&quot; =&gt; &quot;Ad Soyad&quot;,</code> </br></p>

<p><code>&quot;BILL_FNAME&quot; =&gt; &quot;Ad&quot;,</code> </br>
<code>&quot;BILL_LNAME&quot; =&gt; &quot;Soyad&quot;,</code> </br>
<code>&quot;BILL_EMAIL&quot; =&gt; &quot;mail@mail.com&quot;,</code> </br>
<code>&quot;BILL_PHONE&quot; =&gt; &quot;02129003711&quot;,</code> </br>
<code>&quot;BILL_FAX&quot; =&gt; &quot;02129003711&quot;,</code> </br>
<code>&quot;BILL_ADDRESS&quot; =&gt; &quot;Birinci Adres satırı&quot;,</code> </br>
<code>&quot;BILL_ADDRESS2&quot; =&gt; &quot;İkinci Adres satırı&quot;,</code> </br>
<code>&quot;BILL_ZIPCODE&quot; =&gt; &quot;34000&quot;,</code> </br>
<code>&quot;BILL_CITY&quot; =&gt; &quot;ISTANBUL&quot;,</code> </br>
<code>&quot;BILL_COUNTRYCODE&quot; =&gt; &quot;TR&quot;,</code> </br>
<code>&quot;BILL_STATE&quot; =&gt; &quot;Ayazağa&quot;,</code> </br></p>

<p><code>&quot;DELIVERY_FNAME&quot; =&gt; &quot;Ad&quot;,</code> </br>
<code>&quot;DELIVERY_LNAME&quot; =&gt; &quot;Soyad&quot;,</code> </br>
<code>&quot;DELIVERY_EMAIL&quot; =&gt; &quot;mail@mail.com&quot;,</code> </br>
<code>&quot;DELIVERY_PHONE&quot; =&gt; &quot;02129003711&quot;,</code> </br>
<code>&quot;DELIVERY_COMPANY&quot; =&gt; &quot;PayU Ödeme Kuruluşu A.Ş.&quot;,</code> </br>
<code>&quot;DELIVERY_ADDRESS&quot; =&gt; &quot;Birinci Adres satırı&quot;,</code> </br>
<code>&quot;DELIVERY_ADDRESS2&quot; =&gt; &quot;İkinci Adres satırı&quot;,</code> </br>
<code>&quot;DELIVERY_ZIPCODE&quot; =&gt; &quot;34000&quot;,</code> </br>
<code>&quot;DELIVERY_CITY&quot; =&gt; &quot;ISTANBUL&quot;,</code> </br>
<code>&quot;DELIVERY_STATE&quot; =&gt; &quot;TR&quot;,</code> </br>
<code>&quot;DELIVERY_COUNTRYCODE&quot; =&gt; &quot;Ayazağa&quot;,</code> </br></p>
<h3 id='javascript-hata-mesajlari'>Javascript Hata Mesajları</h3>
<table><thead>
<tr>
<th>Hata Mesajı</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>Invalid browser <browser / version></td>
<td>Tarayıcı, uygulama tarafından desteklenmiyor (Bk.: Desteklenen tarayıcılar)</td>
</tr>
<tr>
<td>Invalid parameter: <parameter></td>
<td>Belirtilen parametre geçersiz (eksik veya bozuk biçim)</td>
</tr>
<tr>
<td>Pay button not specified</td>
<td>data-button parametresi belirtilmemiş</td>
</tr>
<tr>
<td>Specified Pay button not found</td>
<td>HTML içerisinde data-button parametresi ile belirtilen buton bulunamadı</td>
</tr>
<tr>
<td>Script must be inserted directly inside a form</td>
<td>Script doğrudan form içerisine eklenmelidir.</td>
</tr>
</tbody></table>
<h3 id='browser-uyumlulugu'>Browser Uyumluluğu</h3>
<table><thead>
<tr>
<th>İşletim Sistemi</th>
<th>Tarayıcı</th>
<th>Destekliyor</th>
</tr>
</thead><tbody>
<tr>
<td>Windows XP</td>
<td>IE 6</td>
<td>Hayır</td>
</tr>
<tr>
<td>Windows XP</td>
<td>IE 7</td>
<td>Hayır</td>
</tr>
<tr>
<td>Windows XP</td>
<td>Firefox 10 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows XP</td>
<td>Chrome 24 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows XP</td>
<td>Opera 12.15 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 7</td>
<td>IE 8</td>
<td>Hayır</td>
</tr>
<tr>
<td>Windows 7</td>
<td>IE 9 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 7</td>
<td>Firefox 10 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 7</td>
<td>Chrome 24 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 7</td>
<td>Opera 12.15 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 8</td>
<td>IE 10</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 8</td>
<td>Firefox 16 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 8</td>
<td>Chrome 24 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 8.1</td>
<td>IE 11</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 8.1</td>
<td>Firefox 16 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 8.1</td>
<td>Chrome 24 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 10</td>
<td>IE 11</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 10</td>
<td>Edge 13</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 10</td>
<td>Edge 14</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 10</td>
<td>Firefox 35 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 10</td>
<td>Chrome 37 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>OS X</td>
<td>Safari 5.1</td>
<td>Evet</td>
</tr>
<tr>
<td>OS X</td>
<td>Safari 6</td>
<td>Evet</td>
</tr>
<tr>
<td>OS X</td>
<td>Safari 6.2</td>
<td>Evet</td>
</tr>
<tr>
<td>OS X</td>
<td>Safari 7</td>
<td>Evet</td>
</tr>
<tr>
<td>OS X</td>
<td>Safari 8</td>
<td>Evet</td>
</tr>
<tr>
<td>OS X</td>
<td>Safari 9.1</td>
<td>Evet</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Mobil İşletim Sistemi</th>
<th>Tarayıcı</th>
<th>Destekliyor</th>
</tr>
</thead><tbody>
<tr>
<td>Android</td>
<td>Android 4 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>iOS</td>
<td>5.1 ve &lt;</td>
<td>Evet</td>
</tr>
<tr>
<td>Windows 8.1 ve 10</td>
<td>Varsayılan tarayıcı</td>
<td>Evet</td>
</tr>
</tbody></table>
<h3 id='payu-checkout-onemli-bilgiler'>PayU Checkout Önemli Bilgiler</h3>
<p><b> PayU Checkout Tokenı&#39;ın alabileceği karakter değerleri </b> </br>
A-Z a-z 0-9 / + =</p>

<p><b> Token Örneği </b> </br>
ZweUQS5LCyl5VdtlgZelHjSC3p7q3rdOvZIcjTstK6fy6lyFEe/UKJNKpikuAo+BvLQTe6Dg3C8iS2qtczP7+IU3Ui04EdIonG0C1nbJd6o=</p>

<p><b> Token Kısıtlamaları </b> </br>
- Token, işlem başarısız olsa dahi yalnızca bir kez kullanılır, </br>
- Token’ın kullanım süresi, token oluşturulduktan sonra 30 dakika dır, </br>
- Token değeri hiçbir koşulda saklanmamalıdır. </br></p>
<h1 id='kart-saklama'>Kart Saklama</h1>
<blockquote>
<p>Kart Saklama İstek Örneği</p>

<p><a href="https://github.com/PayUTurkiye/PayUTR_CSharp/raw/master/PayU_TR_CSharp.zip"> C Sharp Örnek Proje ve Kodları buradan indirebilirsiniz. </a></p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code>
<span class="n">ApiPaymentRequest</span> <span class="n">apiPaymentRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApiPaymentRequest</span><span class="p">();</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUConfig</span><span class="p">();</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">MERCHANT</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">LANGUAGE</span> <span class="p">=</span> <span class="s">"TR"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">PAY_METHOD</span> <span class="p">=</span> <span class="s">"CCVISAMC"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">BACK_REF</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">PRICES_CURRENCY</span> <span class="p">=</span> <span class="s">"TRY"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">LU_ENABLE_TOKEN</span> <span class="p">=</span> <span class="s">"true"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUOrder</span><span class="p">();</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">ORDER_REF</span> <span class="p">=</span> <span class="n">Guid</span><span class="p">.</span><span class="nf">NewGuid</span><span class="p">().</span><span class="nf">ToString</span><span class="p">();</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">ORDER_SHIPPING</span> <span class="p">=</span> <span class="s">"5"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">ORDER_DATE</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"yyyy-MM-dd HH:mm:ss"</span><span class="p">);</span>

<span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="n">PayUOrder</span><span class="p">.</span><span class="n">PayUOrderItem</span> <span class="n">orderItem</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="n">PayUOrder</span><span class="p">.</span><span class="nf">PayUOrderItem</span><span class="p">();</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PRICE</span> <span class="p">=</span> <span class="s">"5"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PINFO</span> <span class="p">=</span> <span class="s">"Test Açıklaması"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_QTY</span> <span class="p">=</span> <span class="s">"1"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PCODE</span> <span class="p">=</span> <span class="s">"Test Kodu"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PNAME</span> <span class="p">=</span> <span class="s">"Test Ürünü"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_VAT</span> <span class="p">=</span> <span class="s">"18"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PRICE_TYPE</span> <span class="p">=</span> <span class="s">"NET"</span><span class="p">;</span>

<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">OrderItems</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">orderItem</span><span class="p">);</span>

<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUCreditCard</span><span class="p">();</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">CC_NUMBER</span> <span class="p">=</span> <span class="n">cardNumber</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">EXP_MONTH</span> <span class="p">=</span> <span class="n">month</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">EXP_YEAR</span> <span class="p">=</span> <span class="n">year</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">CC_CVV</span> <span class="p">=</span> <span class="n">cvc</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">CC_OWNER</span> <span class="p">=</span> <span class="n">nameSurname</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">SELECTED_INSTALLMENTS_NUMBER</span> <span class="p">=</span> <span class="n">installment</span><span class="p">;</span>

<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUCustomer</span><span class="p">();</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_FNAME</span> <span class="p">=</span> <span class="s">"Ad"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_LNAME</span> <span class="p">=</span> <span class="s">"Soyad"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_EMAIL</span> <span class="p">=</span> <span class="s">"mail@mail.com"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_PHONE</span> <span class="p">=</span> <span class="s">"02129003711"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_FAX</span> <span class="p">=</span> <span class="s">"02129003711"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_ADDRESS</span> <span class="p">=</span> <span class="s">"Birinci Adres satırı"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_ADDRESS2</span> <span class="p">=</span> <span class="s">"İkinci Adres satırı"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_ZIPCODE</span> <span class="p">=</span> <span class="s">"34000"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_CITY</span> <span class="p">=</span> <span class="s">"ISTANBUL"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_COUNTRYCODE</span> <span class="p">=</span> <span class="s">"TR"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_STATE</span> <span class="p">=</span> <span class="s">"Ayazağa"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">CLIENT_IP</span> <span class="p">=</span> <span class="n">Request</span><span class="p">.</span><span class="n">UserHostAddress</span><span class="p">;</span>


<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUDelivery</span><span class="p">();</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_FNAME</span> <span class="p">=</span> <span class="s">"Ad"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_LNAME</span> <span class="p">=</span> <span class="s">"Soyad"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_EMAIL</span> <span class="p">=</span> <span class="s">"mail@mail.com"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_PHONE</span> <span class="p">=</span> <span class="s">"02129003711"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_COMPANY</span> <span class="p">=</span> <span class="s">"PayU Ödeme Kuruluşu A.Ş."</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_ADDRESS</span> <span class="p">=</span> <span class="s">"Birinci Adres satIRI"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_ADDRESS2</span> <span class="p">=</span> <span class="s">"İkinci Adres satırı"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_ZIPCODE</span> <span class="p">=</span> <span class="s">"34000"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_CITY</span> <span class="p">=</span> <span class="s">"ISTANBUL"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_STATE</span> <span class="p">=</span> <span class="s">"TR"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_COUNTRYCODE</span> <span class="p">=</span> <span class="s">"Ayazağa"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
<span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/order/alu/v3"</span><span class="p">;</span>
<span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">Non3DExecute</span><span class="p">(</span><span class="n">apiPaymentRequest</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>

</code></pre><pre class="highlight javascript tab-javascript"><code>
<span class="kd">var</span> <span class="nx">EndPointUrl</span> <span class="o">=</span> <span class="s1">'https://secure.payu.com.tr/order/alu/v3'</span><span class="p">;</span>

<span class="nx">SecretKey</span> <span class="o">=</span> <span class="s1">'SECRET_KEY'</span><span class="p">;</span>


<span class="kd">var</span> <span class="nx">moment</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moment'</span><span class="p">);</span>
<span class="nx">date</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">.</span><span class="nx">utc</span><span class="p">().</span><span class="nx">format</span><span class="p">(</span><span class="s1">'YYYY-MM-DD HH:mm:ss'</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span>
<span class="nx">ORDER_REF</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="mi">1000</span><span class="p">));</span>


<span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'MERCHANT'</span><span class="p">:</span> <span class="s2">"OPU_TEST"</span><span class="p">,</span>
    <span class="s1">'LANGUAGE'</span><span class="p">:</span> <span class="s2">"TR"</span><span class="p">,</span>
    <span class="s1">'ORDER_DATE'</span><span class="p">:</span> <span class="nx">date</span><span class="p">,</span>
    <span class="s1">'PAY_METHOD'</span><span class="p">:</span> <span class="s2">"CCVISAMC"</span><span class="p">,</span>
    <span class="s1">'BACK_REF'</span><span class="p">:</span> <span class="s2">"http://www.backref.com.tr"</span><span class="p">,</span>
    <span class="s1">'PRICES_CURRENCY'</span><span class="p">:</span> <span class="s2">"TRY"</span><span class="p">,</span>
    <span class="s1">'SELECTED_INSTALLMENTS_NUMBER'</span><span class="p">:</span> <span class="s2">"1"</span><span class="p">,</span>
    <span class="s1">'ORDER_SHIPPING'</span><span class="p">:</span> <span class="s2">"5"</span><span class="p">,</span>
    <span class="s1">'CLIENT_IP'</span><span class="p">:</span> <span class="s2">"127.0.0.1"</span><span class="p">,</span>
    <span class="s1">'ORDER_REF'</span><span class="p">:</span> <span class="s2">"Test"</span><span class="o">+</span><span class="nx">ORDER_REF</span><span class="p">,</span>

    <span class="s1">'ORDER_PNAME[0]'</span><span class="p">:</span><span class="s1">'Test Ürünü'</span><span class="p">,</span>
    <span class="s1">'ORDER_PCODE[0]'</span><span class="p">:</span><span class="s1">'Test Kodu'</span><span class="p">,</span>
    <span class="s1">'ORDER_PINFO[0]'</span><span class="p">:</span><span class="s1">'Test Açıklaması'</span><span class="p">,</span>
    <span class="s1">'ORDER_PRICE[0]'</span><span class="p">:</span><span class="s1">'5'</span><span class="p">,</span>
    <span class="s1">'ORDER_VAT[0]'</span><span class="p">:</span><span class="s1">'18'</span><span class="p">,</span>
    <span class="s1">'ORDER_PRICE_TYPE[0]'</span><span class="p">:</span><span class="s1">'NET'</span><span class="p">,</span>
    <span class="s1">'ORDER_QTY[0]'</span><span class="p">:</span><span class="s1">'1'</span><span class="p">,</span>

    <span class="s1">'ORDER_PNAME[1]'</span><span class="p">:</span><span class="s1">'Test Ürünü-2'</span><span class="p">,</span>
    <span class="s1">'ORDER_PCODE[1]'</span><span class="p">:</span><span class="s1">'Test Kodu-2'</span><span class="p">,</span>
    <span class="s1">'ORDER_PINFO[1]'</span><span class="p">:</span><span class="s1">'Test Açıklaması-2'</span><span class="p">,</span>
    <span class="s1">'ORDER_PRICE[1]'</span><span class="p">:</span><span class="s1">'15'</span><span class="p">,</span>
    <span class="s1">'ORDER_VAT[1]'</span><span class="p">:</span><span class="s1">'24'</span><span class="p">,</span>
    <span class="s1">'ORDER_PRICE_TYPE[1]'</span><span class="p">:</span><span class="s1">'GROSS'</span><span class="p">,</span>
    <span class="s1">'ORDER_QTY[1]'</span><span class="p">:</span><span class="s1">'3'</span><span class="p">,</span>

    <span class="s1">'CC_NUMBER'</span><span class="p">:</span><span class="s1">'4355084355084358'</span><span class="p">,</span>
    <span class="s1">'EXP_MONTH'</span><span class="p">:</span><span class="s1">'12'</span><span class="p">,</span>
    <span class="s1">'EXP_YEAR'</span><span class="p">:</span><span class="s1">'2018'</span><span class="p">,</span>
    <span class="s1">'CC_CVV'</span><span class="p">:</span><span class="s1">'000'</span><span class="p">,</span>
    <span class="s1">'CC_OWNER'</span><span class="p">:</span><span class="s1">'000'</span><span class="p">,</span>

    <span class="s1">'BILL_FNAME'</span><span class="p">:</span><span class="s1">'Ad'</span><span class="p">,</span>
    <span class="s1">'BILL_LNAME'</span><span class="p">:</span><span class="s1">'Soyad'</span><span class="p">,</span>
    <span class="s1">'BILL_EMAIL'</span><span class="p">:</span><span class="s1">'mail@mail.com'</span><span class="p">,</span>
    <span class="s1">'BILL_PHONE'</span><span class="p">:</span><span class="s1">'02129003711'</span><span class="p">,</span>
    <span class="s1">'BILL_FAX'</span><span class="p">:</span><span class="s1">'02129003711'</span><span class="p">,</span>
    <span class="s1">'BILL_ADDRESS'</span><span class="p">:</span><span class="s1">'Birinci Adres satırı'</span><span class="p">,</span>
    <span class="s1">'BILL_ADDRESS2'</span><span class="p">:</span><span class="s1">'İkinci Adres satırı'</span><span class="p">,</span>
    <span class="s1">'BILL_ZIPCODE'</span><span class="p">:</span><span class="s1">'34000'</span><span class="p">,</span>
    <span class="s1">'BILL_CITY'</span><span class="p">:</span><span class="s1">'ISTANBUL'</span><span class="p">,</span>
    <span class="s1">'BILL_COUNTRYCODE'</span><span class="p">:</span><span class="s1">'TR'</span><span class="p">,</span>
    <span class="s1">'BILL_STATE'</span><span class="p">:</span><span class="s1">'Ayazağa'</span><span class="p">,</span>

    <span class="s1">'DELIVERY_FNAME'</span><span class="p">:</span><span class="s1">'Ad'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_LNAME'</span><span class="p">:</span><span class="s1">'Soyad'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_EMAIL'</span><span class="p">:</span><span class="s1">'mail@mail.com'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_PHONE'</span><span class="p">:</span><span class="s1">'02129003711'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_COMPANY'</span><span class="p">:</span><span class="s1">'PayU Ödeme Kuruluşu A.Ş.'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_ADDRESS'</span><span class="p">:</span><span class="s1">'Birinci Adres satırı'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_ADDRESS2'</span><span class="p">:</span><span class="s1">'İkinci Adres satırı'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_ZIPCODE'</span><span class="p">:</span><span class="s1">'34000'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_CITY'</span><span class="p">:</span><span class="s1">'ISTANBUL'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_STATE'</span><span class="p">:</span><span class="s1">'TR'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_COUNTRYCODE'</span><span class="p">:</span><span class="s1">'Ayazağa'</span><span class="p">,</span>
    <span class="s1">'LU_ENABLE_TOKEN'</span><span class="p">:</span> <span class="s1">'1'</span><span class="p">,</span>

<span class="p">}</span>

<span class="nx">hashstring</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">sortKeys</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'sort-keys'</span><span class="p">);</span>
<span class="nx">sorted</span> <span class="o">=</span> <span class="nx">sortKeys</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">k</span> <span class="k">in</span> <span class="nx">sorted</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">hashstring</span> <span class="o">+=</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">].</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span> <span class="p">;</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">)</span>
    <span class="p">,</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">hashstring</span>
    <span class="p">,</span> <span class="nx">secretkey</span> <span class="o">=</span> <span class="nx">SecretKey</span><span class="p">;</span>

<span class="nx">signature</span> <span class="o">=</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s1">'md5'</span><span class="p">,</span> <span class="nx">secretkey</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="nx">array</span><span class="p">[</span><span class="s1">'ORDER_HASH'</span><span class="p">]</span> <span class="o">=</span> <span class="nx">signature</span>

<span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">EndPointUrl</span><span class="p">,</span> <span class="p">{</span><span class="na">form</span><span class="p">:</span><span class="nx">array</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>

<span class="p">});</span>


</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://secure.payu.com.tr/order/alu/v3"</span><span class="p">;</span>
<span class="nb">date_default_timezone_set</span><span class="p">(</span><span class="s1">'UTC'</span><span class="p">);</span>

<span class="nv">$secretKey</span> <span class="o">=</span> <span class="s1">'SECRET_KEY'</span><span class="p">;</span>

<span class="nv">$arParams</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>

   <span class="s2">"MERCHANT"</span> <span class="o">=&gt;</span> <span class="s2">"OPU_TEST"</span><span class="p">,</span>
   <span class="s2">"LANGUAGE"</span> <span class="o">=&gt;</span> <span class="s2">"TR"</span><span class="p">,</span>
   <span class="s2">"ORDER_REF"</span> <span class="o">=&gt;</span>  <span class="nb">rand</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10000</span><span class="p">),</span>
   <span class="s2">"ORDER_DATE"</span> <span class="o">=&gt;</span> <span class="nb">date</span><span class="p">(</span><span class="s1">'Y-m-d H:i:s'</span><span class="p">),</span>
   <span class="s2">"PAY_METHOD"</span> <span class="o">=&gt;</span> <span class="s2">"CCVISAMC"</span><span class="p">,</span>
   <span class="s2">"BACK_REF"</span> <span class="o">=&gt;</span> <span class="s2">"http://www.backref.com.tr"</span><span class="p">,</span>
   <span class="s2">"PRICES_CURRENCY"</span> <span class="o">=&gt;</span> <span class="s2">"TRY"</span><span class="p">,</span>
   <span class="s2">"SELECTED_INSTALLMENTS_NUMBER"</span> <span class="o">=&gt;</span> <span class="s2">"1"</span><span class="p">,</span>
   <span class="s2">"ORDER_SHIPPING"</span><span class="o">=&gt;</span><span class="s2">"5"</span><span class="p">,</span>
   <span class="s2">"CLIENT_IP"</span> <span class="o">=&gt;</span> <span class="s2">"127.0.0.1"</span><span class="p">,</span>


   <span class="s2">"ORDER_PNAME[0]"</span> <span class="o">=&gt;</span> <span class="s2">"Test Ürünü"</span><span class="p">,</span>
   <span class="s2">"ORDER_PCODE[0]"</span> <span class="o">=&gt;</span> <span class="s2">"Test Kodu"</span><span class="p">,</span>
   <span class="s2">"ORDER_PINFO[0]"</span> <span class="o">=&gt;</span> <span class="s2">"Test Açıklaması"</span><span class="p">,</span>
   <span class="s2">"ORDER_PRICE[0]"</span> <span class="o">=&gt;</span> <span class="s2">"5"</span><span class="p">,</span>
   <span class="s2">"ORDER_VAT[0]"</span><span class="o">=&gt;</span><span class="s2">"18"</span><span class="p">,</span>
   <span class="s2">"ORDER_PRICE_TYPE[0]"</span><span class="o">=&gt;</span><span class="s2">"NET"</span><span class="p">,</span>
   <span class="s2">"ORDER_QTY[0]"</span> <span class="o">=&gt;</span> <span class="s2">"1"</span><span class="p">,</span>

   <span class="s2">"LU_ENABLE_TOKEN"</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
   <span class="s2">"CC_NUMBER"</span> <span class="o">=&gt;</span> <span class="s2">"4355084355084358"</span><span class="p">,</span>
   <span class="s2">"EXP_MONTH"</span> <span class="o">=&gt;</span> <span class="s2">"12"</span><span class="p">,</span>
   <span class="s2">"EXP_YEAR"</span> <span class="o">=&gt;</span> <span class="s2">"2018"</span><span class="p">,</span>
   <span class="s2">"CC_CVV"</span> <span class="o">=&gt;</span> <span class="s2">"000"</span><span class="p">,</span>
   <span class="s2">"CC_OWNER"</span> <span class="o">=&gt;</span> <span class="s2">"Ad Soyad"</span><span class="p">,</span>

   <span class="s2">"BILL_FNAME"</span> <span class="o">=&gt;</span> <span class="s2">"Ad"</span><span class="p">,</span>
   <span class="s2">"BILL_LNAME"</span> <span class="o">=&gt;</span> <span class="s2">"Soyad"</span><span class="p">,</span>
   <span class="s2">"BILL_EMAIL"</span> <span class="o">=&gt;</span> <span class="s2">"mail@mail.com"</span><span class="p">,</span>
   <span class="s2">"BILL_PHONE"</span> <span class="o">=&gt;</span> <span class="s2">"02129003711"</span><span class="p">,</span>
   <span class="s2">"BILL_FAX"</span> <span class="o">=&gt;</span> <span class="s2">"02129003711"</span><span class="p">,</span>
   <span class="s2">"BILL_ADDRESS"</span> <span class="o">=&gt;</span> <span class="s2">"Birinci Adres satırı"</span><span class="p">,</span>
   <span class="s2">"BILL_ADDRESS2"</span> <span class="o">=&gt;</span> <span class="s2">"İkinci Adres satırı"</span><span class="p">,</span>
   <span class="s2">"BILL_ZIPCODE"</span> <span class="o">=&gt;</span> <span class="s2">"34000"</span><span class="p">,</span>
   <span class="s2">"BILL_CITY"</span> <span class="o">=&gt;</span> <span class="s2">"ISTANBUL"</span><span class="p">,</span>
   <span class="s2">"BILL_COUNTRYCODE"</span> <span class="o">=&gt;</span> <span class="s2">"TR"</span><span class="p">,</span>
   <span class="s2">"BILL_STATE"</span> <span class="o">=&gt;</span> <span class="s2">"Ayazağa"</span><span class="p">,</span>

   <span class="s2">"DELIVERY_FNAME"</span> <span class="o">=&gt;</span> <span class="s2">"Ad"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_LNAME"</span> <span class="o">=&gt;</span> <span class="s2">"Soyad"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_EMAIL"</span> <span class="o">=&gt;</span> <span class="s2">"mail@mail.com"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_PHONE"</span> <span class="o">=&gt;</span> <span class="s2">"02129003711"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_COMPANY"</span> <span class="o">=&gt;</span> <span class="s2">"PayU Ödeme Kuruluşu A.Ş."</span><span class="p">,</span>
   <span class="s2">"DELIVERY_ADDRESS"</span> <span class="o">=&gt;</span> <span class="s2">"Birinci Adres satırı"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_ADDRESS2"</span> <span class="o">=&gt;</span> <span class="s2">"İkinci Adres satırı"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_ZIPCODE"</span> <span class="o">=&gt;</span> <span class="s2">"34000"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_CITY"</span> <span class="o">=&gt;</span> <span class="s2">"ISTANBUL"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_STATE"</span> <span class="o">=&gt;</span> <span class="s2">"TR"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_COUNTRYCODE"</span> <span class="o">=&gt;</span> <span class="s2">"Ayazağa"</span><span class="p">,</span>
<span class="p">);</span>

<span class="nb">ksort</span><span class="p">(</span><span class="nv">$arParams</span><span class="p">);</span>
<span class="nv">$hashString</span> <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$arParams</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$val</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$hashString</span> <span class="o">.=</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$val</span><span class="p">)</span> <span class="o">.</span> <span class="nv">$val</span><span class="p">;</span>
<span class="p">}</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$arParams</span><span class="p">);</span>
<span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$hashString</span><span class="p">);</span>
<span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>

<span class="nv">$arParams</span><span class="p">[</span><span class="s2">"ORDER_HASH"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">hash_hmac</span><span class="p">(</span><span class="s2">"md5"</span><span class="p">,</span> <span class="nv">$hashString</span><span class="p">,</span> <span class="nv">$secretKey</span><span class="p">);</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$arParams</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_SSL_VERIFYPEER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_SSL_VERIFYHOST</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_IPRESOLVE</span><span class="p">,</span> <span class="nx">CURL_IPRESOLVE_V4</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_TIMEOUT</span><span class="p">,</span> <span class="mi">60</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">http_build_query</span><span class="p">(</span><span class="nv">$arParams</span><span class="p">));</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="nv">$curlerrcode</span> <span class="o">=</span> <span class="nb">curl_errno</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nv">$curlerr</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="k">empty</span><span class="p">(</span><span class="nv">$curlerr</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="k">empty</span><span class="p">(</span><span class="nv">$curlerrcode</span><span class="p">))</span> <span class="p">{</span>
    <span class="nv">$parsedXML</span> <span class="o">=</span> <span class="o">@</span><span class="nb">simplexml_load_string</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$parsedXML</span> <span class="o">!==</span> <span class="k">FALSE</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>
        <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
        <span class="k">echo</span> <span class="s2">"&lt;/pre&gt;"</span><span class="p">;</span>

        <span class="nv">$payuTranReference</span> <span class="o">=</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">REFNO</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">STATUS</span> <span class="o">==</span> <span class="s2">"SUCCESS"</span><span class="p">)</span> <span class="p">{</span>


            <span class="k">if</span> <span class="p">((</span><span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">RETURN_CODE</span> <span class="o">==</span> <span class="s2">"3DS_ENROLLED"</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">URL_3DS</span><span class="p">)))</span> <span class="p">{</span>
                <span class="nb">header</span><span class="p">(</span><span class="s2">"Location:"</span> <span class="o">.</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">URL_3DS</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>
            <span class="k">echo</span> <span class="s2">"SUCCES [PayU reference number: "</span> <span class="o">.</span> <span class="nv">$payuTranReference</span> <span class="o">.</span> <span class="s2">"]"</span><span class="p">;</span>
            <span class="k">echo</span> <span class="s2">"&lt;/pre&gt;"</span><span class="p">;</span>

        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">echo</span> <span class="s2">"Error: "</span> <span class="o">.</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">RETURN_MESSAGE</span> <span class="o">.</span> <span class="s2">" ["</span> <span class="o">.</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">RETURN_CODE</span> <span class="o">.</span> <span class="s2">"]"</span><span class="p">;</span>
            <span class="k">echo</span> <span class="s2">"&lt;br&gt;"</span><span class="p">;</span>
            <span class="k">echo</span> <span class="s2">"Error Details: "</span> <span class="o">.</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">ERRORMESSAGE</span> <span class="o">.</span> <span class="s2">"&lt;br&gt; Error Code: ["</span> <span class="o">.</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">PROCRETURNCODE</span> <span class="o">.</span> <span class="s2">"]"</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$payuTranReference</span><span class="p">))</span> <span class="p">{</span>
                <span class="c1">//the transaction was register to PayU system, but some error occured during the bank authorization.
</span>                <span class="c1">//See $parsedXML-&gt;RETURN_MESSAGE and $parsedXML-&gt;RETURN_CODE for details
</span>                <span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>
                <span class="k">echo</span> <span class="s2">" [PayU reference number: "</span> <span class="o">.</span> <span class="nv">$payuTranReference</span> <span class="o">.</span> <span class="s2">"]"</span><span class="p">;</span>
                <span class="k">echo</span> <span class="s2">"&lt;/pre&gt;"</span><span class="p">;</span>

            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">"cURL error: "</span> <span class="o">.</span> <span class="nv">$curlerr</span><span class="p">;</span>

<span class="p">}</span>

</code></pre><pre class="highlight python tab-python"><code><span class="c"># Importing required libraries.</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">urlencode</span>
<span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>

<span class="c"># Endpoint</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://secure.payu.com.tr/order/alu/v3"</span>

<span class="c"># PayU Merchant's Secret Key</span>
<span class="n">secret</span> <span class="o">=</span> <span class="s">'SECRET_KEY'</span>

<span class="c"># Request @params Begin</span>
<span class="n">array</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c"># PayU Merchant's Merchant ID</span>
    <span class="s">'MERCHANT'</span><span class="p">:</span> <span class="s">"OPU_TEST"</span><span class="p">,</span>
    <span class="s">'LANGUAGE'</span><span class="p">:</span> <span class="s">"TR"</span><span class="p">,</span>
    <span class="s">'ORDER_DATE'</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">Y-</span><span class="si">%</span><span class="s">m-</span><span class="si">%</span><span class="s">d </span><span class="si">%</span><span class="s">H:</span><span class="si">%</span><span class="s">M:</span><span class="si">%</span><span class="s">S'</span><span class="p">),</span>
    <span class="s">'PAY_METHOD'</span><span class="p">:</span> <span class="s">"CCVISAMC"</span><span class="p">,</span>
    <span class="s">'BACK_REF'</span><span class="p">:</span> <span class="s">"http://www.backref.com.tr"</span><span class="p">,</span>
    <span class="s">'PRICES_CURRENCY'</span><span class="p">:</span> <span class="s">"TRY"</span><span class="p">,</span>
    <span class="s">'SELECTED_INSTALLMENTS_NUMBER'</span><span class="p">:</span> <span class="s">"1"</span><span class="p">,</span>
    <span class="s">'ORDER_SHIPPING'</span><span class="p">:</span> <span class="s">"5"</span><span class="p">,</span>
    <span class="s">'CLIENT_IP'</span><span class="p">:</span> <span class="s">"127.0.0.1"</span><span class="p">,</span>
    <span class="s">'ORDER_PNAME[0]'</span><span class="p">:</span> <span class="s">"Test Ürünü"</span><span class="p">,</span>
    <span class="s">'ORDER_PCODE[0]'</span><span class="p">:</span> <span class="s">"Test Kodu"</span><span class="p">,</span>
    <span class="s">'ORDER_PINFO[0]'</span><span class="p">:</span> <span class="s">"Test Açıklaması"</span><span class="p">,</span>
    <span class="s">'ORDER_PRICE[0]'</span><span class="p">:</span> <span class="s">"5"</span><span class="p">,</span>
    <span class="s">'ORDER_VAT[0]'</span><span class="p">:</span> <span class="s">"18"</span><span class="p">,</span>
    <span class="s">'ORDER_PRICE_TYPE[0]'</span><span class="p">:</span> <span class="s">"NET"</span><span class="p">,</span>
    <span class="s">'ORDER_QTY[0]'</span><span class="p">:</span> <span class="s">"1"</span><span class="p">,</span>
    <span class="s">'CC_NUMBER'</span><span class="p">:</span> <span class="s">"4355084355084358"</span><span class="p">,</span>
    <span class="s">'EXP_MONTH'</span><span class="p">:</span> <span class="s">"12"</span><span class="p">,</span>
    <span class="s">'EXP_YEAR'</span><span class="p">:</span> <span class="s">"2018"</span><span class="p">,</span>
    <span class="s">'CC_CVV'</span><span class="p">:</span> <span class="s">"000"</span><span class="p">,</span>
    <span class="s">'CC_OWNER'</span><span class="p">:</span> <span class="s">"Ad Soyad"</span><span class="p">,</span>
    <span class="s">'BILL_FNAME'</span><span class="p">:</span> <span class="s">"Ad"</span><span class="p">,</span>
    <span class="s">'BILL_LNAME'</span><span class="p">:</span> <span class="s">"Soyad"</span><span class="p">,</span>
    <span class="s">'BILL_EMAIL'</span><span class="p">:</span> <span class="s">"mail@mail.com"</span><span class="p">,</span>
    <span class="s">'BILL_PHONE'</span><span class="p">:</span> <span class="s">"02129003711"</span><span class="p">,</span>
    <span class="s">'BILL_FAX'</span><span class="p">:</span> <span class="s">"02129003711"</span><span class="p">,</span>
    <span class="s">'BILL_ADDRESS'</span><span class="p">:</span> <span class="s">"Birinci Adres satırı"</span><span class="p">,</span>
    <span class="s">'BILL_ADDRESS2'</span><span class="p">:</span> <span class="s">"İkinci Adres satırı"</span><span class="p">,</span>
    <span class="s">'BILL_ZIPCODE'</span><span class="p">:</span> <span class="s">"34000"</span><span class="p">,</span>
    <span class="s">'BILL_CITY'</span><span class="p">:</span> <span class="s">"ISTANBUL"</span><span class="p">,</span>
    <span class="s">'BILL_COUNTRYCODE'</span><span class="p">:</span> <span class="s">"TR"</span><span class="p">,</span>
    <span class="s">'BILL_STATE'</span><span class="p">:</span> <span class="s">"Ayazağa"</span><span class="p">,</span>
    <span class="s">'DELIVERY_FNAME'</span><span class="p">:</span> <span class="s">"Ad"</span><span class="p">,</span>
    <span class="s">'DELIVERY_LNAME'</span><span class="p">:</span> <span class="s">"Soyad"</span><span class="p">,</span>
    <span class="s">'DELIVERY_EMAIL'</span><span class="p">:</span> <span class="s">"mail@mail.com"</span><span class="p">,</span>
    <span class="s">'DELIVERY_PHONE'</span><span class="p">:</span> <span class="s">"02129003711"</span><span class="p">,</span>
    <span class="s">'DELIVERY_COMPANY'</span><span class="p">:</span> <span class="s">"PayU Ödeme Kuruluşu A.Ş."</span><span class="p">,</span>
    <span class="s">'DELIVERY_ADDRESS'</span><span class="p">:</span> <span class="s">"Birinci Adres satırı"</span><span class="p">,</span>
    <span class="s">'DELIVERY_ADDRESS2'</span><span class="p">:</span> <span class="s">"İkinci Adres satırı"</span><span class="p">,</span>
    <span class="s">'DELIVERY_ZIPCODE'</span><span class="p">:</span> <span class="s">"34000"</span><span class="p">,</span>
    <span class="s">'DELIVERY_CITY'</span><span class="p">:</span> <span class="s">"ISTANBUL"</span><span class="p">,</span>
    <span class="s">'DELIVERY_STATE'</span><span class="p">:</span> <span class="s">"TR"</span><span class="p">,</span>
    <span class="s">'DELIVERY_COUNTRYCODE'</span><span class="p">:</span> <span class="s">"Ayazağa"</span><span class="p">,</span>
    <span class="s">'LU_ENABLE_TOKEN'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">}</span>
<span class="c"># Random number generation function for ORDER_REF @param</span>
<span class="n">refno</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100000</span><span class="p">))</span>

<span class="c"># Adding ORDER_REF @param to request array</span>
<span class="n">array</span><span class="p">[</span><span class="s">'ORDER_REF'</span><span class="p">]</span> <span class="o">=</span> <span class="n">refno</span>

<span class="c"># Initializing the hashstring @param</span>
<span class="n">hashstring</span> <span class="o">=</span> <span class="s">''</span>

<span class="c"># Sorting Array @params</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">array</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
<span class="c"># Adding the length of each field value at the beginning of field value</span>
    <span class="n">hashstring</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">hashstring</span><span class="p">)</span>

<span class="c"># Calculating ORDER_HASH</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashstring</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>

<span class="c"># Adding ORDER_HASH @param to request array</span>
<span class="n">array</span><span class="p">[</span><span class="s">'ORDER_HASH'</span><span class="p">]</span> <span class="o">=</span> <span class="n">signature</span>

<span class="k">print</span><span class="p">(</span><span class="n">signature</span><span class="p">)</span>

<span class="c"># Sending Request to Endpoint</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">urlencode</span><span class="p">(</span><span class="n">array</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

<span class="c"># Printing result/response</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre>
<aside class="warning">
PayU'nun saklanmış kartdan periyodik olarak belirli bir tutar çekmesi adına bir servis bulunmamaktadır. Bu geliştirme tarafınızca yapılmalıdır.
</aside>

<aside class="warning">
Kart saklama ve saklanmış kart ile ödeme almak için satış temsilciniz ile iletişime geçerek gerekli aktivasyonları sağlamanız gerekmektedir.
</aside>

<p>API ile ödeme alırken tek bir parametre eklenmesi ile kart saklanabilir(token oluşturulabilir), saklanan kart ile &quot;Tek Tıkla Ödeme&quot; veya &quot;Tekrarlayan Ödeme&quot; modelinde ödeme alabilirsiniz.</p>
<h3 id='islem-sirasinda-kart-saklama-token-olusturma'>İşlem Sırasında Kart Saklama(Token Oluşturma)</h3>
<blockquote>
<p>Başarılı Kart Saklama Örneği</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="p">&lt;</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">REFNO</span><span class="p">&gt;</span><span class="m">41536398</span><span class="p">&lt;/</span><span class="n">REFNO</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ALIAS</span><span class="p">&gt;</span><span class="m">8f886d873</span><span class="n">acec2724c6cdddaf09c5861</span><span class="p">&lt;/</span><span class="n">ALIAS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">STATUS</span><span class="p">&gt;</span><span class="n">SUCCESS</span><span class="p">&lt;/</span><span class="n">STATUS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RETURN_CODE</span><span class="p">&gt;</span><span class="n">AUTHORIZED</span><span class="p">&lt;/</span><span class="n">RETURN_CODE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RETURN_MESSAGE</span><span class="p">&gt;</span><span class="n">Authorized</span><span class="p">.&lt;/</span><span class="n">RETURN_MESSAGE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">DATE</span><span class="p">&gt;</span><span class="m">2017</span><span class="p">-</span><span class="m">10</span><span class="p">-</span><span class="m">06</span> <span class="m">21</span><span class="p">:</span><span class="m">24</span><span class="p">:</span><span class="m">21</span><span class="p">&lt;/</span><span class="n">DATE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">AMOUNT</span><span class="p">&gt;</span><span class="m">10.9</span><span class="p">&lt;/</span><span class="n">AMOUNT</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">CURRENCY</span><span class="p">&gt;</span><span class="n">TRY</span><span class="p">&lt;/</span><span class="n">CURRENCY</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">INSTALLMENTS_NO</span><span class="p">&gt;</span><span class="m">1</span><span class="p">&lt;/</span><span class="n">INSTALLMENTS_NO</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">CARD_PROGRAM_NAME</span><span class="p">&gt;</span><span class="n">AXESS</span><span class="p">&lt;/</span><span class="n">CARD_PROGRAM_NAME</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ORDER_REF</span><span class="p">&gt;</span><span class="m">78244</span><span class="p">&lt;/</span><span class="n">ORDER_REF</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">AUTH_CODE</span><span class="p">&gt;</span><span class="m">026497</span><span class="p">&lt;/</span><span class="n">AUTH_CODE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RRN</span><span class="p">&gt;</span><span class="m">727921202667</span><span class="p">&lt;/</span><span class="n">RRN</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ERRORMESSAGE</span><span class="p">&gt;</span><span class="n">Approved</span><span class="p">.&lt;/</span><span class="n">ERRORMESSAGE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">PROCRETURNCODE</span><span class="p">&gt;</span><span class="m">00</span><span class="p">&lt;/</span><span class="n">PROCRETURNCODE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">BANK_MERCHANT_ID</span><span class="p">&gt;</span><span class="m">100100000</span><span class="p">&lt;/</span><span class="n">BANK_MERCHANT_ID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">PAN</span><span class="p">&gt;</span><span class="m">4355</span><span class="p">-</span><span class="n">xxxx</span><span class="p">-</span><span class="n">xxxx</span><span class="p">-</span><span class="m">4358</span><span class="p">&lt;/</span><span class="n">PAN</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">EXPYEAR</span><span class="p">&gt;</span><span class="m">18</span><span class="p">&lt;/</span><span class="n">EXPYEAR</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">EXPMONTH</span><span class="p">&gt;</span><span class="m">12</span><span class="p">&lt;/</span><span class="n">EXPMONTH</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">CLIENTID</span><span class="p">&gt;</span><span class="m">100100000</span><span class="p">&lt;/</span><span class="n">CLIENTID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">HOSTREFNUM</span><span class="p">&gt;</span><span class="m">727921202667</span><span class="p">&lt;/</span><span class="n">HOSTREFNUM</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">OID</span><span class="p">&gt;</span><span class="m">41536398</span><span class="p">&lt;/</span><span class="n">OID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RESPONSE</span><span class="p">&gt;</span><span class="n">Approved</span><span class="p">&lt;/</span><span class="n">RESPONSE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">TERMINAL_BANK</span><span class="p">&gt;</span><span class="n">AKBA</span><span class="p">&lt;/</span><span class="n">TERMINAL_BANK</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">MDSTATUS</span><span class="p">&gt;&lt;/</span><span class="n">MDSTATUS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">MDERRORMSG</span><span class="p">&gt;&lt;/</span><span class="n">MDERRORMSG</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">TXSTATUS</span><span class="p">&gt;&lt;/</span><span class="n">TXSTATUS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">XID</span><span class="p">&gt;&lt;/</span><span class="n">XID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ECI</span><span class="p">&gt;&lt;/</span><span class="n">ECI</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">CAVV</span><span class="p">&gt;&lt;/</span><span class="n">CAVV</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">TRANSID</span><span class="p">&gt;</span><span class="m">17279</span><span class="n">VYUG14215</span><span class="p">&lt;/</span><span class="n">TRANSID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">TOKEN_HASH</span><span class="p">&gt;</span><span class="m">1</span><span class="n">b88351b26f83e61361c333bec9428e8</span><span class="p">&lt;/</span><span class="n">TOKEN_HASH</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">HASH</span><span class="p">&gt;</span><span class="n">f56580e0932184a289934c34690a434a</span><span class="p">&lt;/</span><span class="n">HASH</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">EPAYMENT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">REFNO</span><span class="o">&gt;</span><span class="mi">41536398</span><span class="o">&lt;</span><span class="sr">/REFNO</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ALIAS</span><span class="o">&gt;</span><span class="mi">8</span><span class="nx">f886d873acec2724c6cdddaf09c5861</span><span class="o">&lt;</span><span class="sr">/ALIAS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">STATUS</span><span class="o">&gt;</span><span class="nx">SUCCESS</span><span class="o">&lt;</span><span class="sr">/STATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RETURN_CODE</span><span class="o">&gt;</span><span class="nx">AUTHORIZED</span><span class="o">&lt;</span><span class="sr">/RETURN_CODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="nx">Authorized</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/RETURN_MESSAGE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">06</span> <span class="mi">21</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">21</span><span class="o">&lt;</span><span class="sr">/DATE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">AMOUNT</span><span class="o">&gt;</span><span class="mf">10.9</span><span class="o">&lt;</span><span class="sr">/AMOUNT</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">CURRENCY</span><span class="o">&gt;</span><span class="nx">TRY</span><span class="o">&lt;</span><span class="sr">/CURRENCY</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">INSTALLMENTS_NO</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&lt;</span><span class="sr">/INSTALLMENTS_NO</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">CARD_PROGRAM_NAME</span><span class="o">&gt;</span><span class="nx">AXESS</span><span class="o">&lt;</span><span class="sr">/CARD_PROGRAM_NAME</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ORDER_REF</span><span class="o">&gt;</span><span class="mi">78244</span><span class="o">&lt;</span><span class="sr">/ORDER_REF</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">AUTH_CODE</span><span class="o">&gt;</span><span class="mi">026497</span><span class="o">&lt;</span><span class="sr">/AUTH_CODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RRN</span><span class="o">&gt;</span><span class="mi">727921202667</span><span class="o">&lt;</span><span class="sr">/RRN</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ERRORMESSAGE</span><span class="o">&gt;</span><span class="nx">Approved</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/ERRORMESSAGE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">PROCRETURNCODE</span><span class="o">&gt;</span><span class="mi">00</span><span class="o">&lt;</span><span class="sr">/PROCRETURNCODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">BANK_MERCHANT_ID</span><span class="o">&gt;</span><span class="mi">100100000</span><span class="o">&lt;</span><span class="sr">/BANK_MERCHANT_ID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">PAN</span><span class="o">&gt;</span><span class="mi">4355</span><span class="o">-</span><span class="nx">xxxx</span><span class="o">-</span><span class="nx">xxxx</span><span class="o">-</span><span class="mi">4358</span><span class="o">&lt;</span><span class="sr">/PAN</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">EXPYEAR</span><span class="o">&gt;</span><span class="mi">18</span><span class="o">&lt;</span><span class="sr">/EXPYEAR</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">EXPMONTH</span><span class="o">&gt;</span><span class="mi">12</span><span class="o">&lt;</span><span class="sr">/EXPMONTH</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">CLIENTID</span><span class="o">&gt;</span><span class="mi">100100000</span><span class="o">&lt;</span><span class="sr">/CLIENTID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">HOSTREFNUM</span><span class="o">&gt;</span><span class="mi">727921202667</span><span class="o">&lt;</span><span class="sr">/HOSTREFNUM</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">OID</span><span class="o">&gt;</span><span class="mi">41536398</span><span class="o">&lt;</span><span class="sr">/OID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RESPONSE</span><span class="o">&gt;</span><span class="nx">Approved</span><span class="o">&lt;</span><span class="sr">/RESPONSE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">TERMINAL_BANK</span><span class="o">&gt;</span><span class="nx">AKBA</span><span class="o">&lt;</span><span class="sr">/TERMINAL_BANK</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">MDSTATUS</span><span class="o">&gt;&lt;</span><span class="sr">/MDSTATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">MDERRORMSG</span><span class="o">&gt;&lt;</span><span class="sr">/MDERRORMSG</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">TXSTATUS</span><span class="o">&gt;&lt;</span><span class="sr">/TXSTATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">XID</span><span class="o">&gt;&lt;</span><span class="sr">/XID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ECI</span><span class="o">&gt;&lt;</span><span class="sr">/ECI</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">CAVV</span><span class="o">&gt;&lt;</span><span class="sr">/CAVV</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">TRANSID</span><span class="o">&gt;</span><span class="mi">17279</span><span class="nx">VYUG14215</span><span class="o">&lt;</span><span class="sr">/TRANSID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">TOKEN_HASH</span><span class="o">&gt;</span><span class="mi">1</span><span class="nx">b88351b26f83e61361c333bec9428e8</span><span class="o">&lt;</span><span class="sr">/TOKEN_HASH</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">HASH</span><span class="o">&gt;</span><span class="nx">f56580e0932184a289934c34690a434a</span><span class="o">&lt;</span><span class="sr">/HASH</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/EPAYMENT</span><span class="err">&gt;
</span></code></pre><pre class="highlight python tab-python"><code><span class="o">&lt;</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">REFNO</span><span class="o">&gt;</span><span class="mi">41536398</span><span class="o">&lt;/</span><span class="n">REFNO</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ALIAS</span><span class="o">&gt;</span><span class="mi">8</span><span class="n">f886d873acec2724c6cdddaf09c5861</span><span class="o">&lt;/</span><span class="n">ALIAS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">STATUS</span><span class="o">&gt;</span><span class="n">SUCCESS</span><span class="o">&lt;/</span><span class="n">STATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span><span class="n">AUTHORIZED</span><span class="o">&lt;/</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="n">Authorized</span><span class="o">.&lt;/</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mo">06</span> <span class="mi">21</span><span class="p">:</span><span class="mi">24</span><span class="p">:</span><span class="mi">21</span><span class="o">&lt;/</span><span class="n">DATE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">AMOUNT</span><span class="o">&gt;</span><span class="mf">10.9</span><span class="o">&lt;/</span><span class="n">AMOUNT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">CURRENCY</span><span class="o">&gt;</span><span class="n">TRY</span><span class="o">&lt;/</span><span class="n">CURRENCY</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">INSTALLMENTS_NO</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&lt;/</span><span class="n">INSTALLMENTS_NO</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">CARD_PROGRAM_NAME</span><span class="o">&gt;</span><span class="n">AXESS</span><span class="o">&lt;/</span><span class="n">CARD_PROGRAM_NAME</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ORDER_REF</span><span class="o">&gt;</span><span class="mi">78244</span><span class="o">&lt;/</span><span class="n">ORDER_REF</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">AUTH_CODE</span><span class="o">&gt;</span><span class="mo">0264</span><span class="mi">97</span><span class="o">&lt;/</span><span class="n">AUTH_CODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RRN</span><span class="o">&gt;</span><span class="mi">727921202667</span><span class="o">&lt;/</span><span class="n">RRN</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ERRORMESSAGE</span><span class="o">&gt;</span><span class="n">Approved</span><span class="o">.&lt;/</span><span class="n">ERRORMESSAGE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">PROCRETURNCODE</span><span class="o">&gt;</span><span class="mo">00</span><span class="o">&lt;/</span><span class="n">PROCRETURNCODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">BANK_MERCHANT_ID</span><span class="o">&gt;</span><span class="mi">100100000</span><span class="o">&lt;/</span><span class="n">BANK_MERCHANT_ID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">PAN</span><span class="o">&gt;</span><span class="mi">4355</span><span class="o">-</span><span class="n">xxxx</span><span class="o">-</span><span class="n">xxxx</span><span class="o">-</span><span class="mi">4358</span><span class="o">&lt;/</span><span class="n">PAN</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">EXPYEAR</span><span class="o">&gt;</span><span class="mi">18</span><span class="o">&lt;/</span><span class="n">EXPYEAR</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">EXPMONTH</span><span class="o">&gt;</span><span class="mi">12</span><span class="o">&lt;/</span><span class="n">EXPMONTH</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">CLIENTID</span><span class="o">&gt;</span><span class="mi">100100000</span><span class="o">&lt;/</span><span class="n">CLIENTID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">HOSTREFNUM</span><span class="o">&gt;</span><span class="mi">727921202667</span><span class="o">&lt;/</span><span class="n">HOSTREFNUM</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">OID</span><span class="o">&gt;</span><span class="mi">41536398</span><span class="o">&lt;/</span><span class="n">OID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RESPONSE</span><span class="o">&gt;</span><span class="n">Approved</span><span class="o">&lt;/</span><span class="n">RESPONSE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">TERMINAL_BANK</span><span class="o">&gt;</span><span class="n">AKBA</span><span class="o">&lt;/</span><span class="n">TERMINAL_BANK</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">MDSTATUS</span><span class="o">&gt;&lt;/</span><span class="n">MDSTATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">MDERRORMSG</span><span class="o">&gt;&lt;/</span><span class="n">MDERRORMSG</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">TXSTATUS</span><span class="o">&gt;&lt;/</span><span class="n">TXSTATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">XID</span><span class="o">&gt;&lt;/</span><span class="n">XID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ECI</span><span class="o">&gt;&lt;/</span><span class="n">ECI</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">CAVV</span><span class="o">&gt;&lt;/</span><span class="n">CAVV</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">TRANSID</span><span class="o">&gt;</span><span class="mi">17279</span><span class="n">VYUG14215</span><span class="o">&lt;/</span><span class="n">TRANSID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">TOKEN_HASH</span><span class="o">&gt;</span><span class="mi">1</span><span class="n">b88351b26f83e61361c333bec9428e8</span><span class="o">&lt;/</span><span class="n">TOKEN_HASH</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">HASH</span><span class="o">&gt;</span><span class="n">f56580e0932184a289934c34690a434a</span><span class="o">&lt;/</span><span class="n">HASH</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="nt">&lt;EPAYMENT&gt;</span>
  <span class="nt">&lt;REFNO&gt;</span>41536398<span class="nt">&lt;/REFNO&gt;</span>
  <span class="nt">&lt;ALIAS&gt;</span>8f886d873acec2724c6cdddaf09c5861<span class="nt">&lt;/ALIAS&gt;</span>
  <span class="nt">&lt;STATUS&gt;</span>SUCCESS<span class="nt">&lt;/STATUS&gt;</span>
  <span class="nt">&lt;RETURN</span><span class="na">_CODE</span><span class="nt">&gt;</span>AUTHORIZED<span class="err">&lt;</span>/RETURN_CODE&gt;
  <span class="nt">&lt;RETURN</span><span class="na">_MESSAGE</span><span class="nt">&gt;</span>Authorized.<span class="err">&lt;</span>/RETURN_MESSAGE&gt;
  <span class="nt">&lt;DATE&gt;</span>2017-10-06 21:24:21<span class="nt">&lt;/DATE&gt;</span>
  <span class="nt">&lt;AMOUNT&gt;</span>10.9<span class="nt">&lt;/AMOUNT&gt;</span>
  <span class="nt">&lt;CURRENCY&gt;</span>TRY<span class="nt">&lt;/CURRENCY&gt;</span>
  <span class="nt">&lt;INSTALLMENTS</span><span class="na">_NO</span><span class="nt">&gt;</span>1<span class="err">&lt;</span>/INSTALLMENTS_NO&gt;
  <span class="nt">&lt;CARD</span><span class="na">_PROGRAM_NAME</span><span class="nt">&gt;</span>AXESS<span class="err">&lt;</span>/CARD_PROGRAM_NAME&gt;
  <span class="nt">&lt;ORDER</span><span class="na">_REF</span><span class="nt">&gt;</span>78244<span class="err">&lt;</span>/ORDER_REF&gt;
  <span class="nt">&lt;AUTH</span><span class="na">_CODE</span><span class="nt">&gt;</span>026497<span class="err">&lt;</span>/AUTH_CODE&gt;
  <span class="nt">&lt;RRN&gt;</span>727921202667<span class="nt">&lt;/RRN&gt;</span>
  <span class="nt">&lt;ERRORMESSAGE&gt;</span>Approved.<span class="nt">&lt;/ERRORMESSAGE&gt;</span>
  <span class="nt">&lt;PROCRETURNCODE&gt;</span>00<span class="nt">&lt;/PROCRETURNCODE&gt;</span>
  <span class="nt">&lt;BANK</span><span class="na">_MERCHANT_ID</span><span class="nt">&gt;</span>100100000<span class="err">&lt;</span>/BANK_MERCHANT_ID&gt;
  <span class="nt">&lt;PAN&gt;</span>4355-xxxx-xxxx-4358<span class="nt">&lt;/PAN&gt;</span>
  <span class="nt">&lt;EXPYEAR&gt;</span>18<span class="nt">&lt;/EXPYEAR&gt;</span>
  <span class="nt">&lt;EXPMONTH&gt;</span>12<span class="nt">&lt;/EXPMONTH&gt;</span>
  <span class="nt">&lt;CLIENTID&gt;</span>100100000<span class="nt">&lt;/CLIENTID&gt;</span>
  <span class="nt">&lt;HOSTREFNUM&gt;</span>727921202667<span class="nt">&lt;/HOSTREFNUM&gt;</span>
  <span class="nt">&lt;OID&gt;</span>41536398<span class="nt">&lt;/OID&gt;</span>
  <span class="nt">&lt;RESPONSE&gt;</span>Approved<span class="nt">&lt;/RESPONSE&gt;</span>
  <span class="nt">&lt;TERMINAL</span><span class="na">_BANK</span><span class="nt">&gt;</span>AKBA<span class="err">&lt;</span>/TERMINAL_BANK&gt;
  <span class="nt">&lt;MDSTATUS&gt;&lt;/MDSTATUS&gt;</span>
  <span class="nt">&lt;MDERRORMSG&gt;&lt;/MDERRORMSG&gt;</span>
  <span class="nt">&lt;TXSTATUS&gt;&lt;/TXSTATUS&gt;</span>
  <span class="nt">&lt;XID&gt;&lt;/XID&gt;</span>
  <span class="nt">&lt;ECI&gt;&lt;/ECI&gt;</span>
  <span class="nt">&lt;CAVV&gt;&lt;/CAVV&gt;</span>
  <span class="nt">&lt;TRANSID&gt;</span>17279VYUG14215<span class="nt">&lt;/TRANSID&gt;</span>
  <span class="nt">&lt;TOKEN</span><span class="na">_HASH</span><span class="nt">&gt;</span>1b88351b26f83e61361c333bec9428e8<span class="err">&lt;</span>/TOKEN_HASH&gt;
  <span class="nt">&lt;HASH&gt;</span>f56580e0932184a289934c34690a434a<span class="nt">&lt;/HASH&gt;</span>
<span class="nt">&lt;/EPAYMENT&gt;</span>
</code></pre>
<aside class="notice">
Oluşturulan token'ın geçerlilik süresi; kartın son kullanma tarihine eşittir.
</aside>

<p>API ile ödeme isteği oluşturulduğu sırada <code>&quot;LU_ENABLE_TOKEN&quot;</code> parametresini <code>&quot;1&quot;</code> veya <code>&quot;true&quot;</code> değeri ile gönderildiğinde işlem yanıtında ve IPN bildiriminde <code>&quot;TOKEN_HASH&quot;</code>&quot; parametresi içerisinde 
saklanmış kart token değeri yanıt olarak dönmektedir. Bu değeri kendi tarafınızda saklamalısınız.</p>
<<<<<<< HEAD
<h3 id='payu-referans-numarasi-ile-kart-saklama'>PayU Referans Numarası ile Kart Saklama</h3>
<blockquote>
<p>PayU Referans Numarası ile Kart Saklama Örneği</p>

<p><a href="https://github.com/PayUTurkiye/PayUTR_CSharp/raw/master/PayU_TR_CSharp.zip"> C Sharp Örnek Proje ve Kodları buradan indirebilirsiniz. </a></p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="n">TokenServiceCreateTokenRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">TokenServiceCreateTokenRequest</span><span class="p">();</span>
<span class="n">request</span><span class="p">.</span><span class="n">MERCHANT</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">REFNO</span> <span class="p">=</span> <span class="n">refNo</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">TIMESTAMP</span> <span class="p">=</span> <span class="n">timeStamp</span><span class="p">.</span><span class="nf">ToString</span><span class="p">();</span>
<span class="n">Options</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
<span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/order/token/v2/merchantToken/"</span><span class="p">;</span>
<span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>

<span class="n">model</span><span class="p">.</span><span class="n">TokenResponse</span><span class="p">=</span><span class="n">TokenServiceCreateTokenRequest</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="n">options</span><span class="p">);</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$endpoint</span>  <span class="o">=</span> <span class="s2">"https://secure.payu.com.tr/order/token/v2/merchantToken/"</span><span class="p">;</span>
<span class="nv">$merchant</span><span class="o">=</span>  <span class="s2">"OPU_TEST"</span><span class="p">;</span>
<span class="nv">$secret</span> <span class="o">=</span> <span class="s2">"SECRET_KEY"</span><span class="p">;</span>
<span class="nv">$timestamp</span> <span class="o">=</span> <span class="nb">time</span><span class="p">();</span>
<span class="nv">$refNo</span> <span class="o">=</span> <span class="s2">"57039798"</span><span class="p">;</span>

<span class="nv">$arParams</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
  <span class="s2">"merchant"</span> <span class="o">=&gt;</span> <span class="nv">$merchant</span><span class="p">,</span>
  <span class="s2">"refNo"</span> <span class="o">=&gt;</span> <span class="nv">$refNo</span><span class="p">,</span>
  <span class="s2">"timestamp"</span> <span class="o">=&gt;</span> <span class="nv">$timestamp</span><span class="p">,</span>
<span class="p">);</span>

<span class="nv">$hashstring</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$arParams</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$val</span><span class="p">)</span> <span class="p">{</span>
  <span class="nv">$hashString</span> <span class="o">.=</span>  <span class="nv">$val</span><span class="p">;</span>
<span class="p">}</span>
<span class="nv">$arParams</span><span class="p">[</span><span class="s2">"signature"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">hash_hmac</span><span class="p">(</span><span class="s2">"sha256"</span><span class="p">,</span> <span class="nv">$hashString</span><span class="p">,</span> <span class="nv">$secret</span><span class="p">);</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="nv">$endpoint</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_SSL_VERIFYPEER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_SSL_VERIFYHOST</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_TIMEOUT</span><span class="p">,</span> <span class="mi">60</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">http_build_query</span><span class="p">(</span><span class="nv">$arParams</span><span class="p">));</span>

<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nv">$curlerrcode</span> <span class="o">=</span> <span class="nb">curl_errno</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nv">$curlerr</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="k">print</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>

<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">urlencode</span>
<span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">collections</span>

<span class="n">url</span> <span class="o">=</span> <span class="s">'https://secure.payu.com.tr/order/token/v2/merchantToken/'</span>

<span class="n">merchant</span> <span class="o">=</span> <span class="s">'OPU_TEST'</span>
<span class="n">secret</span> <span class="o">=</span> <span class="s">'SECRET_KEY'</span>
<span class="n">refNo</span> <span class="o">=</span> <span class="mi">57039798</span>
<span class="n">TimeStamp</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">'.'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="n">array</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">OrderedDict</span><span class="p">()</span>
<span class="n">array</span><span class="p">[</span><span class="s">'merchant'</span><span class="p">]</span> <span class="o">=</span> <span class="n">merchant</span>
<span class="n">array</span><span class="p">[</span><span class="s">'refNo'</span><span class="p">]</span> <span class="o">=</span> <span class="n">refNo</span>
<span class="n">array</span><span class="p">[</span><span class="s">'timestamp'</span><span class="p">]</span> <span class="o">=</span> <span class="n">TimeStamp</span>

<span class="n">hashstring</span> <span class="o">=</span> <span class="s">''</span>

<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">array</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">hashstring</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">hashstring</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashstring</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>

<span class="n">array</span><span class="p">[</span><span class="s">'signature'</span><span class="p">]</span> <span class="o">=</span> <span class="n">signature</span>

<span class="k">print</span><span class="p">(</span><span class="n">signature</span><span class="p">)</span>

<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">urlencode</span><span class="p">(</span><span class="n">array</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">EndPointUrl</span> <span class="o">=</span> <span class="s1">'https://secure.payu.com.tr/order/token/v2/merchantToken/'</span><span class="p">;</span>
<span class="nx">SecretKey</span> <span class="o">=</span> <span class="s1">'SECRET_KEY'</span><span class="p">;</span>
<span class="nx">refNo</span> <span class="o">=</span> <span class="mi">57399918</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">TimeStamp</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">);</span>

<span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span>  <span class="p">{</span>
    <span class="s1">'merchant'</span><span class="p">:</span> <span class="s1">'OPU_TEST'</span><span class="p">,</span>
    <span class="s1">'refNo'</span><span class="p">:</span> <span class="nx">refNo</span><span class="p">,</span>
    <span class="s1">'timestamp'</span><span class="p">:</span> <span class="nx">TimeStamp</span><span class="p">,</span>
<span class="p">};</span>

<span class="nx">hashstring</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">k</span> <span class="k">in</span> <span class="nx">array</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">hashstring</span> <span class="o">+=</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">];</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">)</span>
    <span class="p">,</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">hashstring</span>
    <span class="p">,</span> <span class="nx">secretkey</span> <span class="o">=</span> <span class="nx">SecretKey</span><span class="p">;</span>

<span class="nx">signature</span> <span class="o">=</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s1">'sha256'</span><span class="p">,</span> <span class="nx">secretkey</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="nx">array</span><span class="p">[</span><span class="s1">'signature'</span><span class="p">]</span> <span class="o">=</span> <span class="nx">signature</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">EndPointUrl</span><span class="p">,</span> <span class="p">{</span><span class="na">form</span><span class="p">:</span><span class="nx">array</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>

<span class="p">});</span>
</code></pre>
<p>Başarılı bir işlem sonucunda işlem tamamlandıktan sonra PayU referans numarası ile işlem içerisinde kullanılan kartı saklayabilir ve token değerini elde edebilirsiniz. </p>
<h3 id='istek-parametreleri-3'>İstek Parametreleri</h3>
<p>Endpoint POST <code>https://secure.payu.com.tr/order/token/v2/merchantToken</code></p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>merchant</td>
<td>İşyerini ID bilgisidir. Üye İşyeri Kontrol Paneli’nde, hesap ayarları sayfasında bulunmaktadır.</td>
</tr>
<tr>
<td>refNo</td>
<td>İşleme ait PayU referans numarasının bildirildiği parametredir.</td>
</tr>
<tr>
<td>timestamp</td>
<td>Milisaniye cinsinden UTC(TR saatine göre 3 saat geri.) zaman damgası.</td>
</tr>
<tr>
<td>signature</td>
<td>İstek sırasında gönderilen değerlerin  sıralanıp, başlarına uzunlukları eklendikten sonra HMAC_SHA256 algoritması ile hash oluşturulan değerdir.</td>
</tr>
</tbody></table>
<h3 id='yanit-parametreleri-2'>Yanıt Parametreleri</h3>
<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>token</td>
<td>Saklanan kart değeri</td>
</tr>
</tbody></table>

<blockquote>
<p>PayU Referans Numarası ile Kart Saklama Örnek başarılı yanıt</p>
</blockquote>
<pre class="highlight plaintext"><code>{"meta":{"status":{"code":0,"message":"success"},"response":{"httpCode":200,"httpMessage":"200 OK"},"version":"v2"},"response":{"token":"653194f385e6f875a3595d7c547b2e24"}}
</code></pre><h3 id='saklanmis-kart-ile-odeme-alma-token-ile-odeme-alma'>Saklanmış Kart ile Ödeme Alma(Token ile Ödeme Alma)</h3>
=======
<h3 id='payu-referans-numarasi-ile-kart-saklama'>PayU Referans Numarası ile Kart Saklama</h3><h3 id='saklanmis-kart-ile-odeme-alma-token-ile-odeme-alma'>Saklanmış Kart ile Ödeme Alma(Token ile Ödeme Alma)</h3>
>>>>>>> 3ed3dff92d6b76228aaccf3922e0c87dca9c7fe9
<blockquote>
<p>Saklanmış Kart ile Ödeme Alma</p>

<p><a href="https://github.com/PayUTurkiye/PayUTR_CSharp/raw/master/PayU_TR_CSharp.zip"> C Sharp Örnek Proje ve Kodları buradan indirebilirsiniz. </a></p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code>
<<<<<<< HEAD
<span class="n">ApiPaymentRequest</span> <span class="n">apiPaymentRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApiPaymentRequest</span><span class="p">();</span>

<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUConfig</span><span class="p">();</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">MERCHANT</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">LANGUAGE</span> <span class="p">=</span> <span class="s">"TR"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">PAY_METHOD</span> <span class="p">=</span> <span class="s">"CCVISAMC"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">BACK_REF</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">PRICES_CURRENCY</span> <span class="p">=</span> <span class="s">"TRY"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">LU_ENABLE_TOKEN</span> <span class="p">=</span> <span class="s">"true"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUOrder</span><span class="p">();</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">ORDER_REF</span> <span class="p">=</span> <span class="n">Guid</span><span class="p">.</span><span class="nf">NewGuid</span><span class="p">().</span><span class="nf">ToString</span><span class="p">();</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">ORDER_SHIPPING</span> <span class="p">=</span> <span class="s">"5"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">ORDER_DATE</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"yyyy-MM-dd HH:mm:ss"</span><span class="p">);</span>

<span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="n">PayUOrder</span><span class="p">.</span><span class="n">PayUOrderItem</span> <span class="n">orderItem</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="n">PayUOrder</span><span class="p">.</span><span class="nf">PayUOrderItem</span><span class="p">();</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PRICE</span> <span class="p">=</span> <span class="s">"5"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PINFO</span> <span class="p">=</span> <span class="s">"Test Açıklaması"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_QTY</span> <span class="p">=</span> <span class="s">"1"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PCODE</span> <span class="p">=</span> <span class="s">"Test Kodu"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PNAME</span> <span class="p">=</span> <span class="s">"Test Ürünü"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_VAT</span> <span class="p">=</span> <span class="s">"18"</span><span class="p">;</span>
<span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PRICE_TYPE</span> <span class="p">=</span> <span class="s">"NET"</span><span class="p">;</span>

<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">OrderItems</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">orderItem</span><span class="p">);</span>

<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUCreditCard</span><span class="p">();</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">CC_TOKEN</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">CC_NUMBER</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">EXP_MONTH</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">EXP_YEAR</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">CC_CVV</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">CC_OWNER</span> <span class="p">=</span> <span class="n">nameSurname</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">SELECTED_INSTALLMENTS_NUMBER</span> <span class="p">=</span> <span class="n">installment</span><span class="p">;</span>

<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUCustomer</span><span class="p">();</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_FNAME</span> <span class="p">=</span> <span class="s">"Ad"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_LNAME</span> <span class="p">=</span> <span class="s">"Soyad"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_EMAIL</span> <span class="p">=</span> <span class="s">"mail@mail.com"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_PHONE</span> <span class="p">=</span> <span class="s">"02129003711"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_FAX</span> <span class="p">=</span> <span class="s">"02129003711"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_ADDRESS</span> <span class="p">=</span> <span class="s">"Birinci Adres satırı"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_ADDRESS2</span> <span class="p">=</span> <span class="s">"İkinci Adres satırı"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_ZIPCODE</span> <span class="p">=</span> <span class="s">"34000"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_CITY</span> <span class="p">=</span> <span class="s">"ISTANBUL"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_COUNTRYCODE</span> <span class="p">=</span> <span class="s">"TR"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_STATE</span> <span class="p">=</span> <span class="s">"Ayazağa"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">CLIENT_IP</span> <span class="p">=</span> <span class="n">Request</span><span class="p">.</span><span class="n">UserHostAddress</span><span class="p">;</span>


<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUDelivery</span><span class="p">();</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_FNAME</span> <span class="p">=</span> <span class="s">"Ad"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_LNAME</span> <span class="p">=</span> <span class="s">"Soyad"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_EMAIL</span> <span class="p">=</span> <span class="s">"mail@mail.com"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_PHONE</span> <span class="p">=</span> <span class="s">"02129003711"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_COMPANY</span> <span class="p">=</span> <span class="s">"PayU Ödeme Kuruluşu A.Ş."</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_ADDRESS</span> <span class="p">=</span> <span class="s">"Birinci Adres satIRI"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_ADDRESS2</span> <span class="p">=</span> <span class="s">"İkinci Adres satırı"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_ZIPCODE</span> <span class="p">=</span> <span class="s">"34000"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_CITY</span> <span class="p">=</span> <span class="s">"ISTANBUL"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_STATE</span> <span class="p">=</span> <span class="s">"TR"</span><span class="p">;</span>
<span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_COUNTRYCODE</span> <span class="p">=</span> <span class="s">"Ayazağa"</span><span class="p">;</span>

<span class="kt">var</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
<span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/order/alu/v3"</span><span class="p">;</span>
<span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">Non3DExecute</span><span class="p">(</span><span class="n">apiPaymentRequest</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
=======
            <span class="n">ApiPaymentRequest</span> <span class="n">apiPaymentRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApiPaymentRequest</span><span class="p">();</span>

            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUConfig</span><span class="p">();</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">MERCHANT</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">LANGUAGE</span> <span class="p">=</span> <span class="s">"TR"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">PAY_METHOD</span> <span class="p">=</span> <span class="s">"CCVISAMC"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">BACK_REF</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">PRICES_CURRENCY</span> <span class="p">=</span> <span class="s">"TRY"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">LU_ENABLE_TOKEN</span> <span class="p">=</span> <span class="s">"true"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUOrder</span><span class="p">();</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">ORDER_REF</span> <span class="p">=</span> <span class="n">Guid</span><span class="p">.</span><span class="nf">NewGuid</span><span class="p">().</span><span class="nf">ToString</span><span class="p">();</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">ORDER_SHIPPING</span> <span class="p">=</span> <span class="s">"5"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">ORDER_DATE</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"yyyy-MM-dd HH:mm:ss"</span><span class="p">);</span>

            <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="n">PayUOrder</span><span class="p">.</span><span class="n">PayUOrderItem</span> <span class="n">orderItem</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="n">PayUOrder</span><span class="p">.</span><span class="nf">PayUOrderItem</span><span class="p">();</span>
            <span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PRICE</span> <span class="p">=</span> <span class="s">"5"</span><span class="p">;</span>
            <span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PINFO</span> <span class="p">=</span> <span class="s">"Test Açıklaması"</span><span class="p">;</span>
            <span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_QTY</span> <span class="p">=</span> <span class="s">"1"</span><span class="p">;</span>
            <span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PCODE</span> <span class="p">=</span> <span class="s">"Test Kodu"</span><span class="p">;</span>
            <span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PNAME</span> <span class="p">=</span> <span class="s">"Test Ürünü"</span><span class="p">;</span>
            <span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_VAT</span> <span class="p">=</span> <span class="s">"18"</span><span class="p">;</span>
            <span class="n">orderItem</span><span class="p">.</span><span class="n">ORDER_PRICE_TYPE</span> <span class="p">=</span> <span class="s">"NET"</span><span class="p">;</span>

            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">OrderItems</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">orderItem</span><span class="p">);</span>

            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUCreditCard</span><span class="p">();</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">CC_TOKEN</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">CC_NUMBER</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">EXP_MONTH</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">EXP_YEAR</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">CC_CVV</span> <span class="p">=</span> <span class="s">""</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">CC_OWNER</span> <span class="p">=</span> <span class="n">nameSurname</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">CreditCard</span><span class="p">.</span><span class="n">SELECTED_INSTALLMENTS_NUMBER</span> <span class="p">=</span> <span class="n">installment</span><span class="p">;</span>

            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUCustomer</span><span class="p">();</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_FNAME</span> <span class="p">=</span> <span class="s">"Ad"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_LNAME</span> <span class="p">=</span> <span class="s">"Soyad"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_EMAIL</span> <span class="p">=</span> <span class="s">"mail@mail.com"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_PHONE</span> <span class="p">=</span> <span class="s">"02129003711"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_FAX</span> <span class="p">=</span> <span class="s">"02129003711"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_ADDRESS</span> <span class="p">=</span> <span class="s">"Birinci Adres satırı"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_ADDRESS2</span> <span class="p">=</span> <span class="s">"İkinci Adres satırı"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_ZIPCODE</span> <span class="p">=</span> <span class="s">"34000"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_CITY</span> <span class="p">=</span> <span class="s">"ISTANBUL"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_COUNTRYCODE</span> <span class="p">=</span> <span class="s">"TR"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">BILL_STATE</span> <span class="p">=</span> <span class="s">"Ayazağa"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Customer</span><span class="p">.</span><span class="n">CLIENT_IP</span> <span class="p">=</span> <span class="n">Request</span><span class="p">.</span><span class="n">UserHostAddress</span><span class="p">;</span>


            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span> <span class="p">=</span> <span class="k">new</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">PayUDelivery</span><span class="p">();</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_FNAME</span> <span class="p">=</span> <span class="s">"Ad"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_LNAME</span> <span class="p">=</span> <span class="s">"Soyad"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_EMAIL</span> <span class="p">=</span> <span class="s">"mail@mail.com"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_PHONE</span> <span class="p">=</span> <span class="s">"02129003711"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_COMPANY</span> <span class="p">=</span> <span class="s">"PayU Ödeme Kuruluşu A.Ş."</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_ADDRESS</span> <span class="p">=</span> <span class="s">"Birinci Adres satIRI"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_ADDRESS2</span> <span class="p">=</span> <span class="s">"İkinci Adres satırı"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_ZIPCODE</span> <span class="p">=</span> <span class="s">"34000"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_CITY</span> <span class="p">=</span> <span class="s">"ISTANBUL"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_STATE</span> <span class="p">=</span> <span class="s">"TR"</span><span class="p">;</span>
            <span class="n">apiPaymentRequest</span><span class="p">.</span><span class="n">Delivery</span><span class="p">.</span><span class="n">DELIVERY_COUNTRYCODE</span> <span class="p">=</span> <span class="s">"Ayazağa"</span><span class="p">;</span>

            <span class="kt">var</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
            <span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/order/alu/v3"</span><span class="p">;</span>
            <span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
            <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ApiPaymentRequest</span><span class="p">.</span><span class="nf">Non3DExecute</span><span class="p">(</span><span class="n">apiPaymentRequest</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
>>>>>>> 3ed3dff92d6b76228aaccf3922e0c87dca9c7fe9

</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">EndPointUrl</span> <span class="o">=</span> <span class="s1">'https://secure.payu.com.tr/order/alu/v3'</span><span class="p">;</span>

<span class="nx">SecretKey</span> <span class="o">=</span> <span class="s1">'SECRET_KEY'</span><span class="p">;</span>


<span class="kd">var</span> <span class="nx">moment</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moment'</span><span class="p">);</span>
<span class="nx">date</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">.</span><span class="nx">utc</span><span class="p">().</span><span class="nx">format</span><span class="p">(</span><span class="s1">'YYYY-MM-DD HH:mm:ss'</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span>
<span class="nx">ORDER_REF</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="mi">1000</span><span class="p">));</span>


<span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'MERCHANT'</span><span class="p">:</span> <span class="s2">"OPU_TEST"</span><span class="p">,</span>
    <span class="s1">'LANGUAGE'</span><span class="p">:</span> <span class="s2">"TR"</span><span class="p">,</span>
    <span class="s1">'ORDER_DATE'</span><span class="p">:</span> <span class="nx">date</span><span class="p">,</span>
    <span class="s1">'PAY_METHOD'</span><span class="p">:</span> <span class="s2">"CCVISAMC"</span><span class="p">,</span>
    <span class="s1">'BACK_REF'</span><span class="p">:</span> <span class="s2">"http://www.backref.com.tr"</span><span class="p">,</span>
    <span class="s1">'PRICES_CURRENCY'</span><span class="p">:</span> <span class="s2">"TRY"</span><span class="p">,</span>
    <span class="s1">'SELECTED_INSTALLMENTS_NUMBER'</span><span class="p">:</span> <span class="s2">"1"</span><span class="p">,</span>
    <span class="s1">'ORDER_SHIPPING'</span><span class="p">:</span> <span class="s2">"5"</span><span class="p">,</span>
    <span class="s1">'CLIENT_IP'</span><span class="p">:</span> <span class="s2">"127.0.0.1"</span><span class="p">,</span>
    <span class="s1">'ORDER_REF'</span><span class="p">:</span> <span class="s2">"Test"</span><span class="o">+</span><span class="nx">ORDER_REF</span><span class="p">,</span>

    <span class="s1">'ORDER_PNAME[0]'</span><span class="p">:</span><span class="s1">'Test Ürünü'</span><span class="p">,</span>
    <span class="s1">'ORDER_PCODE[0]'</span><span class="p">:</span><span class="s1">'Test Kodu'</span><span class="p">,</span>
    <span class="s1">'ORDER_PINFO[0]'</span><span class="p">:</span><span class="s1">'Test Açıklaması'</span><span class="p">,</span>
    <span class="s1">'ORDER_PRICE[0]'</span><span class="p">:</span><span class="s1">'5'</span><span class="p">,</span>
    <span class="s1">'ORDER_VAT[0]'</span><span class="p">:</span><span class="s1">'18'</span><span class="p">,</span>
    <span class="s1">'ORDER_PRICE_TYPE[0]'</span><span class="p">:</span><span class="s1">'NET'</span><span class="p">,</span>
    <span class="s1">'ORDER_QTY[0]'</span><span class="p">:</span><span class="s1">'1'</span><span class="p">,</span>

    <span class="s1">'ORDER_PNAME[1]'</span><span class="p">:</span><span class="s1">'Test Ürünü-2'</span><span class="p">,</span>
    <span class="s1">'ORDER_PCODE[1]'</span><span class="p">:</span><span class="s1">'Test Kodu-2'</span><span class="p">,</span>
    <span class="s1">'ORDER_PINFO[1]'</span><span class="p">:</span><span class="s1">'Test Açıklaması-2'</span><span class="p">,</span>
    <span class="s1">'ORDER_PRICE[1]'</span><span class="p">:</span><span class="s1">'15'</span><span class="p">,</span>
    <span class="s1">'ORDER_VAT[1]'</span><span class="p">:</span><span class="s1">'24'</span><span class="p">,</span>
    <span class="s1">'ORDER_PRICE_TYPE[1]'</span><span class="p">:</span><span class="s1">'GROSS'</span><span class="p">,</span>
    <span class="s1">'ORDER_QTY[1]'</span><span class="p">:</span><span class="s1">'3'</span><span class="p">,</span>

    <span class="s1">'CC_TOKEN'</span><span class="p">:</span> <span class="s1">'1b88351b26f83e61361c333bec9428e8'</span><span class="p">,</span>
    <span class="s1">'CC_NUMBER'</span><span class="p">:</span><span class="s1">''</span><span class="p">,</span>
    <span class="s1">'EXP_MONTH'</span><span class="p">:</span><span class="s1">''</span><span class="p">,</span>
    <span class="s1">'EXP_YEAR'</span><span class="p">:</span><span class="s1">''</span><span class="p">,</span>
    <span class="s1">'CC_CVV'</span><span class="p">:</span><span class="s1">''</span><span class="p">,</span>
    <span class="s1">'CC_OWNER'</span><span class="p">:</span><span class="s1">''</span><span class="p">,</span>

    <span class="s1">'BILL_FNAME'</span><span class="p">:</span><span class="s1">'Ad'</span><span class="p">,</span>
    <span class="s1">'BILL_LNAME'</span><span class="p">:</span><span class="s1">'Soyad'</span><span class="p">,</span>
    <span class="s1">'BILL_EMAIL'</span><span class="p">:</span><span class="s1">'mail@mail.com'</span><span class="p">,</span>
    <span class="s1">'BILL_PHONE'</span><span class="p">:</span><span class="s1">'02129003711'</span><span class="p">,</span>
    <span class="s1">'BILL_FAX'</span><span class="p">:</span><span class="s1">'02129003711'</span><span class="p">,</span>
    <span class="s1">'BILL_ADDRESS'</span><span class="p">:</span><span class="s1">'Birinci Adres satırı'</span><span class="p">,</span>
    <span class="s1">'BILL_ADDRESS2'</span><span class="p">:</span><span class="s1">'İkinci Adres satırı'</span><span class="p">,</span>
    <span class="s1">'BILL_ZIPCODE'</span><span class="p">:</span><span class="s1">'34000'</span><span class="p">,</span>
    <span class="s1">'BILL_CITY'</span><span class="p">:</span><span class="s1">'ISTANBUL'</span><span class="p">,</span>
    <span class="s1">'BILL_COUNTRYCODE'</span><span class="p">:</span><span class="s1">'TR'</span><span class="p">,</span>
    <span class="s1">'BILL_STATE'</span><span class="p">:</span><span class="s1">'Ayazağa'</span><span class="p">,</span>

    <span class="s1">'DELIVERY_FNAME'</span><span class="p">:</span><span class="s1">'Ad'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_LNAME'</span><span class="p">:</span><span class="s1">'Soyad'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_EMAIL'</span><span class="p">:</span><span class="s1">'mail@mail.com'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_PHONE'</span><span class="p">:</span><span class="s1">'02129003711'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_COMPANY'</span><span class="p">:</span><span class="s1">'PayU Ödeme Kuruluşu A.Ş.'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_ADDRESS'</span><span class="p">:</span><span class="s1">'Birinci Adres satırı'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_ADDRESS2'</span><span class="p">:</span><span class="s1">'İkinci Adres satırı'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_ZIPCODE'</span><span class="p">:</span><span class="s1">'34000'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_CITY'</span><span class="p">:</span><span class="s1">'ISTANBUL'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_STATE'</span><span class="p">:</span><span class="s1">'TR'</span><span class="p">,</span>
    <span class="s1">'DELIVERY_COUNTRYCODE'</span><span class="p">:</span><span class="s1">'Ayazağa'</span><span class="p">,</span>

<span class="p">}</span>

<span class="nx">hashstring</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">sortKeys</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'sort-keys'</span><span class="p">);</span>
<span class="nx">sorted</span> <span class="o">=</span> <span class="nx">sortKeys</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">k</span> <span class="k">in</span> <span class="nx">sorted</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">hashstring</span> <span class="o">+=</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">].</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span> <span class="p">;</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">)</span>
    <span class="p">,</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">hashstring</span>
    <span class="p">,</span> <span class="nx">secretkey</span> <span class="o">=</span> <span class="nx">SecretKey</span><span class="p">;</span>

<span class="nx">signature</span> <span class="o">=</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s1">'md5'</span><span class="p">,</span> <span class="nx">secretkey</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="nx">array</span><span class="p">[</span><span class="s1">'ORDER_HASH'</span><span class="p">]</span> <span class="o">=</span> <span class="nx">signature</span>

<span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">EndPointUrl</span><span class="p">,</span> <span class="p">{</span><span class="na">form</span><span class="p">:</span><span class="nx">array</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>

<span class="p">});</span>
</code></pre><pre class="highlight python tab-python"><code>
<span class="c"># Importing required libraries.</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">urlencode</span>
<span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>

<span class="c"># Endpoint</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://secure.payu.com.tr/order/alu/v3"</span>

<span class="c"># PayU Merchant's Secret Key</span>
<span class="n">secret</span> <span class="o">=</span> <span class="s">'SECRET_KEY'</span>

<span class="c"># Request @params Begin</span>
<span class="n">array</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c"># PayU Merchant's Merchant ID</span>
    <span class="s">'MERCHANT'</span><span class="p">:</span> <span class="s">"OPU_TEST"</span><span class="p">,</span>
    <span class="s">'LANGUAGE'</span><span class="p">:</span> <span class="s">"TR"</span><span class="p">,</span>
    <span class="s">'ORDER_DATE'</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">Y-</span><span class="si">%</span><span class="s">m-</span><span class="si">%</span><span class="s">d </span><span class="si">%</span><span class="s">H:</span><span class="si">%</span><span class="s">M:</span><span class="si">%</span><span class="s">S'</span><span class="p">),</span>
    <span class="s">'PAY_METHOD'</span><span class="p">:</span> <span class="s">"CCVISAMC"</span><span class="p">,</span>
    <span class="s">'BACK_REF'</span><span class="p">:</span> <span class="s">"http://www.backref.com.tr"</span><span class="p">,</span>
    <span class="s">'PRICES_CURRENCY'</span><span class="p">:</span> <span class="s">"TRY"</span><span class="p">,</span>
    <span class="s">'SELECTED_INSTALLMENTS_NUMBER'</span><span class="p">:</span> <span class="s">"1"</span><span class="p">,</span>
    <span class="s">'ORDER_SHIPPING'</span><span class="p">:</span> <span class="s">"5"</span><span class="p">,</span>
    <span class="s">'CLIENT_IP'</span><span class="p">:</span> <span class="s">"127.0.0.1"</span><span class="p">,</span>
    <span class="s">'ORDER_PNAME[0]'</span><span class="p">:</span> <span class="s">"Test Ürünü"</span><span class="p">,</span>
    <span class="s">'ORDER_PCODE[0]'</span><span class="p">:</span> <span class="s">"Test Kodu"</span><span class="p">,</span>
    <span class="s">'ORDER_PINFO[0]'</span><span class="p">:</span> <span class="s">"Test Açıklaması"</span><span class="p">,</span>
    <span class="s">'ORDER_PRICE[0]'</span><span class="p">:</span> <span class="s">"5"</span><span class="p">,</span>
    <span class="s">'ORDER_VAT[0]'</span><span class="p">:</span> <span class="s">"18"</span><span class="p">,</span>
    <span class="s">'ORDER_PRICE_TYPE[0]'</span><span class="p">:</span> <span class="s">"NET"</span><span class="p">,</span>
    <span class="s">'ORDER_QTY[0]'</span><span class="p">:</span> <span class="s">"1"</span><span class="p">,</span>

    <span class="s">'CC_TOKEN'</span><span class="p">:</span> <span class="s">"1b88351b26f83e61361c333bec9428e8"</span><span class="p">,</span>
    <span class="s">'CC_NUMBER'</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
    <span class="s">'EXP_MONTH'</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
    <span class="s">'EXP_YEAR'</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
    <span class="s">'CC_CVV'</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>
    <span class="s">'CC_OWNER'</span><span class="p">:</span> <span class="s">""</span><span class="p">,</span>

    <span class="s">'BILL_FNAME'</span><span class="p">:</span> <span class="s">"Ad"</span><span class="p">,</span>
    <span class="s">'BILL_LNAME'</span><span class="p">:</span> <span class="s">"Soyad"</span><span class="p">,</span>
    <span class="s">'BILL_EMAIL'</span><span class="p">:</span> <span class="s">"mail@mail.com"</span><span class="p">,</span>
    <span class="s">'BILL_PHONE'</span><span class="p">:</span> <span class="s">"02129003711"</span><span class="p">,</span>
    <span class="s">'BILL_FAX'</span><span class="p">:</span> <span class="s">"02129003711"</span><span class="p">,</span>
    <span class="s">'BILL_ADDRESS'</span><span class="p">:</span> <span class="s">"Birinci Adres satırı"</span><span class="p">,</span>
    <span class="s">'BILL_ADDRESS2'</span><span class="p">:</span> <span class="s">"İkinci Adres satırı"</span><span class="p">,</span>
    <span class="s">'BILL_ZIPCODE'</span><span class="p">:</span> <span class="s">"34000"</span><span class="p">,</span>
    <span class="s">'BILL_CITY'</span><span class="p">:</span> <span class="s">"ISTANBUL"</span><span class="p">,</span>
    <span class="s">'BILL_COUNTRYCODE'</span><span class="p">:</span> <span class="s">"TR"</span><span class="p">,</span>
    <span class="s">'BILL_STATE'</span><span class="p">:</span> <span class="s">"Ayazağa"</span><span class="p">,</span>
    <span class="s">'DELIVERY_FNAME'</span><span class="p">:</span> <span class="s">"Ad"</span><span class="p">,</span>
    <span class="s">'DELIVERY_LNAME'</span><span class="p">:</span> <span class="s">"Soyad"</span><span class="p">,</span>
    <span class="s">'DELIVERY_EMAIL'</span><span class="p">:</span> <span class="s">"mail@mail.com"</span><span class="p">,</span>
    <span class="s">'DELIVERY_PHONE'</span><span class="p">:</span> <span class="s">"02129003711"</span><span class="p">,</span>
    <span class="s">'DELIVERY_COMPANY'</span><span class="p">:</span> <span class="s">"PayU Ödeme Kuruluşu A.Ş."</span><span class="p">,</span>
    <span class="s">'DELIVERY_ADDRESS'</span><span class="p">:</span> <span class="s">"Birinci Adres satırı"</span><span class="p">,</span>
    <span class="s">'DELIVERY_ADDRESS2'</span><span class="p">:</span> <span class="s">"İkinci Adres satırı"</span><span class="p">,</span>
    <span class="s">'DELIVERY_ZIPCODE'</span><span class="p">:</span> <span class="s">"34000"</span><span class="p">,</span>
    <span class="s">'DELIVERY_CITY'</span><span class="p">:</span> <span class="s">"ISTANBUL"</span><span class="p">,</span>
    <span class="s">'DELIVERY_STATE'</span><span class="p">:</span> <span class="s">"TR"</span><span class="p">,</span>
    <span class="s">'DELIVERY_COUNTRYCODE'</span><span class="p">:</span> <span class="s">"Ayazağa"</span><span class="p">,</span>

<span class="p">}</span>
<span class="c"># Random number generation function for ORDER_REF @param</span>
<span class="n">refno</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100000</span><span class="p">))</span>

<span class="c"># Adding ORDER_REF @param to request array</span>
<span class="n">array</span><span class="p">[</span><span class="s">'ORDER_REF'</span><span class="p">]</span> <span class="o">=</span> <span class="n">refno</span>

<span class="c"># Initializing the hashstring @param</span>
<span class="n">hashstring</span> <span class="o">=</span> <span class="s">''</span>

<span class="c"># Sorting Array @params</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">array</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
<span class="c"># Adding the length of each field value at the beginning of field value</span>
    <span class="n">hashstring</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">hashstring</span><span class="p">)</span>

<span class="c"># Calculating ORDER_HASH</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashstring</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>

<span class="c"># Adding ORDER_HASH @param to request array</span>
<span class="n">array</span><span class="p">[</span><span class="s">'ORDER_HASH'</span><span class="p">]</span> <span class="o">=</span> <span class="n">signature</span>

<span class="k">print</span><span class="p">(</span><span class="n">signature</span><span class="p">)</span>

<span class="c"># Sending Request to Endpoint</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">urlencode</span><span class="p">(</span><span class="n">array</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

<span class="c"># Printing result/response</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://secure.payu.com.tr/order/alu/v3"</span><span class="p">;</span>
<span class="nb">date_default_timezone_set</span><span class="p">(</span><span class="s1">'UTC'</span><span class="p">);</span>

<span class="nv">$secretKey</span> <span class="o">=</span> <span class="s1">'SECRET_KEY'</span><span class="p">;</span>

<span class="nv">$arParams</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>

   <span class="s2">"MERCHANT"</span> <span class="o">=&gt;</span> <span class="s2">"OPU_TEST"</span><span class="p">,</span>
   <span class="s2">"LANGUAGE"</span> <span class="o">=&gt;</span> <span class="s2">"TR"</span><span class="p">,</span>
   <span class="s2">"ORDER_REF"</span> <span class="o">=&gt;</span>  <span class="nb">rand</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10000</span><span class="p">),</span>
   <span class="s2">"ORDER_DATE"</span> <span class="o">=&gt;</span> <span class="nb">date</span><span class="p">(</span><span class="s1">'Y-m-d H:i:s'</span><span class="p">),</span>
   <span class="s2">"PAY_METHOD"</span> <span class="o">=&gt;</span> <span class="s2">"CCVISAMC"</span><span class="p">,</span>
   <span class="s2">"BACK_REF"</span> <span class="o">=&gt;</span> <span class="s2">"http://www.backref.com.tr"</span><span class="p">,</span>
   <span class="s2">"PRICES_CURRENCY"</span> <span class="o">=&gt;</span> <span class="s2">"TRY"</span><span class="p">,</span>
   <span class="s2">"SELECTED_INSTALLMENTS_NUMBER"</span> <span class="o">=&gt;</span> <span class="s2">"1"</span><span class="p">,</span>
   <span class="s2">"ORDER_SHIPPING"</span><span class="o">=&gt;</span><span class="s2">"5"</span><span class="p">,</span>
   <span class="s2">"CLIENT_IP"</span> <span class="o">=&gt;</span> <span class="s2">"127.0.0.1"</span><span class="p">,</span>


   <span class="s2">"ORDER_PNAME[0]"</span> <span class="o">=&gt;</span> <span class="s2">"Test Ürünü"</span><span class="p">,</span>
   <span class="s2">"ORDER_PCODE[0]"</span> <span class="o">=&gt;</span> <span class="s2">"Test Kodu"</span><span class="p">,</span>
   <span class="s2">"ORDER_PINFO[0]"</span> <span class="o">=&gt;</span> <span class="s2">"Test Açıklaması"</span><span class="p">,</span>
   <span class="s2">"ORDER_PRICE[0]"</span> <span class="o">=&gt;</span> <span class="s2">"5"</span><span class="p">,</span>
   <span class="s2">"ORDER_VAT[0]"</span><span class="o">=&gt;</span><span class="s2">"18"</span><span class="p">,</span>
   <span class="s2">"ORDER_PRICE_TYPE[0]"</span><span class="o">=&gt;</span><span class="s2">"NET"</span><span class="p">,</span>
   <span class="s2">"ORDER_QTY[0]"</span> <span class="o">=&gt;</span> <span class="s2">"1"</span><span class="p">,</span>

   <span class="s2">"CC_TOKEN"</span> <span class="o">=&gt;</span> <span class="s2">"1b88351b26f83e61361c333bec9428e8"</span><span class="p">,</span>
   <span class="s2">"CC_NUMBER"</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
   <span class="s2">"EXP_MONTH"</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
   <span class="s2">"EXP_YEAR"</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
   <span class="s2">"CC_CVV"</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>
   <span class="s2">"CC_OWNER"</span> <span class="o">=&gt;</span> <span class="s2">""</span><span class="p">,</span>

   <span class="s2">"BILL_FNAME"</span> <span class="o">=&gt;</span> <span class="s2">"Ad"</span><span class="p">,</span>
   <span class="s2">"BILL_LNAME"</span> <span class="o">=&gt;</span> <span class="s2">"Soyad"</span><span class="p">,</span>
   <span class="s2">"BILL_EMAIL"</span> <span class="o">=&gt;</span> <span class="s2">"mail@mail.com"</span><span class="p">,</span>
   <span class="s2">"BILL_PHONE"</span> <span class="o">=&gt;</span> <span class="s2">"02129003711"</span><span class="p">,</span>
   <span class="s2">"BILL_FAX"</span> <span class="o">=&gt;</span> <span class="s2">"02129003711"</span><span class="p">,</span>
   <span class="s2">"BILL_ADDRESS"</span> <span class="o">=&gt;</span> <span class="s2">"Birinci Adres satırı"</span><span class="p">,</span>
   <span class="s2">"BILL_ADDRESS2"</span> <span class="o">=&gt;</span> <span class="s2">"İkinci Adres satırı"</span><span class="p">,</span>
   <span class="s2">"BILL_ZIPCODE"</span> <span class="o">=&gt;</span> <span class="s2">"34000"</span><span class="p">,</span>
   <span class="s2">"BILL_CITY"</span> <span class="o">=&gt;</span> <span class="s2">"ISTANBUL"</span><span class="p">,</span>
   <span class="s2">"BILL_COUNTRYCODE"</span> <span class="o">=&gt;</span> <span class="s2">"TR"</span><span class="p">,</span>
   <span class="s2">"BILL_STATE"</span> <span class="o">=&gt;</span> <span class="s2">"Ayazağa"</span><span class="p">,</span>

   <span class="s2">"DELIVERY_FNAME"</span> <span class="o">=&gt;</span> <span class="s2">"Ad"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_LNAME"</span> <span class="o">=&gt;</span> <span class="s2">"Soyad"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_EMAIL"</span> <span class="o">=&gt;</span> <span class="s2">"mail@mail.com"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_PHONE"</span> <span class="o">=&gt;</span> <span class="s2">"02129003711"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_COMPANY"</span> <span class="o">=&gt;</span> <span class="s2">"PayU Ödeme Kuruluşu A.Ş."</span><span class="p">,</span>
   <span class="s2">"DELIVERY_ADDRESS"</span> <span class="o">=&gt;</span> <span class="s2">"Birinci Adres satırı"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_ADDRESS2"</span> <span class="o">=&gt;</span> <span class="s2">"İkinci Adres satırı"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_ZIPCODE"</span> <span class="o">=&gt;</span> <span class="s2">"34000"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_CITY"</span> <span class="o">=&gt;</span> <span class="s2">"ISTANBUL"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_STATE"</span> <span class="o">=&gt;</span> <span class="s2">"TR"</span><span class="p">,</span>
   <span class="s2">"DELIVERY_COUNTRYCODE"</span> <span class="o">=&gt;</span> <span class="s2">"Ayazağa"</span><span class="p">,</span>
<span class="p">);</span>

<span class="nb">ksort</span><span class="p">(</span><span class="nv">$arParams</span><span class="p">);</span>
<span class="nv">$hashString</span> <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$arParams</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$val</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$hashString</span> <span class="o">.=</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$val</span><span class="p">)</span> <span class="o">.</span> <span class="nv">$val</span><span class="p">;</span>
<span class="p">}</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$arParams</span><span class="p">);</span>
<span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$hashString</span><span class="p">);</span>
<span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>

<span class="nv">$arParams</span><span class="p">[</span><span class="s2">"ORDER_HASH"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">hash_hmac</span><span class="p">(</span><span class="s2">"md5"</span><span class="p">,</span> <span class="nv">$hashString</span><span class="p">,</span> <span class="nv">$secretKey</span><span class="p">);</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$arParams</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_SSL_VERIFYPEER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_SSL_VERIFYHOST</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_IPRESOLVE</span><span class="p">,</span> <span class="nx">CURL_IPRESOLVE_V4</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_TIMEOUT</span><span class="p">,</span> <span class="mi">60</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">http_build_query</span><span class="p">(</span><span class="nv">$arParams</span><span class="p">));</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="nv">$curlerrcode</span> <span class="o">=</span> <span class="nb">curl_errno</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nv">$curlerr</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="k">empty</span><span class="p">(</span><span class="nv">$curlerr</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="k">empty</span><span class="p">(</span><span class="nv">$curlerrcode</span><span class="p">))</span> <span class="p">{</span>
    <span class="nv">$parsedXML</span> <span class="o">=</span> <span class="o">@</span><span class="nb">simplexml_load_string</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$parsedXML</span> <span class="o">!==</span> <span class="k">FALSE</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>
        <span class="nb">print_r</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
        <span class="k">echo</span> <span class="s2">"&lt;/pre&gt;"</span><span class="p">;</span>

        <span class="nv">$payuTranReference</span> <span class="o">=</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">REFNO</span><span class="p">;</span>

        <span class="k">if</span> <span class="p">(</span><span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">STATUS</span> <span class="o">==</span> <span class="s2">"SUCCESS"</span><span class="p">)</span> <span class="p">{</span>


            <span class="k">if</span> <span class="p">((</span><span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">RETURN_CODE</span> <span class="o">==</span> <span class="s2">"3DS_ENROLLED"</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">URL_3DS</span><span class="p">)))</span> <span class="p">{</span>
                <span class="nb">header</span><span class="p">(</span><span class="s2">"Location:"</span> <span class="o">.</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">URL_3DS</span><span class="p">);</span>
            <span class="p">}</span>

            <span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>
            <span class="k">echo</span> <span class="s2">"SUCCES [PayU reference number: "</span> <span class="o">.</span> <span class="nv">$payuTranReference</span> <span class="o">.</span> <span class="s2">"]"</span><span class="p">;</span>
            <span class="k">echo</span> <span class="s2">"&lt;/pre&gt;"</span><span class="p">;</span>

        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">echo</span> <span class="s2">"Error: "</span> <span class="o">.</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">RETURN_MESSAGE</span> <span class="o">.</span> <span class="s2">" ["</span> <span class="o">.</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">RETURN_CODE</span> <span class="o">.</span> <span class="s2">"]"</span><span class="p">;</span>
            <span class="k">echo</span> <span class="s2">"&lt;br&gt;"</span><span class="p">;</span>
            <span class="k">echo</span> <span class="s2">"Error Details: "</span> <span class="o">.</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">ERRORMESSAGE</span> <span class="o">.</span> <span class="s2">"&lt;br&gt; Error Code: ["</span> <span class="o">.</span> <span class="nv">$parsedXML</span><span class="o">-&gt;</span><span class="na">PROCRETURNCODE</span> <span class="o">.</span> <span class="s2">"]"</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$payuTranReference</span><span class="p">))</span> <span class="p">{</span>
                <span class="c1">//the transaction was register to PayU system, but some error occured during the bank authorization.
</span>                <span class="c1">//See $parsedXML-&gt;RETURN_MESSAGE and $parsedXML-&gt;RETURN_CODE for details
</span>                <span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>
                <span class="k">echo</span> <span class="s2">" [PayU reference number: "</span> <span class="o">.</span> <span class="nv">$payuTranReference</span> <span class="o">.</span> <span class="s2">"]"</span><span class="p">;</span>
                <span class="k">echo</span> <span class="s2">"&lt;/pre&gt;"</span><span class="p">;</span>

            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">"cURL error: "</span> <span class="o">.</span> <span class="nv">$curlerr</span><span class="p">;</span>

<span class="p">}</span>
</code></pre>
<blockquote>
<p>Saklanmış Kart ile ödeme yanıt örneği</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="p">&lt;</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">REFNO</span><span class="p">&gt;</span><span class="m">41615020</span><span class="p">&lt;/</span><span class="n">REFNO</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ALIAS</span><span class="p">&gt;</span><span class="n">d6bf5f305d8c2bfa983ef97a52ea9406</span><span class="p">&lt;/</span><span class="n">ALIAS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">STATUS</span><span class="p">&gt;</span><span class="n">SUCCESS</span><span class="p">&lt;/</span><span class="n">STATUS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RETURN_CODE</span><span class="p">&gt;</span><span class="n">AUTHORIZED</span><span class="p">&lt;/</span><span class="n">RETURN_CODE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RETURN_MESSAGE</span><span class="p">&gt;</span><span class="n">Authorized</span><span class="p">.&lt;/</span><span class="n">RETURN_MESSAGE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">DATE</span><span class="p">&gt;</span><span class="m">2017</span><span class="p">-</span><span class="m">10</span><span class="p">-</span><span class="m">06</span> <span class="m">21</span><span class="p">:</span><span class="m">26</span><span class="p">:</span><span class="m">31</span><span class="p">&lt;/</span><span class="n">DATE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">AMOUNT</span><span class="p">&gt;</span><span class="m">10.9</span><span class="p">&lt;/</span><span class="n">AMOUNT</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">CURRENCY</span><span class="p">&gt;</span><span class="n">TRY</span><span class="p">&lt;/</span><span class="n">CURRENCY</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">INSTALLMENTS_NO</span><span class="p">&gt;</span><span class="m">1</span><span class="p">&lt;/</span><span class="n">INSTALLMENTS_NO</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">CARD_PROGRAM_NAME</span><span class="p">&gt;</span><span class="n">AXESS</span><span class="p">&lt;/</span><span class="n">CARD_PROGRAM_NAME</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ORDER_REF</span><span class="p">&gt;</span><span class="m">91968</span><span class="p">&lt;/</span><span class="n">ORDER_REF</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">AUTH_CODE</span><span class="p">&gt;</span><span class="m">258228</span><span class="p">&lt;/</span><span class="n">AUTH_CODE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RRN</span><span class="p">&gt;</span><span class="m">727921202668</span><span class="p">&lt;/</span><span class="n">RRN</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ERRORMESSAGE</span><span class="p">&gt;</span><span class="n">Approved</span><span class="p">.&lt;/</span><span class="n">ERRORMESSAGE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">PROCRETURNCODE</span><span class="p">&gt;</span><span class="m">00</span><span class="p">&lt;/</span><span class="n">PROCRETURNCODE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">BANK_MERCHANT_ID</span><span class="p">&gt;</span><span class="m">100100000</span><span class="p">&lt;/</span><span class="n">BANK_MERCHANT_ID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">PAN</span><span class="p">&gt;</span><span class="m">4355</span><span class="p">-</span><span class="n">xxxx</span><span class="p">-</span><span class="n">xxxx</span><span class="p">-</span><span class="m">4358</span><span class="p">&lt;/</span><span class="n">PAN</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">EXPYEAR</span><span class="p">&gt;</span><span class="m">18</span><span class="p">&lt;/</span><span class="n">EXPYEAR</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">EXPMONTH</span><span class="p">&gt;</span><span class="m">12</span><span class="p">&lt;/</span><span class="n">EXPMONTH</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">CLIENTID</span><span class="p">&gt;</span><span class="m">100100000</span><span class="p">&lt;/</span><span class="n">CLIENTID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">HOSTREFNUM</span><span class="p">&gt;</span><span class="m">727921202668</span><span class="p">&lt;/</span><span class="n">HOSTREFNUM</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">OID</span><span class="p">&gt;</span><span class="m">41615020</span><span class="p">&lt;/</span><span class="n">OID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">RESPONSE</span><span class="p">&gt;</span><span class="n">Approved</span><span class="p">&lt;/</span><span class="n">RESPONSE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">TERMINAL_BANK</span><span class="p">&gt;</span><span class="n">AKBA</span><span class="p">&lt;/</span><span class="n">TERMINAL_BANK</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">MDSTATUS</span><span class="p">&gt;&lt;/</span><span class="n">MDSTATUS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">MDERRORMSG</span><span class="p">&gt;&lt;/</span><span class="n">MDERRORMSG</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">TXSTATUS</span><span class="p">&gt;&lt;/</span><span class="n">TXSTATUS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">XID</span><span class="p">&gt;&lt;/</span><span class="n">XID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ECI</span><span class="p">&gt;&lt;/</span><span class="n">ECI</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">CAVV</span><span class="p">&gt;&lt;/</span><span class="n">CAVV</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">TRANSID</span><span class="p">&gt;</span><span class="m">17279</span><span class="n">VaaF14297</span><span class="p">&lt;/</span><span class="n">TRANSID</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">HASH</span><span class="p">&gt;</span><span class="n">bff08ad4736b4f1e57400fb860f5c422</span><span class="p">&lt;/</span><span class="n">HASH</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">EPAYMENT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">REFNO</span><span class="o">&gt;</span><span class="mi">41615020</span><span class="o">&lt;</span><span class="sr">/REFNO</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ALIAS</span><span class="o">&gt;</span><span class="nx">d6bf5f305d8c2bfa983ef97a52ea9406</span><span class="o">&lt;</span><span class="sr">/ALIAS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">STATUS</span><span class="o">&gt;</span><span class="nx">SUCCESS</span><span class="o">&lt;</span><span class="sr">/STATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RETURN_CODE</span><span class="o">&gt;</span><span class="nx">AUTHORIZED</span><span class="o">&lt;</span><span class="sr">/RETURN_CODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="nx">Authorized</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/RETURN_MESSAGE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">06</span> <span class="mi">21</span><span class="p">:</span><span class="mi">26</span><span class="p">:</span><span class="mi">31</span><span class="o">&lt;</span><span class="sr">/DATE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">AMOUNT</span><span class="o">&gt;</span><span class="mf">10.9</span><span class="o">&lt;</span><span class="sr">/AMOUNT</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">CURRENCY</span><span class="o">&gt;</span><span class="nx">TRY</span><span class="o">&lt;</span><span class="sr">/CURRENCY</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">INSTALLMENTS_NO</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&lt;</span><span class="sr">/INSTALLMENTS_NO</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">CARD_PROGRAM_NAME</span><span class="o">&gt;</span><span class="nx">AXESS</span><span class="o">&lt;</span><span class="sr">/CARD_PROGRAM_NAME</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ORDER_REF</span><span class="o">&gt;</span><span class="mi">91968</span><span class="o">&lt;</span><span class="sr">/ORDER_REF</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">AUTH_CODE</span><span class="o">&gt;</span><span class="mi">258228</span><span class="o">&lt;</span><span class="sr">/AUTH_CODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RRN</span><span class="o">&gt;</span><span class="mi">727921202668</span><span class="o">&lt;</span><span class="sr">/RRN</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ERRORMESSAGE</span><span class="o">&gt;</span><span class="nx">Approved</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/ERRORMESSAGE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">PROCRETURNCODE</span><span class="o">&gt;</span><span class="mi">00</span><span class="o">&lt;</span><span class="sr">/PROCRETURNCODE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">BANK_MERCHANT_ID</span><span class="o">&gt;</span><span class="mi">100100000</span><span class="o">&lt;</span><span class="sr">/BANK_MERCHANT_ID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">PAN</span><span class="o">&gt;</span><span class="mi">4355</span><span class="o">-</span><span class="nx">xxxx</span><span class="o">-</span><span class="nx">xxxx</span><span class="o">-</span><span class="mi">4358</span><span class="o">&lt;</span><span class="sr">/PAN</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">EXPYEAR</span><span class="o">&gt;</span><span class="mi">18</span><span class="o">&lt;</span><span class="sr">/EXPYEAR</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">EXPMONTH</span><span class="o">&gt;</span><span class="mi">12</span><span class="o">&lt;</span><span class="sr">/EXPMONTH</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">CLIENTID</span><span class="o">&gt;</span><span class="mi">100100000</span><span class="o">&lt;</span><span class="sr">/CLIENTID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">HOSTREFNUM</span><span class="o">&gt;</span><span class="mi">727921202668</span><span class="o">&lt;</span><span class="sr">/HOSTREFNUM</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">OID</span><span class="o">&gt;</span><span class="mi">41615020</span><span class="o">&lt;</span><span class="sr">/OID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">RESPONSE</span><span class="o">&gt;</span><span class="nx">Approved</span><span class="o">&lt;</span><span class="sr">/RESPONSE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">TERMINAL_BANK</span><span class="o">&gt;</span><span class="nx">AKBA</span><span class="o">&lt;</span><span class="sr">/TERMINAL_BANK</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">MDSTATUS</span><span class="o">&gt;&lt;</span><span class="sr">/MDSTATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">MDERRORMSG</span><span class="o">&gt;&lt;</span><span class="sr">/MDERRORMSG</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">TXSTATUS</span><span class="o">&gt;&lt;</span><span class="sr">/TXSTATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">XID</span><span class="o">&gt;&lt;</span><span class="sr">/XID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ECI</span><span class="o">&gt;&lt;</span><span class="sr">/ECI</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">CAVV</span><span class="o">&gt;&lt;</span><span class="sr">/CAVV</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">TRANSID</span><span class="o">&gt;</span><span class="mi">17279</span><span class="nx">VaaF14297</span><span class="o">&lt;</span><span class="sr">/TRANSID</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">HASH</span><span class="o">&gt;</span><span class="nx">bff08ad4736b4f1e57400fb860f5c422</span><span class="o">&lt;</span><span class="sr">/HASH</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/EPAYMENT</span><span class="err">&gt;
</span></code></pre><pre class="highlight python tab-python"><code><span class="o">&lt;</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">REFNO</span><span class="o">&gt;</span><span class="mi">41615020</span><span class="o">&lt;/</span><span class="n">REFNO</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ALIAS</span><span class="o">&gt;</span><span class="n">d6bf5f305d8c2bfa983ef97a52ea9406</span><span class="o">&lt;/</span><span class="n">ALIAS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">STATUS</span><span class="o">&gt;</span><span class="n">SUCCESS</span><span class="o">&lt;/</span><span class="n">STATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span><span class="n">AUTHORIZED</span><span class="o">&lt;/</span><span class="n">RETURN_CODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span><span class="n">Authorized</span><span class="o">.&lt;/</span><span class="n">RETURN_MESSAGE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mo">06</span> <span class="mi">21</span><span class="p">:</span><span class="mi">26</span><span class="p">:</span><span class="mi">31</span><span class="o">&lt;/</span><span class="n">DATE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">AMOUNT</span><span class="o">&gt;</span><span class="mf">10.9</span><span class="o">&lt;/</span><span class="n">AMOUNT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">CURRENCY</span><span class="o">&gt;</span><span class="n">TRY</span><span class="o">&lt;/</span><span class="n">CURRENCY</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">INSTALLMENTS_NO</span><span class="o">&gt;</span><span class="mi">1</span><span class="o">&lt;/</span><span class="n">INSTALLMENTS_NO</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">CARD_PROGRAM_NAME</span><span class="o">&gt;</span><span class="n">AXESS</span><span class="o">&lt;/</span><span class="n">CARD_PROGRAM_NAME</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ORDER_REF</span><span class="o">&gt;</span><span class="mi">91968</span><span class="o">&lt;/</span><span class="n">ORDER_REF</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">AUTH_CODE</span><span class="o">&gt;</span><span class="mi">258228</span><span class="o">&lt;/</span><span class="n">AUTH_CODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RRN</span><span class="o">&gt;</span><span class="mi">727921202668</span><span class="o">&lt;/</span><span class="n">RRN</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ERRORMESSAGE</span><span class="o">&gt;</span><span class="n">Approved</span><span class="o">.&lt;/</span><span class="n">ERRORMESSAGE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">PROCRETURNCODE</span><span class="o">&gt;</span><span class="mo">00</span><span class="o">&lt;/</span><span class="n">PROCRETURNCODE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">BANK_MERCHANT_ID</span><span class="o">&gt;</span><span class="mi">100100000</span><span class="o">&lt;/</span><span class="n">BANK_MERCHANT_ID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">PAN</span><span class="o">&gt;</span><span class="mi">4355</span><span class="o">-</span><span class="n">xxxx</span><span class="o">-</span><span class="n">xxxx</span><span class="o">-</span><span class="mi">4358</span><span class="o">&lt;/</span><span class="n">PAN</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">EXPYEAR</span><span class="o">&gt;</span><span class="mi">18</span><span class="o">&lt;/</span><span class="n">EXPYEAR</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">EXPMONTH</span><span class="o">&gt;</span><span class="mi">12</span><span class="o">&lt;/</span><span class="n">EXPMONTH</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">CLIENTID</span><span class="o">&gt;</span><span class="mi">100100000</span><span class="o">&lt;/</span><span class="n">CLIENTID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">HOSTREFNUM</span><span class="o">&gt;</span><span class="mi">727921202668</span><span class="o">&lt;/</span><span class="n">HOSTREFNUM</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">OID</span><span class="o">&gt;</span><span class="mi">41615020</span><span class="o">&lt;/</span><span class="n">OID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">RESPONSE</span><span class="o">&gt;</span><span class="n">Approved</span><span class="o">&lt;/</span><span class="n">RESPONSE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">TERMINAL_BANK</span><span class="o">&gt;</span><span class="n">AKBA</span><span class="o">&lt;/</span><span class="n">TERMINAL_BANK</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">MDSTATUS</span><span class="o">&gt;&lt;/</span><span class="n">MDSTATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">MDERRORMSG</span><span class="o">&gt;&lt;/</span><span class="n">MDERRORMSG</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">TXSTATUS</span><span class="o">&gt;&lt;/</span><span class="n">TXSTATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">XID</span><span class="o">&gt;&lt;/</span><span class="n">XID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">ECI</span><span class="o">&gt;&lt;/</span><span class="n">ECI</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">CAVV</span><span class="o">&gt;&lt;/</span><span class="n">CAVV</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">TRANSID</span><span class="o">&gt;</span><span class="mi">17279</span><span class="n">VaaF14297</span><span class="o">&lt;/</span><span class="n">TRANSID</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">HASH</span><span class="o">&gt;</span><span class="n">bff08ad4736b4f1e57400fb860f5c422</span><span class="o">&lt;/</span><span class="n">HASH</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="nt">&lt;EPAYMENT&gt;</span>
  <span class="nt">&lt;REFNO&gt;</span>41615020<span class="nt">&lt;/REFNO&gt;</span>
  <span class="nt">&lt;ALIAS&gt;</span>d6bf5f305d8c2bfa983ef97a52ea9406<span class="nt">&lt;/ALIAS&gt;</span>
  <span class="nt">&lt;STATUS&gt;</span>SUCCESS<span class="nt">&lt;/STATUS&gt;</span>
  <span class="nt">&lt;RETURN</span><span class="na">_CODE</span><span class="nt">&gt;</span>AUTHORIZED<span class="err">&lt;</span>/RETURN_CODE&gt;
  <span class="nt">&lt;RETURN</span><span class="na">_MESSAGE</span><span class="nt">&gt;</span>Authorized.<span class="err">&lt;</span>/RETURN_MESSAGE&gt;
  <span class="nt">&lt;DATE&gt;</span>2017-10-06 21:26:31<span class="nt">&lt;/DATE&gt;</span>
  <span class="nt">&lt;AMOUNT&gt;</span>10.9<span class="nt">&lt;/AMOUNT&gt;</span>
  <span class="nt">&lt;CURRENCY&gt;</span>TRY<span class="nt">&lt;/CURRENCY&gt;</span>
  <span class="nt">&lt;INSTALLMENTS</span><span class="na">_NO</span><span class="nt">&gt;</span>1<span class="err">&lt;</span>/INSTALLMENTS_NO&gt;
  <span class="nt">&lt;CARD</span><span class="na">_PROGRAM_NAME</span><span class="nt">&gt;</span>AXESS<span class="err">&lt;</span>/CARD_PROGRAM_NAME&gt;
  <span class="nt">&lt;ORDER</span><span class="na">_REF</span><span class="nt">&gt;</span>91968<span class="err">&lt;</span>/ORDER_REF&gt;
  <span class="nt">&lt;AUTH</span><span class="na">_CODE</span><span class="nt">&gt;</span>258228<span class="err">&lt;</span>/AUTH_CODE&gt;
  <span class="nt">&lt;RRN&gt;</span>727921202668<span class="nt">&lt;/RRN&gt;</span>
  <span class="nt">&lt;ERRORMESSAGE&gt;</span>Approved.<span class="nt">&lt;/ERRORMESSAGE&gt;</span>
  <span class="nt">&lt;PROCRETURNCODE&gt;</span>00<span class="nt">&lt;/PROCRETURNCODE&gt;</span>
  <span class="nt">&lt;BANK</span><span class="na">_MERCHANT_ID</span><span class="nt">&gt;</span>100100000<span class="err">&lt;</span>/BANK_MERCHANT_ID&gt;
  <span class="nt">&lt;PAN&gt;</span>4355-xxxx-xxxx-4358<span class="nt">&lt;/PAN&gt;</span>
  <span class="nt">&lt;EXPYEAR&gt;</span>18<span class="nt">&lt;/EXPYEAR&gt;</span>
  <span class="nt">&lt;EXPMONTH&gt;</span>12<span class="nt">&lt;/EXPMONTH&gt;</span>
  <span class="nt">&lt;CLIENTID&gt;</span>100100000<span class="nt">&lt;/CLIENTID&gt;</span>
  <span class="nt">&lt;HOSTREFNUM&gt;</span>727921202668<span class="nt">&lt;/HOSTREFNUM&gt;</span>
  <span class="nt">&lt;OID&gt;</span>41615020<span class="nt">&lt;/OID&gt;</span>
  <span class="nt">&lt;RESPONSE&gt;</span>Approved<span class="nt">&lt;/RESPONSE&gt;</span>
  <span class="nt">&lt;TERMINAL</span><span class="na">_BANK</span><span class="nt">&gt;</span>AKBA<span class="err">&lt;</span>/TERMINAL_BANK&gt;
  <span class="nt">&lt;MDSTATUS&gt;&lt;/MDSTATUS&gt;</span>
  <span class="nt">&lt;MDERRORMSG&gt;&lt;/MDERRORMSG&gt;</span>
  <span class="nt">&lt;TXSTATUS&gt;&lt;/TXSTATUS&gt;</span>
  <span class="nt">&lt;XID&gt;&lt;/XID&gt;</span>
  <span class="nt">&lt;ECI&gt;&lt;/ECI&gt;</span>
  <span class="nt">&lt;CAVV&gt;&lt;/CAVV&gt;</span>
  <span class="nt">&lt;TRANSID&gt;</span>17279VaaF14297<span class="nt">&lt;/TRANSID&gt;</span>
  <span class="nt">&lt;HASH&gt;</span>bff08ad4736b4f1e57400fb860f5c422<span class="nt">&lt;/HASH&gt;</span>
<span class="nt">&lt;/EPAYMENT&gt;</span>
</code></pre>
<p>API ile ödeme isteği gönderildiği sırada kart parametreleri <code>CC_NUMBER,CC_CVV,CC_OWNER,EXP_MONTH,EXP_YEAR</code> aşağıda gösterildiği gibi boş gönderilmeli ve saklanmış kart değeri <code>CC_TOKEN</code> parametresine atanarak işlem isteği gönderilmelidir.</p>

<aside class="notice">
Eğer tek tıklama modeli ile çalışıyor ve güvenlik için CVV değerini tekrar kart hamiline girdiriyorsanız , CC_CVV parametresini CVV değeri ile gönderebilirsiniz. 
</aside>

<p><code>CC_TOKEN =&gt; &quot;4446c19bbed0abd515a509a3bdf959b5&quot;, </code> </br>
<code>CC_NUMBER =&gt; &quot;&quot;,</code> </br>
<code>EXP_MONTH =&gt; &quot;&quot;,</code> </br>
<code>EXP_YEAR =&gt; &quot;&quot;,</code> </br>
<code>CC_CVV =&gt; &quot;&quot;,</code> </br>
<code>CC_OWNER =&gt; &quot;&quot;, </code> </br> </p>
<h3 id='token-bilgisi-alma'>Token Bilgisi Alma</h3>
<p>Saklanmış kart değeri(Token) ile sorgu yaparak, token&#39;ın tüm detaylarını elde edebilirsiniz.</p>
<h3 id='istek-parametreleri-4'>İstek Parametreleri</h3>
<p>Endpoint GET <code>https://secure.payu.com.tr/order/token/v2/merchantToken/</code>:token</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>merchant</td>
<td>İşyerini ID bilgisidir. Üye İşyeri Kontrol Paneli’nde, hesap ayarları sayfasında bulunmaktadır.</td>
</tr>
<tr>
<td>token</td>
<td>Token değerinin iletildiği parametredir.</td>
</tr>
<tr>
<td>timestamp</td>
<td>Milisaniye cinsinden UTC(TR saatine göre 3 saat geri.) zaman damgası.</td>
</tr>
<tr>
<td>signature</td>
<td>İstek sırasında gönderilen değerlerin  sıralanıp, başlarına uzunlukları eklendikten sonra HMAC_SHA256 algoritması ile hash oluşturulan değerdir.</td>
</tr>
</tbody></table>

<blockquote>
<p><a href="https://github.com/PayUTurkiye/PayUTR_CSharp/raw/master/PayU_TR_CSharp.zip"> C Sharp Örnek Proje ve Kodları buradan indirebilirsiniz. </a></p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code>
            <span class="n">TokenResponseModel</span> <span class="n">model</span><span class="p">=</span> <span class="k">new</span> <span class="nf">TokenResponseModel</span><span class="p">();</span>
            <span class="kt">int</span> <span class="n">timeStamp</span> <span class="p">=</span> <span class="p">(</span><span class="n">Int32</span><span class="p">)(</span><span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">.</span><span class="nf">Subtract</span><span class="p">(</span><span class="k">new</span> <span class="nf">DateTime</span><span class="p">(</span><span class="m">1970</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">))).</span><span class="n">TotalSeconds</span><span class="p">;</span>
            <span class="n">GetTokenInformationRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">GetTokenInformationRequest</span><span class="p">();</span>
            <span class="n">request</span><span class="p">.</span><span class="n">MERCHANT</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">TIMESTAMP</span> <span class="p">=</span> <span class="n">timeStamp</span><span class="p">.</span><span class="nf">ToString</span><span class="p">();</span>
            <span class="n">request</span><span class="p">.</span><span class="n">TOKEN</span> <span class="p">=</span> <span class="n">token</span><span class="p">;</span>
            <span class="n">Options</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
            <span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/order/token/v2/merchantToken/"</span><span class="p">;</span>
            <span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
            <span class="n">model</span><span class="p">.</span><span class="n">TokenResponse</span> <span class="p">=</span> <span class="n">GetTokenInformationRequest</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">options</span><span class="p">);-</span>

</code></pre><pre class="highlight php tab-php"><code>
$merchant=  "OPU_TEST";
$secret = "SECRET_KEY";
$timestamp = time();
$token = "0832a14fed117d974d7e801fcaffbf6e";
$hashstring = '';
$hashstring =  $merchant . $timestamp;
$sig = hash_hmac('sha256', $hashstring,$secret);
$endpoint  = "https://secure.payu.com.tr/order/token/v2/merchantToken/".$token."?merchant=".$merchant."<span class="ni">&amp;timestamp=".$timestamp."&amp;signature=".$sig."&amp;cancelReason=".$cancelReason;</span>
$method = 'GET';
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $endpoint);
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false);
curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "$method");
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_TIMEOUT, 60);
curl_setopt($ch, CURLOPT_POST, 1);
$response = curl_exec($ch);
$curlerrcode = curl_errno($ch);
$curlerr = curl_error($ch);
print_r($response);

</code></pre><pre class="highlight python tab-python"><code>
<span class="n">Merchant</span> <span class="o">=</span>  <span class="s">"OPU_TEST"</span><span class="p">;</span>
<span class="n">SecretKey</span> <span class="o">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
<span class="n">Token</span> <span class="o">=</span> <span class="s">"ae7200bf363a8ae7059e25fcf714e9b0"</span><span class="p">;</span>
<span class="n">var</span> <span class="n">TimeStamp</span> <span class="o">=</span> <span class="n">Math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">Date</span><span class="o">.</span><span class="n">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">);</span>

<span class="n">HashString</span> <span class="o">=</span> <span class="n">Merchant</span> <span class="o">+</span> <span class="n">TimeStamp</span><span class="p">;</span>
<span class="n">var</span> <span class="n">crypto</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="s">'crypto'</span><span class="p">)</span>
    <span class="p">,</span> <span class="n">data</span> <span class="o">=</span> <span class="n">HashString</span>
    <span class="p">,</span> <span class="n">secretkey</span> <span class="o">=</span> <span class="n">SecretKey</span>

<span class="n">Signature</span> <span class="o">=</span> <span class="n">crypto</span><span class="o">.</span><span class="n">createHmac</span><span class="p">(</span><span class="s">'sha256'</span><span class="p">,</span> <span class="n">secretkey</span><span class="p">)</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">data</span><span class="p">)</span><span class="o">.</span><span class="n">digest</span><span class="p">(</span><span class="s">'hex'</span><span class="p">)</span>


<span class="n">EndPointURL</span> <span class="o">=</span> <span class="s">'https://secure.payu.com.tr/order/token/v2/merchantToken/'</span><span class="o">+</span><span class="n">Token</span><span class="o">+</span><span class="s">"?merchant="</span><span class="o">+</span><span class="n">Merchant</span><span class="o">+</span><span class="s">"&amp;timestamp="</span><span class="o">+</span><span class="n">TimeStamp</span><span class="o">+</span><span class="s">"&amp;signature="</span><span class="o">+</span><span class="n">Signature</span>

<span class="n">var</span> <span class="n">request</span> <span class="o">=</span> <span class="n">require</span><span class="p">(</span><span class="s">'request'</span><span class="p">);</span>
<span class="o">//</span> <span class="n">Set</span> <span class="n">the</span> <span class="n">headers</span>
<span class="n">var</span> <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'Content-Type'</span><span class="p">:</span>     <span class="s">'application/x-www-form-urlencoded'</span>
<span class="p">}</span>

<span class="o">//</span> <span class="n">Configure</span> <span class="n">the</span> <span class="n">request</span>
<span class="n">var</span> <span class="n">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">url</span><span class="p">:</span> <span class="n">EndPointURL</span><span class="p">,</span>
    <span class="n">method</span><span class="p">:</span> <span class="s">'GET'</span><span class="p">,</span>
    <span class="n">headers</span><span class="p">:</span> <span class="n">headers</span><span class="p">,</span>
<span class="p">}</span>

<span class="o">//</span> <span class="n">Start</span> <span class="n">the</span> <span class="n">request</span>
<span class="n">request</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">function</span> <span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">body</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">)</span>

</code></pre><pre class="highlight javascript tab-javascript"><code>
<span class="nx">Merchant</span> <span class="o">=</span>  <span class="s2">"OPU_TEST"</span><span class="p">;</span>
<span class="nx">SecretKey</span> <span class="o">=</span> <span class="s2">"SECRET_KEY"</span><span class="p">;</span>
<span class="nx">Token</span> <span class="o">=</span> <span class="s2">"ae7200bf363a8ae7059e25fcf714e9b0"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">TimeStamp</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">);</span>

<span class="nx">HashString</span> <span class="o">=</span> <span class="nx">Merchant</span> <span class="o">+</span> <span class="nx">TimeStamp</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">)</span>
    <span class="p">,</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">HashString</span>
    <span class="p">,</span> <span class="nx">secretkey</span> <span class="o">=</span> <span class="nx">SecretKey</span>

<span class="nx">Signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s1">'sha256'</span><span class="p">,</span> <span class="nx">secretkey</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">)</span>


<span class="nx">EndPointURL</span> <span class="o">=</span> <span class="s1">'https://secure.payu.com.tr/order/token/v2/merchantToken/'</span><span class="o">+</span><span class="nx">Token</span><span class="o">+</span><span class="s2">"?merchant="</span><span class="o">+</span><span class="nx">Merchant</span><span class="o">+</span><span class="s2">"&amp;timestamp="</span><span class="o">+</span><span class="nx">TimeStamp</span><span class="o">+</span><span class="s2">"&amp;signature="</span><span class="o">+</span><span class="nx">Signature</span>

<span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>
<span class="c1">// Set the headers</span>
<span class="kd">var</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'Content-Type'</span><span class="p">:</span>     <span class="s1">'application/x-www-form-urlencoded'</span>
<span class="p">}</span>

<span class="c1">// Configure the request</span>
<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">EndPointURL</span><span class="p">,</span>
    <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
<span class="p">}</span>

<span class="c1">// Start the request</span>
<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">)</span>

</code></pre><h3 id='yanit-parametreleri-3'>Yanıt Parametreleri</h3>
<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>tokenStatus</td>
<td>Tokenın aktiflik statüsünü gösteren parametredir.</td>
</tr>
<tr>
<td>tokenExpirationDate</td>
<td>Token son kullanma tarihini gösteren parametredir.</td>
</tr>
<tr>
<td>cardNumberMask</td>
<td>Maskeli kart numarasını gösteren parametredir.</td>
</tr>
<tr>
<td>cardExpirationDate</td>
<td>Kartın son kullanma tarihini gösteren parametredir.</td>
</tr>
<tr>
<td>cardHolderName</td>
<td>Kart sahibinin ismini gösteren parametredir.</td>
</tr>
<tr>
<td>cardType</td>
<td>Kart tipini gösteren parametredir.</td>
</tr>
<tr>
<td>cardBank</td>
<td>Kart bankasını gösteren parametredir.</td>
</tr>
<tr>
<td>cardProgramName</td>
<td>Kart programını gösteren parametredir.</td>
</tr>
</tbody></table>
<h3 id='iptal-edilmis-tokenlarda-donen-ek-parametreler'>İptal edilmiş tokenlarda dönen ek parametreler</h3>
<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>cancelDate</td>
<td>Token iptal tarihini gösteren parametredir.</td>
</tr>
<tr>
<td>cancelReason</td>
<td>Token iptal sebebini gösteren parametredir.</td>
</tr>
<tr>
<td>cancelUser</td>
<td>Tokenın iptalini gerçekleştiren kullanıcı bilgisini gösteren parametredir.</td>
</tr>
</tbody></table>
<h3 id='token-islem-gecmisi'>Token İşlem Geçmişi</h3>
<p>Saklanmış kart değeri(Token) ile sorgu yaparak, token&#39;ın tüm geçmiş işlemlerini elde edebilirsiniz.</p>
<h3 id='istek-parametreleri-5'>İstek Parametreleri</h3>
<p>Endpoint GET <code>https://secure.payu.com.tr/order/token/v2/merchantToken/</code>:token<code>/history</code></p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>merchant</td>
<td>İşyerini ID bilgisidir. Üye İşyeri Kontrol Paneli’nde, hesap ayarları sayfasında bulunmaktadır.</td>
</tr>
<tr>
<td>token</td>
<td>Token değerinin iletildiği parametredir.</td>
</tr>
<tr>
<td>timestamp</td>
<td>Milisaniye cinsinden UTC(TR saatine göre 3 saat geri.) zaman damgası.</td>
</tr>
<tr>
<td>signature</td>
<td>İstek sırasında gönderilen değerlerin  sıralanıp, başlarına uzunlukları eklendikten sonra HMAC_SHA256 algoritması ile hash oluşturulan değerdir.</td>
</tr>
</tbody></table>
<h3 id='yanit-parametreleri-4'>Yanıt Parametreleri</h3>
<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>originalSale</td>
<td>İşlemin orjinal satış numarasının bildirildiği parametredir..</td>
</tr>
<tr>
<td>refNo</td>
<td>İşleme ait PayU referans numarasının bildirildiği parametredir.</td>
</tr>
<tr>
<td>amount</td>
<td>İşlem tutarının bildirildiği parametredir.</td>
</tr>
<tr>
<td>currency</td>
<td>İşlem para biriminin bildirildiği parametredir.</td>
</tr>
<tr>
<td>installmentsNumber</td>
<td>İşlemin taksit sayısının bildirildiği parametredir.</td>
</tr>
<tr>
<td>programName</td>
<td>İşlemde kullanılan kartın programının bildirildiği parametredir.</td>
</tr>
<tr>
<td>history</td>
<td>Token ile gerçekleşen tüm işlemlerin yukarıda listelenen parametrelereler ile array içerisinde iletildiği parametredir.</td>
</tr>
</tbody></table>

<blockquote>
<p><a href="https://github.com/PayUTurkiye/PayUTR_CSharp/raw/master/PayU_TR_CSharp.zip"> C Sharp Örnek Proje ve Kodları buradan indirebilirsiniz. </a></p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="n">TokenResponseModel</span> <span class="n">model</span><span class="p">=</span> <span class="k">new</span> <span class="nf">TokenResponseModel</span><span class="p">();</span>
<span class="kt">int</span> <span class="n">timeStamp</span> <span class="p">=</span> <span class="p">(</span><span class="n">Int32</span><span class="p">)(</span><span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">.</span><span class="nf">Subtract</span><span class="p">(</span><span class="k">new</span> <span class="nf">DateTime</span><span class="p">(</span><span class="m">1970</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">))).</span><span class="n">TotalSeconds</span><span class="p">;</span>
<span class="n">GetTokenInformationRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">GetTokenInformationRequest</span><span class="p">();</span>
<span class="n">request</span><span class="p">.</span><span class="n">MERCHANT</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">TIMESTAMP</span> <span class="p">=</span> <span class="n">timeStamp</span><span class="p">.</span><span class="nf">ToString</span><span class="p">();</span>
<span class="n">request</span><span class="p">.</span><span class="n">TOKEN</span> <span class="p">=</span> <span class="n">token</span><span class="p">;</span>
<span class="n">Options</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
<span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/order/token/v2/merchantToken/"</span><span class="p">;</span>
<span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
<span class="n">model</span><span class="p">.</span><span class="n">TokenResponse</span> <span class="p">=</span> <span class="n">GetTokenInformationRequest</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
</code></pre><pre class="highlight php tab-php"><code>
$merchant=  "OPU_TEST";
$secret = "SECRET_KEY";
$timestamp = time();
$token = "0832a14fed117d974d7e801fcaffbf6e";
$hashstring = '';
$hashstring =  $merchant . $timestamp;
$sig = hash_hmac('sha256', $hashstring,$secret);
$endpoint  = "https://secure.payu.com.tr/order/token/v2/merchantToken/".$token."/history?merchant=".$merchant."<span class="ni">&amp;timestamp=".$timestamp."&amp;signature=".$sig."&amp;cancelReason=".$cancelReason;</span>
$method = 'GET';
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $endpoint);
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false);
curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "$method");
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_TIMEOUT, 60);
curl_setopt($ch, CURLOPT_POST, 1);
$response = curl_exec($ch);
$curlerrcode = curl_errno($ch);
$curlerr = curl_error($ch);
print_r($response);

</code></pre><pre class="highlight python tab-python"><code>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>
<span class="kn">import</span> <span class="nn">time</span>


<span class="n">merchant</span> <span class="o">=</span> <span class="s">'OPU_TEST'</span>
<span class="n">secretKey</span> <span class="o">=</span> <span class="s">"SECRET_KEY"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">"ae7200bf363a8ae7059e25fcf714e9b0"</span>
<span class="n">timestamp</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">'.'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="n">hashstring</span> <span class="o">=</span>  <span class="n">merchant</span> <span class="o">+</span><span class="n">timestamp</span>

<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">secretKey</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashstring</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'https://secure.payu.com.tr/order/token/v2/merchantToken/'</span><span class="o">+</span> <span class="n">token</span> <span class="o">+</span><span class="s">'/history?merchant='</span><span class="o">+</span> <span class="n">merchant</span> <span class="o">+</span><span class="s">'&amp;timestamp='</span><span class="o">+</span> <span class="n">timestamp</span> <span class="o">+</span><span class="s">'&amp;signature='</span><span class="o">+</span><span class="n">signature</span>
<span class="k">print</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s">'GET'</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">Merchant</span> <span class="o">=</span>  <span class="s2">"OPU_TEST"</span><span class="p">;</span>
<span class="nx">SecretKey</span> <span class="o">=</span> <span class="s2">"SECRET_KEY"</span><span class="p">;</span>
<span class="nx">Token</span> <span class="o">=</span> <span class="s2">"ae7200bf363a8ae7059e25fcf714e9b0"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">TimeStamp</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">);</span>

<span class="nx">HashString</span> <span class="o">=</span> <span class="nx">Merchant</span> <span class="o">+</span> <span class="nx">TimeStamp</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">)</span>
    <span class="p">,</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">HashString</span>
    <span class="p">,</span> <span class="nx">secretkey</span> <span class="o">=</span> <span class="nx">SecretKey</span>

<span class="nx">Signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s1">'sha256'</span><span class="p">,</span> <span class="nx">secretkey</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">)</span>


<span class="nx">EndPointURL</span> <span class="o">=</span> <span class="s1">'https://secure.payu.com.tr/order/token/v2/merchantToken/'</span><span class="o">+</span><span class="nx">Token</span><span class="o">+</span><span class="s2">"/history?merchant="</span><span class="o">+</span><span class="nx">Merchant</span><span class="o">+</span><span class="s2">"&amp;timestamp="</span><span class="o">+</span><span class="nx">TimeStamp</span><span class="o">+</span><span class="s2">"&amp;signature="</span><span class="o">+</span><span class="nx">Signature</span>

<span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'Content-Type'</span><span class="p">:</span>     <span class="s1">'application/x-www-form-urlencoded'</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">EndPointURL</span><span class="p">,</span>
    <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
<span class="p">}</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">)</span>
</code></pre><h3 id='token-iptali'>Token İptali</h3>
<p>Sakladığınız kartın iptalini sağlayabilirsiniz.</p>
<h3 id='istek-parametreleri-6'>İstek Parametreleri</h3>
<p>Endpoint DELETE <code>https://secure.payu.com.tr/order/token/v2/merchantToken/</code>:token</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>merchant</td>
<td>İşyerini ID bilgisidir. Üye İşyeri Kontrol Paneli’nde, hesap ayarları sayfasında bulunmaktadır.</td>
</tr>
<tr>
<td>refNo</td>
<td>İşleme ait PayU referans numarasının bildirildiği parametredir.</td>
</tr>
<tr>
<td>timestamp</td>
<td>Milisaniye cinsinden UTC(TR saatine göre 3 saat geri.) zaman damgası.</td>
</tr>
<tr>
<td>signature</td>
<td>İstek sırasında gönderilen değerlerin  sıralanıp, başlarına uzunlukları eklendikten sonra HMAC_SHA256 algoritması ile hash oluşturulan değerdir.</td>
</tr>
</tbody></table>
<h3 id='yanit-parametreleri-5'>Yanıt Parametreleri</h3>
<aside class="notice">
İptal isteği başarıyla alınığ sağlandığı durumunda, İptal servisi HTTP 204 kodu ile hiçbir gövde olmadan yanıt verir. 
</aside>

<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>httpMessage</td>
<td>HTTP durum mesajının döndüldüğü parametredir.</td>
</tr>
<tr>
<td>httpCode</td>
<td>HTTP durum kodunun döndüldüğü parametredir.</td>
</tr>
<tr>
<td>version</td>
<td>Token versiyonunun dönüldüğü parametredir.</td>
</tr>
<tr>
<td>status</td>
<td>message ve code düğümlerini barındıran ana düğümdür.</td>
</tr>
<tr>
<td>message</td>
<td>API mesajının dönüldüğü parametredir.</td>
</tr>
<tr>
<td>code</td>
<td>API durum kodunun dönüldüğü parametredir.</td>
</tr>
</tbody></table>

<blockquote>
<p><a href="https://github.com/PayUTurkiye/PayUTR_CSharp/raw/master/PayU_TR_CSharp.zip"> C Sharp Örnek Proje ve Kodları buradan indirebilirsiniz. </a></p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="n">CancelTokenRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CancelTokenRequest</span><span class="p">();</span>
<span class="n">request</span><span class="p">.</span><span class="n">MERCHANT</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">CANCELREASON</span> <span class="p">=</span> <span class="n">reason</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">TIMESTAMP</span> <span class="p">=</span> <span class="n">timeStamp</span><span class="p">.</span><span class="nf">ToString</span><span class="p">();</span>
<span class="n">request</span><span class="p">.</span><span class="n">TOKEN</span> <span class="p">=</span> <span class="n">token</span><span class="p">;</span>
<span class="n">Options</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
<span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/order/token/v2/merchantToken/"</span><span class="p">;</span>
<span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
<span class="n">model</span><span class="p">.</span><span class="n">TokenResponse</span> <span class="p">=</span> <span class="n">CancelTokenRequest</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
</code></pre><pre class="highlight php tab-php"><code>$merchant=  "OPU_TEST";
$secret = "SECRET_KEY";
$timestamp = time();
$cancelReason = "Test";
$token = "0832a14fed117d974d7e801fcaffbf6e";
$hashstring = '';
$hashstring = $cancelReason . $merchant . $timestamp;
$sig = hash_hmac('sha256', $hashstring,$secret);
$endpoint  = "https://secure.payu.com.tr/order/token/v2/merchantToken/".$token."?merchant=".$merchant."<span class="ni">&amp;timestamp=".$timestamp."&amp;signature=".$sig."&amp;cancelReason=".$cancelReason;</span>
$method = 'DELETE';
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, $endpoint);
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false);
curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "$method");
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLOPT_TIMEOUT, 60);
curl_setopt($ch, CURLOPT_POST, 1);
$response = curl_exec($ch);
$curlerrcode = curl_errno($ch);
$curlerr = curl_error($ch);
print_r($response);
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">time</span>


<span class="n">merchant</span> <span class="o">=</span> <span class="s">'OPU_TEST'</span>
<span class="n">secretKey</span> <span class="o">=</span> <span class="s">"SECRET_KEY"</span>
<span class="n">token</span> <span class="o">=</span> <span class="s">"ae7200bf363a8ae7059e25fcf714e9b0"</span>
<span class="n">cancelReason</span> <span class="o">=</span> <span class="s">"Test"</span>
<span class="n">timestamp</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">'.'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="n">hashstring</span> <span class="o">=</span> <span class="n">cancelReason</span> <span class="o">+</span> <span class="n">merchant</span> <span class="o">+</span><span class="n">timestamp</span>

<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">secretKey</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashstring</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'https://secure.payu.com.tr/order/token/v2/merchantToken/'</span><span class="o">+</span> <span class="n">token</span> <span class="o">+</span><span class="s">'?merchant='</span><span class="o">+</span> <span class="n">merchant</span> <span class="o">+</span><span class="s">'&amp;timestamp='</span><span class="o">+</span> <span class="n">timestamp</span> <span class="o">+</span><span class="s">'&amp;signature='</span><span class="o">+</span><span class="n">signature</span><span class="o">+</span><span class="s">'&amp;cancelReason='</span><span class="o">+</span><span class="n">cancelReason</span>
<span class="k">print</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">())</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">Merchant</span> <span class="o">=</span>  <span class="s2">"OPU_TEST"</span><span class="p">;</span>
<span class="nx">SecretKey</span> <span class="o">=</span> <span class="s2">"SECRET_KEY"</span><span class="p">;</span>
<span class="nx">Token</span> <span class="o">=</span> <span class="s2">"ae7200bf363a8ae7059e25fcf714e9b0"</span><span class="p">;</span>
<span class="nx">cancelReason</span> <span class="o">=</span> <span class="s2">"Test"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">TimeStamp</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">);</span>

<span class="nx">HashString</span> <span class="o">=</span> <span class="nx">cancelReason</span> <span class="o">+</span> <span class="nx">Merchant</span> <span class="o">+</span> <span class="nx">TimeStamp</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">)</span>
    <span class="p">,</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">HashString</span>
    <span class="p">,</span> <span class="nx">secretkey</span> <span class="o">=</span> <span class="nx">SecretKey</span>

<span class="nx">Signature</span> <span class="o">=</span> <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s1">'sha256'</span><span class="p">,</span> <span class="nx">secretkey</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">)</span>


<span class="nx">EndPointURL</span> <span class="o">=</span> <span class="s1">'https://secure.payu.com.tr/order/token/v2/merchantToken/'</span><span class="o">+</span><span class="nx">Token</span><span class="o">+</span><span class="s2">"?merchant="</span><span class="o">+</span><span class="nx">Merchant</span><span class="o">+</span><span class="s2">"&amp;timestamp="</span><span class="o">+</span><span class="nx">TimeStamp</span><span class="o">+</span><span class="s2">"&amp;signature="</span><span class="o">+</span><span class="nx">Signature</span><span class="o">+</span><span class="s2">"&amp;cancelReason="</span><span class="o">+</span><span class="nx">cancelReason</span>

<span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>
<span class="c1">// Set the headers</span>
<span class="kd">var</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'Content-Type'</span><span class="p">:</span>     <span class="s1">'application/x-www-form-urlencoded'</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">EndPointURL</span><span class="p">,</span>
    <span class="na">method</span><span class="p">:</span> <span class="s1">'DELETE'</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
<span class="p">}</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">)</span>
</code></pre><h1 id='ipn-servisi-asenkron-bildirim-servisi'>IPN Servisi(Asenkron Bildirim Servisi)</h1>
<blockquote>
<p><a href="https://github.com/PayUTurkiye/PayUTR_CSharp/raw/master/PayU_TR_CSharp.zip"> C Sharp Örnek Proje ve Kodları buradan indirebilirsiniz. </a></p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="n">AsyncNotificationServiceHashRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">AsyncNotificationServiceHashRequest</span><span class="p">();</span>
<span class="n">request</span><span class="p">.</span><span class="n">IPN_PID</span> <span class="p">=</span> <span class="n">Request</span><span class="p">.</span><span class="n">Form</span><span class="p">[</span><span class="s">"IPN_PID[]"</span><span class="p">];</span>
<span class="n">request</span><span class="p">.</span><span class="n">IPN_PNAME</span> <span class="p">=</span> <span class="n">Request</span><span class="p">.</span><span class="n">Form</span><span class="p">[</span><span class="s">"IPN_PNAME[]"</span><span class="p">];</span>
<span class="n">request</span><span class="p">.</span><span class="n">IPN_DATE</span> <span class="p">=</span> <span class="n">Request</span><span class="p">.</span><span class="n">Form</span><span class="p">[</span><span class="s">"IPN_DATE[]"</span><span class="p">];</span>
<span class="n">request</span><span class="p">.</span><span class="n">DATE</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"yyyyMMddHHmmss"</span><span class="p">);</span>
<span class="kt">var</span> <span class="n">hash</span> <span class="p">=</span> <span class="n">AsyncNotificationServiceHashRequest</span><span class="p">.</span><span class="nf">CalculateHash</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">"SECRET_KEY"</span><span class="p">);</span>
<span class="n">model</span><span class="p">.</span><span class="n">Response</span> <span class="p">=</span> <span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="s">"&lt;EPAYMENT&gt;{0}|{1}&lt;/EPAYMENT&gt;"</span><span class="p">,</span> <span class="n">request</span><span class="p">.</span><span class="n">DATE</span><span class="p">,</span> <span class="n">hash</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'express'</span><span class="p">),</span>
    <span class="nx">app</span> <span class="o">=</span> <span class="nx">express</span><span class="p">(),</span>
    <span class="nx">port</span> <span class="o">=</span> <span class="mi">8995</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">bodyParser</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"body-parser"</span><span class="p">);</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">bodyParser</span><span class="p">.</span><span class="nx">urlencoded</span><span class="p">({</span> <span class="na">type</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span> <span class="na">extended</span><span class="p">:</span> <span class="kc">false</span> <span class="p">}));</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">bodyParser</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span>

<span class="kd">var</span> <span class="nx">moment</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moment'</span><span class="p">);</span>
<span class="nx">date</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">.</span><span class="nx">utc</span><span class="p">().</span><span class="nx">format</span><span class="p">(</span><span class="s1">'YYYYMMDDHHmmss'</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span>
<span class="nx">SecretKey</span> <span class="o">=</span> <span class="s2">"SECRET_KEY"</span><span class="p">;</span>
<span class="nx">hashstring</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'/ipn'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">ipnparams</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">{</span> <span class="p">};</span>
    <span class="nx">array</span><span class="p">[</span><span class="s1">'IPN_PID'</span><span class="p">]</span> <span class="o">=</span> <span class="nx">ipnparams</span><span class="p">[</span><span class="s2">"IPN_PID[]"</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>
    <span class="nx">array</span><span class="p">[</span><span class="s1">'IPN_PNAME'</span><span class="p">]</span> <span class="o">=</span> <span class="nx">ipnparams</span><span class="p">[</span><span class="s2">"IPN_PNAME[]"</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>
    <span class="nx">array</span><span class="p">[</span><span class="s1">'IPN_DATE'</span><span class="p">]</span> <span class="o">=</span> <span class="nx">ipnparams</span><span class="p">[</span><span class="s1">'IPN_DATE'</span><span class="p">];</span>
    <span class="nx">array</span><span class="p">[</span><span class="s1">'DATE'</span><span class="p">]</span> <span class="o">=</span> <span class="nx">date</span><span class="p">;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">array</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">k</span> <span class="k">in</span> <span class="nx">array</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">hashstring</span> <span class="o">+=</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">].</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span> <span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">array</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">hashstring</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">)</span>
        <span class="p">,</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">hashstring</span>
        <span class="p">,</span> <span class="nx">secretkey</span> <span class="o">=</span> <span class="nx">SecretKey</span><span class="p">;</span>

<<<<<<< HEAD
=======
<p><code>CC_TOKEN =&gt; &quot;4446c19bbed0abd515a509a3bdf959b5&quot;, </code> </br>
<code>CC_NUMBER =&gt; &quot;&quot;,</code> </br>
<code>EXP_MONTH =&gt; &quot;&quot;,</code> </br>
<code>EXP_YEAR =&gt; &quot;&quot;,</code> </br>
<code>CC_CVV =&gt; &quot;&quot;,</code> </br>
<code>CC_OWNER =&gt; &quot;&quot;, </code> </br> </p>
<h3 id='token-bilgisi-alma'>Token Bilgisi Alma</h3><h3 id='token-islem-gecmisi'>Token İşlem Geçmişi</h3><h3 id='token-iptali'>Token İptali</h3><h1 id='ipn-servisi-asenkron-bildirim-servisi'>IPN Servisi(Asenkron Bildirim Servisi)</h1>
<blockquote>
<p><a href="https://github.com/PayUTurkiye/PayUTR_CSharp/raw/master/PayU_TR_CSharp.zip"> C Sharp Örnek Proje ve Kodları buradan indirebilirsiniz. </a></p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code>            <span class="n">AsyncNotificationServiceHashRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">AsyncNotificationServiceHashRequest</span><span class="p">();</span>
            <span class="n">request</span><span class="p">.</span><span class="n">IPN_PID</span> <span class="p">=</span> <span class="n">Request</span><span class="p">.</span><span class="n">Form</span><span class="p">[</span><span class="s">"IPN_PID[]"</span><span class="p">];</span>
            <span class="n">request</span><span class="p">.</span><span class="n">IPN_PNAME</span> <span class="p">=</span> <span class="n">Request</span><span class="p">.</span><span class="n">Form</span><span class="p">[</span><span class="s">"IPN_PNAME[]"</span><span class="p">];</span>
            <span class="n">request</span><span class="p">.</span><span class="n">IPN_DATE</span> <span class="p">=</span> <span class="n">Request</span><span class="p">.</span><span class="n">Form</span><span class="p">[</span><span class="s">"IPN_DATE[]"</span><span class="p">];</span>
            <span class="n">request</span><span class="p">.</span><span class="n">DATE</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"yyyyMMddHHmmss"</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">hash</span> <span class="p">=</span> <span class="n">AsyncNotificationServiceHashRequest</span><span class="p">.</span><span class="nf">CalculateHash</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s">"SECRET_KEY"</span><span class="p">);</span>
            <span class="n">model</span><span class="p">.</span><span class="n">Response</span> <span class="p">=</span> <span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="s">"&lt;EPAYMENT&gt;{0}|{1}&lt;/EPAYMENT&gt;"</span><span class="p">,</span> <span class="n">request</span><span class="p">.</span><span class="n">DATE</span><span class="p">,</span> <span class="n">hash</span><span class="p">);</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'express'</span><span class="p">),</span>
    <span class="nx">app</span> <span class="o">=</span> <span class="nx">express</span><span class="p">(),</span>
    <span class="nx">port</span> <span class="o">=</span> <span class="mi">8995</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">bodyParser</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"body-parser"</span><span class="p">);</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">bodyParser</span><span class="p">.</span><span class="nx">urlencoded</span><span class="p">({</span> <span class="na">type</span><span class="p">:</span> <span class="s1">'application/x-www-form-urlencoded'</span><span class="p">,</span> <span class="na">extended</span><span class="p">:</span> <span class="kc">false</span> <span class="p">}));</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">bodyParser</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span>

<span class="kd">var</span> <span class="nx">moment</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moment'</span><span class="p">);</span>
<span class="nx">date</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">.</span><span class="nx">utc</span><span class="p">().</span><span class="nx">format</span><span class="p">(</span><span class="s1">'YYYYMMDDHHmmss'</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span>
<span class="nx">SecretKey</span> <span class="o">=</span> <span class="s2">"SECRET_KEY"</span><span class="p">;</span>
<span class="nx">hashstring</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'/ipn'</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">ipnparams</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
    <span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">{</span> <span class="p">};</span>
    <span class="nx">array</span><span class="p">[</span><span class="s1">'IPN_PID'</span><span class="p">]</span> <span class="o">=</span> <span class="nx">ipnparams</span><span class="p">[</span><span class="s2">"IPN_PID[]"</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>
    <span class="nx">array</span><span class="p">[</span><span class="s1">'IPN_PNAME'</span><span class="p">]</span> <span class="o">=</span> <span class="nx">ipnparams</span><span class="p">[</span><span class="s2">"IPN_PNAME[]"</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>
    <span class="nx">array</span><span class="p">[</span><span class="s1">'IPN_DATE'</span><span class="p">]</span> <span class="o">=</span> <span class="nx">ipnparams</span><span class="p">[</span><span class="s1">'IPN_DATE'</span><span class="p">];</span>
    <span class="nx">array</span><span class="p">[</span><span class="s1">'DATE'</span><span class="p">]</span> <span class="o">=</span> <span class="nx">date</span><span class="p">;</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">array</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">k</span> <span class="k">in</span> <span class="nx">array</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">hashstring</span> <span class="o">+=</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">].</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span> <span class="p">;</span>
    <span class="p">}</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">array</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">hashstring</span><span class="p">);</span>
    <span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">)</span>
        <span class="p">,</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">hashstring</span>
        <span class="p">,</span> <span class="nx">secretkey</span> <span class="o">=</span> <span class="nx">SecretKey</span><span class="p">;</span>

>>>>>>> 3ed3dff92d6b76228aaccf3922e0c87dca9c7fe9
    <span class="nx">signature</span> <span class="o">=</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s1">'md5'</span><span class="p">,</span> <span class="nx">secretkey</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
    <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="s2">"&lt;EPAYMENT&gt;"</span><span class="o">+</span><span class="nx">date</span><span class="o">+</span><span class="s2">"|"</span><span class="o">+</span><span class="nx">signature</span><span class="o">+</span><span class="s2">"&lt;/EPAYMENT&gt;"</span><span class="p">)</span>

<span class="p">});</span>

<span class="kd">var</span> <span class="nx">server</span> <span class="o">=</span> <span class="nx">app</span><span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="nx">port</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="kd">var</span> <span class="nx">host</span> <span class="o">=</span> <span class="nx">server</span><span class="p">.</span><span class="nx">address</span><span class="p">().</span><span class="nx">address</span>
    <span class="kd">var</span> <span class="nx">port</span> <span class="o">=</span> <span class="nx">server</span><span class="p">.</span><span class="nx">address</span><span class="p">().</span><span class="nx">port</span>

<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$postValues</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
<span class="k">foreach</span><span class="p">(</span><span class="nv">$_REQUEST</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$value</span><span class="p">){</span>
    <span class="nv">$postValues</span> <span class="o">.=</span> <span class="nv">$key</span><span class="o">.</span><span class="s1">' = '</span><span class="o">.</span> <span class="nv">$value</span><span class="o">.</span> <span class="s2">"</span><span class="se">\r\n</span><span class="s2">"</span><span class="p">;</span>

<span class="p">}</span>


<span class="nb">ini_set</span><span class="p">(</span><span class="s2">"mbstring.func_overload"</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
<span class="k">if</span><span class="p">(</span><span class="nb">ini_get</span><span class="p">(</span><span class="s2">"mbstring.func_overload"</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">2</span><span class="p">)</span>
<span class="p">{</span>   <span class="cm">/* check if mbstring.func_overload is still set to overload strings(2)*/</span>
    <span class="k">echo</span> <span class="s2">"WARNING: mbstring.func_overload is set to overload strings and might cause problems</span><span class="se">\n</span><span class="s2">"</span><span class="p">;</span>
<span class="p">}</span>

<span class="cm">/* Internet Payment Notification */</span>

<span class="nv">$pass</span>       <span class="o">=</span> <span class="s2">"TEST_KEY"</span><span class="p">;</span>   <span class="cm">/* pass to compute HASH */</span>
<span class="nv">$result</span>     <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>               <span class="cm">/* string for compute HASH for received data */</span>
<span class="nv">$return</span>     <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>               <span class="cm">/* string to compute HASH for return result */</span>
<span class="nv">$signature</span>  <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s2">"HASH"</span><span class="p">];</span>   <span class="cm">/* HASH received */</span>
<span class="nv">$body</span>       <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>

<span class="cm">/* read info received */</span>
<span class="nb">ob_start</span><span class="p">();</span>
<span class="k">while</span><span class="p">(</span><span class="k">list</span><span class="p">(</span><span class="nv">$key</span><span class="p">,</span> <span class="nv">$val</span><span class="p">)</span> <span class="o">=</span> <span class="nb">each</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">)){</span>
    <span class="nv">$$key</span><span class="o">=</span><span class="nv">$val</span><span class="p">;</span>

    <span class="cm">/* get values */</span>
    <span class="k">if</span><span class="p">(</span><span class="nv">$key</span> <span class="o">!=</span> <span class="s2">"HASH"</span><span class="p">){</span>

        <span class="k">if</span><span class="p">(</span><span class="nb">is_array</span><span class="p">(</span><span class="nv">$val</span><span class="p">))</span> <span class="nv">$result</span> <span class="o">.=</span> <span class="nx">ArrayExpand</span><span class="p">(</span><span class="nv">$val</span><span class="p">);</span>
        <span class="k">else</span><span class="p">{</span>
            <span class="nv">$size</span>       <span class="o">=</span> <span class="nb">strlen</span><span class="p">(</span><span class="nx">StripSlashes</span><span class="p">(</span><span class="nv">$val</span><span class="p">));</span>
            <span class="nv">$result</span> <span class="o">.=</span> <span class="nv">$size</span><span class="o">.</span><span class="nx">StripSlashes</span><span class="p">(</span><span class="nv">$val</span><span class="p">);</span>
        <span class="p">}</span>

    <span class="p">}</span>

<span class="p">}</span>
<span class="nv">$body</span> <span class="o">=</span> <span class="nb">ob_get_contents</span><span class="p">();</span>
<span class="nb">ob_end_flush</span><span class="p">();</span>

<span class="nv">$date_return</span> <span class="o">=</span> <span class="nb">date</span><span class="p">(</span><span class="s2">"YmdGis"</span><span class="p">);</span>

<span class="nv">$return</span> <span class="o">=</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">"IPN_PID"</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">"IPN_PID"</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="nb">strlen</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">"IPN_PNAME"</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">"IPN_PNAME"</span><span class="p">][</span><span class="mi">0</span><span class="p">];</span>
<span class="nv">$return</span> <span class="o">.=</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">"IPN_DATE"</span><span class="p">])</span><span class="o">.</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">"IPN_DATE"</span><span class="p">]</span><span class="o">.</span><span class="nb">strlen</span><span class="p">(</span><span class="nv">$date_return</span><span class="p">)</span><span class="o">.</span><span class="nv">$date_return</span><span class="p">;</span>

<span class="k">function</span> <span class="nf">ArrayExpand</span><span class="p">(</span><span class="nv">$array</span><span class="p">){</span>
    <span class="nv">$retval</span> <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="nv">$i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="nb">sizeof</span><span class="p">(</span><span class="nv">$array</span><span class="p">);</span> <span class="nv">$i</span><span class="o">++</span><span class="p">){</span>
        <span class="nv">$size</span>       <span class="o">=</span> <span class="nb">strlen</span><span class="p">(</span><span class="nx">StripSlashes</span><span class="p">(</span><span class="nv">$array</span><span class="p">[</span><span class="nv">$i</span><span class="p">]));</span>
        <span class="nv">$retval</span> <span class="o">.=</span> <span class="nv">$size</span><span class="o">.</span><span class="nx">StripSlashes</span><span class="p">(</span><span class="nv">$array</span><span class="p">[</span><span class="nv">$i</span><span class="p">]);</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nv">$retval</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nf">hmac</span> <span class="p">(</span><span class="nv">$key</span><span class="p">,</span> <span class="nv">$data</span><span class="p">){</span>
    <span class="nv">$b</span> <span class="o">=</span> <span class="mi">64</span><span class="p">;</span> <span class="c1">// byte length for md5
</span>    <span class="k">if</span> <span class="p">(</span><span class="nb">strlen</span><span class="p">(</span><span class="nv">$key</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nv">$b</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$key</span> <span class="o">=</span> <span class="nb">pack</span><span class="p">(</span><span class="s2">"H*"</span><span class="p">,</span><span class="nb">md5</span><span class="p">(</span><span class="nv">$key</span><span class="p">));</span>
    <span class="p">}</span>
    <span class="nv">$key</span>  <span class="o">=</span> <span class="nb">str_pad</span><span class="p">(</span><span class="nv">$key</span><span class="p">,</span> <span class="nv">$b</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mh">0x00</span><span class="p">));</span>
    <span class="nv">$ipad</span> <span class="o">=</span> <span class="nb">str_pad</span><span class="p">(</span><span class="s1">''</span><span class="p">,</span> <span class="nv">$b</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mh">0x36</span><span class="p">));</span>
    <span class="nv">$opad</span> <span class="o">=</span> <span class="nb">str_pad</span><span class="p">(</span><span class="s1">''</span><span class="p">,</span> <span class="nv">$b</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mh">0x5c</span><span class="p">));</span>
    <span class="nv">$k_ipad</span> <span class="o">=</span> <span class="nv">$key</span> <span class="o">^</span> <span class="nv">$ipad</span> <span class="p">;</span>
    <span class="nv">$k_opad</span> <span class="o">=</span> <span class="nv">$key</span> <span class="o">^</span> <span class="nv">$opad</span><span class="p">;</span>
    <span class="k">return</span> <span class="nb">md5</span><span class="p">(</span><span class="nv">$k_opad</span>  <span class="o">.</span> <span class="nb">pack</span><span class="p">(</span><span class="s2">"H*"</span><span class="p">,</span><span class="nb">md5</span><span class="p">(</span><span class="nv">$k_ipad</span> <span class="o">.</span> <span class="nv">$data</span><span class="p">)));</span>
<span class="p">}</span>

<span class="nv">$hash</span> <span class="o">=</span>  <span class="nx">hmac</span><span class="p">(</span><span class="nv">$pass</span><span class="p">,</span> <span class="nv">$result</span><span class="p">);</span> <span class="cm">/* HASH for data received */</span>

<span class="nv">$body</span> <span class="o">.=</span> <span class="nv">$result</span><span class="o">.</span><span class="s2">"</span><span class="se">\r\n\r\n</span><span class="s2">Hash: "</span><span class="o">.</span><span class="nv">$hash</span><span class="o">.</span><span class="s2">"</span><span class="se">\r\n\r\n</span><span class="s2">Signature: "</span><span class="o">.</span><span class="nv">$signature</span><span class="o">.</span><span class="s2">"</span><span class="se">\r\n\r\n</span><span class="s2">ReturnSTR: "</span><span class="o">.</span><span class="nv">$return</span><span class="p">;</span>

<span class="k">if</span><span class="p">(</span><span class="nv">$hash</span> <span class="o">==</span> <span class="nv">$signature</span><span class="p">){</span>
    <span class="k">echo</span> <span class="s2">"Verified OK!"</span><span class="p">;</span>

    <span class="cm">/* ePayment response */</span>
    <span class="nv">$result_hash</span> <span class="o">=</span>  <span class="nx">hmac</span><span class="p">(</span><span class="nv">$pass</span><span class="p">,</span> <span class="nv">$return</span><span class="p">);</span>
    <span class="k">echo</span> <span class="s2">"&lt;EPAYMENT&gt;"</span><span class="o">.</span><span class="nv">$date_return</span><span class="o">.</span><span class="s2">"|"</span><span class="o">.</span><span class="nv">$result_hash</span><span class="o">.</span><span class="s2">"&lt;/EPAYMENT&gt;"</span><span class="p">;</span>

    <span class="cm">/* Begin automated procedures (START YOUR CODE)*/</span>


<span class="p">}</span>

<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="c"># Importing required libraries</span>

<span class="kn">import</span> <span class="nn">collections</span>
<span class="kn">import</span> <span class="nn">flask</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>

<span class="n">ipn</span> <span class="o">=</span> <span class="n">flask</span><span class="o">.</span><span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">Y</span><span class="si">%</span><span class="s">m</span><span class="si">%</span><span class="s">d</span><span class="si">%</span><span class="s">H</span><span class="si">%</span><span class="s">M</span><span class="si">%</span><span class="s">S'</span><span class="p">)</span>
<span class="c"># Your Merchant's Secret key</span>
<span class="n">secretkey</span> <span class="o">=</span> <span class="s">"SECRET_KEY"</span>


<span class="c"># You can change IPN URL with editing "/ipn"</span>
<span class="nd">@ipn.route</span><span class="p">(</span><span class="s">"/ipn"</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span> <span class="s">"GET"</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">webhook_post_handler</span><span class="p">():</span>
    <span class="c"># You can reach IPN requets's all @params with ipnparams</span>
    <span class="n">ipnparams</span> <span class="o">=</span> <span class="n">flask</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">values</span>
    <span class="k">print</span><span class="p">(</span><span class="n">ipnparams</span><span class="p">)</span>

    <span class="c"># Creating array for hash calculation</span>
    <span class="n">array</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">OrderedDict</span><span class="p">()</span>
    <span class="n">array</span><span class="p">[</span><span class="s">'IPN_PID'</span><span class="p">]</span> <span class="o">=</span> <span class="n">ipnparams</span><span class="p">[</span><span class="s">"IPN_PID[]"</span><span class="p">]</span>
    <span class="n">array</span><span class="p">[</span><span class="s">'IPN_PNAME'</span><span class="p">]</span> <span class="o">=</span> <span class="n">ipnparams</span><span class="p">[</span><span class="s">"IPN_PNAME[]"</span><span class="p">]</span>
    <span class="n">array</span><span class="p">[</span><span class="s">'IPN_DATE'</span><span class="p">]</span> <span class="o">=</span> <span class="n">ipnparams</span><span class="p">[</span><span class="s">"IPN_DATE"</span><span class="p">]</span>
    <span class="n">array</span><span class="p">[</span><span class="s">'DATE'</span><span class="p">]</span> <span class="o">=</span> <span class="n">date</span>

    <span class="c"># Initializing the hashstring @param</span>
    <span class="n">hashstring</span> <span class="o">=</span> <span class="s">''</span>

    <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">array</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="c"># Adding the UTF-8 byte length of each field value at the beginning of field value</span>
        <span class="n">hashstring</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">"utf8"</span><span class="p">)))</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="n">hashstring</span><span class="p">)</span>

    <span class="c"># Signature Calculation</span>
    <span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">secretkey</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashstring</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
    <span class="k">print</span><span class="p">(</span><span class="n">signature</span><span class="p">)</span>

    <span class="c"># Printing response</span>
    <span class="k">return</span> <span class="n">flask</span><span class="o">.</span><span class="n">Response</span><span class="p">(</span><span class="s">"&lt;EPAYMENT&gt;{0}|{1}&lt;/EPAYMENT&gt;"</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">date</span><span class="p">,</span> <span class="n">signature</span><span class="p">))</span>


<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">'__main__'</span><span class="p">:</span>
    <span class="c"># You can edit or delete port and debug mode.</span>
    <span class="n">ipn</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">port</span><span class="o">=</span><span class="mi">8080</span><span class="p">,</span> <span class="n">debug</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

</code></pre>
<blockquote>
<p>Örnek IPN Bildirimi</p>
</blockquote>
<pre class="highlight javascript tab-javascript"><code>    <span class="p">[</span><span class="nx">SALEDATE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">04</span> <span class="mi">22</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">12</span>
    <span class="p">[</span><span class="nx">PAYMENTDATE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">04</span> <span class="mi">22</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">20</span>
    <span class="p">[</span><span class="nx">REFNO</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">41666419</span>
    <span class="p">[</span><span class="nx">REFNOEXT</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">4159</span>
    <span class="p">[</span><span class="nx">ORDERNO</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">461</span>
    <span class="p">[</span><span class="nx">ORDERSTATUS</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">PAYMENT_AUTHORIZED</span>
    <span class="p">[</span><span class="nx">PAYMETHOD</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">CreditCard</span>
    <span class="p">[</span><span class="nx">PAYMETHOD_CODE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">CCVISAMC</span>
    <span class="p">[</span><span class="nx">FIRSTNAME</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">Ad</span>
    <span class="p">[</span><span class="nx">LASTNAME</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">Soyad</span>
    <span class="p">[</span><span class="nx">IDENTITY_NO</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="o">-</span>
    <span class="p">[</span><span class="nx">IDENTITY_ISSUER</span><span class="p">]</span> <span class="o">=&gt;</span> 
    <span class="p">[</span><span class="nx">CARD_TYPE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">Visa</span>
    <span class="p">[</span><span class="nx">IDENTITY_CNP</span><span class="p">]</span> <span class="o">=&gt;</span> 
    <span class="p">[</span><span class="nx">COMPANY</span><span class="p">]</span> <span class="o">=&gt;</span> 
    <span class="p">[</span><span class="nx">REGISTRATIONNUMBER</span><span class="p">]</span> <span class="o">=&gt;</span> 
    <span class="p">[</span><span class="nx">FISCALCODE</span><span class="p">]</span> <span class="o">=&gt;</span> 
    <span class="p">[</span><span class="nx">CBANKNAME</span><span class="p">]</span> <span class="o">=&gt;</span> 
    <span class="p">[</span><span class="nx">CBANKACCOUNT</span><span class="p">]</span> <span class="o">=&gt;</span> 
    <span class="p">[</span><span class="nx">ADDRESS1</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">Birinci</span> <span class="nx">Adres</span> <span class="nx">sat</span><span class="err">ı</span><span class="nx">r</span><span class="err">ı</span>
    <span class="p">[</span><span class="nx">ADDRESS2</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="err">İ</span><span class="nx">kinci</span> <span class="nx">Adres</span> <span class="nx">sat</span><span class="err">ı</span><span class="nx">r</span><span class="err">ı</span>
    <span class="p">[</span><span class="nx">CITY</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">ISTANBUL</span>
    <span class="p">[</span><span class="nx">STATE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">Ayaza</span><span class="err">ğ</span><span class="nx">a</span>
    <span class="p">[</span><span class="nx">ZIPCODE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">34000</span>
    <span class="p">[</span><span class="nx">COUNTRY</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">Turkey</span>
    <span class="p">[</span><span class="nx">COUNTRY_CODE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">tr</span>
    <span class="p">[</span><span class="nx">PHONE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">02129003711</span>
    <span class="p">[</span><span class="nx">FAX</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">02129003711</span>
    <span class="p">[</span><span class="nx">CUSTOMEREMAIL</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">mail</span><span class="p">@</span><span class="nd">mail</span><span class="p">.</span><span class="nx">com</span>
    <span class="p">[</span><span class="nx">FIRSTNAME_D</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">Ad</span>
    <span class="p">[</span><span class="nx">LASTNAME_D</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">Soyad</span>
    <span class="p">[</span><span class="nx">COMPANY_D</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">PayU</span> <span class="err">Ö</span><span class="nx">deme</span> <span class="nx">Kurulu</span><span class="err">ş</span><span class="nx">u</span> <span class="nx">A</span><span class="p">.</span><span class="err">Ş</span><span class="p">.</span>
    <span class="p">[</span><span class="nx">ADDRESS1_D</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">Birinci</span> <span class="nx">Adres</span> <span class="nx">sat</span><span class="err">ı</span><span class="nx">r</span><span class="err">ı</span>
    <span class="p">[</span><span class="nx">ADDRESS2_D</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="err">İ</span><span class="nx">kinci</span> <span class="nx">Adres</span> <span class="nx">sat</span><span class="err">ı</span><span class="nx">r</span><span class="err">ı</span>
    <span class="p">[</span><span class="nx">CITY_D</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">ISTANBUL</span>
    <span class="p">[</span><span class="nx">STATE_D</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">TR</span>
    <span class="p">[</span><span class="nx">ZIPCODE_D</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">34000</span>
    <span class="p">[</span><span class="nx">COUNTRY_D</span><span class="p">]</span> <span class="o">=&gt;</span> 
    <span class="p">[</span><span class="nx">COUNTRY_D_CODE</span><span class="p">]</span> <span class="o">=&gt;</span> 
    <span class="p">[</span><span class="nx">PHONE_D</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">02129003711</span>
    <span class="p">[</span><span class="nx">EMAIL_D</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">mail</span><span class="p">@</span><span class="nd">mail</span><span class="p">.</span><span class="nx">com</span>
    <span class="p">[</span><span class="nx">IPADDRESS</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mf">127.0</span><span class="p">.</span><span class="mf">0.1</span>
    <span class="p">[</span><span class="nx">IPCOUNTRY</span><span class="p">]</span> <span class="o">=&gt;</span> 
    <span class="p">[</span><span class="nx">COMPLETE_DATE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">0000</span><span class="o">-</span><span class="mi">00</span><span class="o">-</span><span class="mi">00</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
    <span class="p">[</span><span class="nx">CURRENCY</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">TRY</span>
    <span class="p">[</span><span class="nx">LANGUAGE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">tr</span>
    <span class="p">[</span><span class="nx">IPN_PID</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="nb">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">52580647</span>
        <span class="p">)</span>

    <span class="p">[</span><span class="nx">IPN_PNAME</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="nb">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">Test</span> <span class="err">Ü</span><span class="nx">r</span><span class="err">ü</span><span class="nx">n</span><span class="err">ü</span>
        <span class="p">)</span>

    <span class="p">[</span><span class="nx">IPN_PCODE</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="nb">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">Test</span> <span class="nx">Kodu</span>
        <span class="p">)</span>

    <span class="p">[</span><span class="nx">IPN_INFO</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="nb">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">Test</span> <span class="nx">A</span><span class="err">çı</span><span class="nx">klamas</span><span class="err">ı</span>
        <span class="p">)</span>

    <span class="p">[</span><span class="nx">IPN_QTY</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="nb">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">1</span>
        <span class="p">)</span>

    <span class="p">[</span><span class="nx">IPN_PRICE</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="nb">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mf">5.00</span>
        <span class="p">)</span>

    <span class="p">[</span><span class="nx">IPN_VAT</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="nb">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mf">0.90</span>
        <span class="p">)</span>

    <span class="p">[</span><span class="nx">IPN_VER</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="nb">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> 
        <span class="p">)</span>

    <span class="p">[</span><span class="nx">IPN_DISCOUNT</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="nb">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mf">0.00</span>
        <span class="p">)</span>

    <span class="p">[</span><span class="nx">IPN_PROMONAME</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="nb">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> 
        <span class="p">)</span>

    <span class="p">[</span><span class="nx">IPN_PROMOCODE</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="nb">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> 
        <span class="p">)</span>

    <span class="p">[</span><span class="nx">IPN_ORDER_COSTS</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="nb">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">0</span>
        <span class="p">)</span>

    <span class="p">[</span><span class="nx">IPN_DELIVEREDCODES</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="nb">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">52580647</span><span class="p">]</span> <span class="o">=&gt;</span> 
        <span class="p">)</span>

    <span class="p">[</span><span class="nx">IPN_DOWNLOAD_LINK</span><span class="p">]</span> <span class="o">=&gt;</span> 
    <span class="p">[</span><span class="nx">IPN_TOTAL</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="nb">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mf">5.90</span>
        <span class="p">)</span>

    <span class="p">[</span><span class="nx">IPN_TOTALGENERAL</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mf">10.90</span>
    <span class="p">[</span><span class="nx">IPN_SHIPPING</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mf">5.00</span>
    <span class="p">[</span><span class="nx">IPN_COMMISSION</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mf">0.26</span>
    <span class="p">[</span><span class="nx">IPN_DATE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">20171004224020</span>
    <span class="p">[</span><span class="nx">IPN_PAID_AMOUNT</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mf">10.90</span>
    <span class="p">[</span><span class="nx">IPN_INSTALLMENTS_PROGRAM</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">Axess</span>
    <span class="p">[</span><span class="nx">IPN_INSTALLMENTS_NUMBER</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">One</span> <span class="nx">time</span> <span class="nx">payment</span>
    <span class="p">[</span><span class="nx">IPN_INSTALLMENTS_PROFIT</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mf">0.00</span>
    <span class="p">[</span><span class="nx">AUTH_CODE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">380978</span>
    <span class="p">[</span><span class="nx">BANK_MERCHANT_ID</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">100100000</span>
    <span class="p">[</span><span class="nx">BANK_RRN</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">727722200216</span>
    <span class="p">[</span><span class="nx">CARD_BIN</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">435508</span>
    <span class="p">[</span><span class="nx">CARD_HOLDER_NAME</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">Ad</span> <span class="nx">Soyad</span>
    <span class="p">[</span><span class="nx">CARD_MASK</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">4355</span><span class="o">-</span><span class="nx">xxxx</span><span class="o">-</span><span class="nx">xxxx</span><span class="o">-</span><span class="mi">4358</span>
    <span class="p">[</span><span class="nx">ISSUING_BANK</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">AKBA</span>
    <span class="p">[</span><span class="nx">NUMBER_OF_INSTALLMENTS</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">0</span>
    <span class="p">[</span><span class="nx">TERMINAL_BANK</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">AKBA</span>
    <span class="p">[</span><span class="nx">HASH</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">d7e0e21f9a890a5bfcaa2cda50ece7bf</span>
</code></pre><pre class="highlight python tab-python"><code>    <span class="p">[</span><span class="n">SALEDATE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mo">04</span> <span class="mi">22</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">12</span>
    <span class="p">[</span><span class="n">PAYMENTDATE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mo">04</span> <span class="mi">22</span><span class="p">:</span><span class="mi">40</span><span class="p">:</span><span class="mi">20</span>
    <span class="p">[</span><span class="n">REFNO</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">41666419</span>
    <span class="p">[</span><span class="n">REFNOEXT</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">4159</span>
    <span class="p">[</span><span class="n">ORDERNO</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">461</span>
    <span class="p">[</span><span class="n">ORDERSTATUS</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">PAYMENT_AUTHORIZED</span>
    <span class="p">[</span><span class="n">PAYMETHOD</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">CreditCard</span>
    <span class="p">[</span><span class="n">PAYMETHOD_CODE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">CCVISAMC</span>
    <span class="p">[</span><span class="n">FIRSTNAME</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">Ad</span>
    <span class="p">[</span><span class="n">LASTNAME</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">Soyad</span>
    <span class="p">[</span><span class="n">IDENTITY_NO</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="o">-</span>
    <span class="p">[</span><span class="n">IDENTITY_ISSUER</span><span class="p">]</span> <span class="o">=&gt;</span> 
    <span class="p">[</span><span class="n">CARD_TYPE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">Visa</span>
    <span class="p">[</span><span class="n">IDENTITY_CNP</span><span class="p">]</span> <span class="o">=&gt;</span> 
    <span class="p">[</span><span class="n">COMPANY</span><span class="p">]</span> <span class="o">=&gt;</span> 
    <span class="p">[</span><span class="n">REGISTRATIONNUMBER</span><span class="p">]</span> <span class="o">=&gt;</span> 
    <span class="p">[</span><span class="n">FISCALCODE</span><span class="p">]</span> <span class="o">=&gt;</span> 
    <span class="p">[</span><span class="n">CBANKNAME</span><span class="p">]</span> <span class="o">=&gt;</span> 
    <span class="p">[</span><span class="n">CBANKACCOUNT</span><span class="p">]</span> <span class="o">=&gt;</span> 
    <span class="p">[</span><span class="n">ADDRESS1</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">Birinci</span> <span class="n">Adres</span> <span class="n">sat</span><span class="err">ı</span><span class="n">r</span><span class="err">ı</span>
    <span class="p">[</span><span class="n">ADDRESS2</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="err">İ</span><span class="n">kinci</span> <span class="n">Adres</span> <span class="n">sat</span><span class="err">ı</span><span class="n">r</span><span class="err">ı</span>
    <span class="p">[</span><span class="n">CITY</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">ISTANBUL</span>
    <span class="p">[</span><span class="n">STATE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">Ayaza</span><span class="err">ğ</span><span class="n">a</span>
    <span class="p">[</span><span class="n">ZIPCODE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">34000</span>
    <span class="p">[</span><span class="n">COUNTRY</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">Turkey</span>
    <span class="p">[</span><span class="n">COUNTRY_CODE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">tr</span>
    <span class="p">[</span><span class="n">PHONE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mo">0212</span><span class="mi">9003711</span>
    <span class="p">[</span><span class="n">FAX</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mo">0212</span><span class="mi">9003711</span>
    <span class="p">[</span><span class="n">CUSTOMEREMAIL</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">mail</span><span class="nd">@mail.com</span>
    <span class="p">[</span><span class="n">FIRSTNAME_D</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">Ad</span>
    <span class="p">[</span><span class="n">LASTNAME_D</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">Soyad</span>
    <span class="p">[</span><span class="n">COMPANY_D</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">PayU</span> <span class="err">Ö</span><span class="n">deme</span> <span class="n">Kurulu</span><span class="err">ş</span><span class="n">u</span> <span class="n">A</span><span class="o">.</span><span class="err">Ş</span><span class="o">.</span>
    <span class="p">[</span><span class="n">ADDRESS1_D</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">Birinci</span> <span class="n">Adres</span> <span class="n">sat</span><span class="err">ı</span><span class="n">r</span><span class="err">ı</span>
    <span class="p">[</span><span class="n">ADDRESS2_D</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="err">İ</span><span class="n">kinci</span> <span class="n">Adres</span> <span class="n">sat</span><span class="err">ı</span><span class="n">r</span><span class="err">ı</span>
    <span class="p">[</span><span class="n">CITY_D</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">ISTANBUL</span>
    <span class="p">[</span><span class="n">STATE_D</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">TR</span>
    <span class="p">[</span><span class="n">ZIPCODE_D</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">34000</span>
    <span class="p">[</span><span class="n">COUNTRY_D</span><span class="p">]</span> <span class="o">=&gt;</span> 
    <span class="p">[</span><span class="n">COUNTRY_D_CODE</span><span class="p">]</span> <span class="o">=&gt;</span> 
    <span class="p">[</span><span class="n">PHONE_D</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mo">0212</span><span class="mi">9003711</span>
    <span class="p">[</span><span class="n">EMAIL_D</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">mail</span><span class="nd">@mail.com</span>
    <span class="p">[</span><span class="n">IPADDRESS</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mf">127.0</span><span class="o">.</span><span class="mf">0.1</span>
    <span class="p">[</span><span class="n">IPCOUNTRY</span><span class="p">]</span> <span class="o">=&gt;</span> 
    <span class="p">[</span><span class="n">COMPLETE_DATE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mo">0000</span><span class="o">-</span><span class="mo">00</span><span class="o">-</span><span class="mo">00</span> <span class="mo">00</span><span class="p">:</span><span class="mo">00</span><span class="p">:</span><span class="mo">00</span>
    <span class="p">[</span><span class="n">CURRENCY</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">TRY</span>
    <span class="p">[</span><span class="n">LANGUAGE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">tr</span>
    <span class="p">[</span><span class="n">IPN_PID</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="n">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">52580647</span>
        <span class="p">)</span>

    <span class="p">[</span><span class="n">IPN_PNAME</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="n">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">Test</span> <span class="err">Ü</span><span class="n">r</span><span class="err">ü</span><span class="n">n</span><span class="err">ü</span>
        <span class="p">)</span>

    <span class="p">[</span><span class="n">IPN_PCODE</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="n">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">Test</span> <span class="n">Kodu</span>
        <span class="p">)</span>

    <span class="p">[</span><span class="n">IPN_INFO</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="n">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">Test</span> <span class="n">A</span><span class="err">çı</span><span class="n">klamas</span><span class="err">ı</span>
        <span class="p">)</span>

    <span class="p">[</span><span class="n">IPN_QTY</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="n">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">1</span>
        <span class="p">)</span>

    <span class="p">[</span><span class="n">IPN_PRICE</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="n">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mf">5.00</span>
        <span class="p">)</span>

    <span class="p">[</span><span class="n">IPN_VAT</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="n">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mf">0.90</span>
        <span class="p">)</span>

    <span class="p">[</span><span class="n">IPN_VER</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="n">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> 
        <span class="p">)</span>

    <span class="p">[</span><span class="n">IPN_DISCOUNT</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="n">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mf">0.00</span>
        <span class="p">)</span>

    <span class="p">[</span><span class="n">IPN_PROMONAME</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="n">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> 
        <span class="p">)</span>

    <span class="p">[</span><span class="n">IPN_PROMOCODE</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="n">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> 
        <span class="p">)</span>

    <span class="p">[</span><span class="n">IPN_ORDER_COSTS</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="n">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">0</span>
        <span class="p">)</span>

    <span class="p">[</span><span class="n">IPN_DELIVEREDCODES</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="n">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">52580647</span><span class="p">]</span> <span class="o">=&gt;</span> 
        <span class="p">)</span>

    <span class="p">[</span><span class="n">IPN_DOWNLOAD_LINK</span><span class="p">]</span> <span class="o">=&gt;</span> 
    <span class="p">[</span><span class="n">IPN_TOTAL</span><span class="p">[]]</span> <span class="o">=&gt;</span> <span class="n">Array</span>
        <span class="p">(</span>
            <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mf">5.90</span>
        <span class="p">)</span>

    <span class="p">[</span><span class="n">IPN_TOTALGENERAL</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mf">10.90</span>
    <span class="p">[</span><span class="n">IPN_SHIPPING</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mf">5.00</span>
    <span class="p">[</span><span class="n">IPN_COMMISSION</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mf">0.26</span>
    <span class="p">[</span><span class="n">IPN_DATE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">20171004224020</span>
    <span class="p">[</span><span class="n">IPN_PAID_AMOUNT</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mf">10.90</span>
    <span class="p">[</span><span class="n">IPN_INSTALLMENTS_PROGRAM</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">Axess</span>
    <span class="p">[</span><span class="n">IPN_INSTALLMENTS_NUMBER</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">One</span> <span class="n">time</span> <span class="n">payment</span>
    <span class="p">[</span><span class="n">IPN_INSTALLMENTS_PROFIT</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mf">0.00</span>
    <span class="p">[</span><span class="n">AUTH_CODE</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">380978</span>
    <span class="p">[</span><span class="n">BANK_MERCHANT_ID</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">100100000</span>
    <span class="p">[</span><span class="n">BANK_RRN</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">727722200216</span>
    <span class="p">[</span><span class="n">CARD_BIN</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">435508</span>
    <span class="p">[</span><span class="n">CARD_HOLDER_NAME</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">Ad</span> <span class="n">Soyad</span>
    <span class="p">[</span><span class="n">CARD_MASK</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">4355</span><span class="o">-</span><span class="n">xxxx</span><span class="o">-</span><span class="n">xxxx</span><span class="o">-</span><span class="mi">4358</span>
    <span class="p">[</span><span class="n">ISSUING_BANK</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">AKBA</span>
    <span class="p">[</span><span class="n">NUMBER_OF_INSTALLMENTS</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">0</span>
    <span class="p">[</span><span class="n">TERMINAL_BANK</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">AKBA</span>
    <span class="p">[</span><span class="n">HASH</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="n">d7e0e21f9a890a5bfcaa2cda50ece7bf</span>
</code></pre><pre class="highlight php tab-php"><code>    [SALEDATE] =&gt; 2017-10-04 22:40:12
    [PAYMENTDATE] =&gt; 2017-10-04 22:40:20
    [REFNO] =&gt; 41666419
    [REFNOEXT] =&gt; 4159
    [ORDERNO] =&gt; 461
    [ORDERSTATUS] =&gt; PAYMENT_AUTHORIZED
    [PAYMETHOD] =&gt; CreditCard
    [PAYMETHOD_CODE] =&gt; CCVISAMC
    [FIRSTNAME] =&gt; Ad
    [LASTNAME] =&gt; Soyad
    [IDENTITY_NO] =&gt; -
    [IDENTITY_ISSUER] =&gt; 
    [CARD_TYPE] =&gt; Visa
    [IDENTITY_CNP] =&gt; 
    [COMPANY] =&gt; 
    [REGISTRATIONNUMBER] =&gt; 
    [FISCALCODE] =&gt; 
    [CBANKNAME] =&gt; 
    [CBANKACCOUNT] =&gt; 
    [ADDRESS1] =&gt; Birinci Adres satırı
    [ADDRESS2] =&gt; İkinci Adres satırı
    [CITY] =&gt; ISTANBUL
    [STATE] =&gt; Ayazağa
    [ZIPCODE] =&gt; 34000
    [COUNTRY] =&gt; Turkey
    [COUNTRY_CODE] =&gt; tr
    [PHONE] =&gt; 02129003711
    [FAX] =&gt; 02129003711
    [CUSTOMEREMAIL] =&gt; mail@mail.com
    [FIRSTNAME_D] =&gt; Ad
    [LASTNAME_D] =&gt; Soyad
    [COMPANY_D] =&gt; PayU Ödeme Kuruluşu A.Ş.
    [ADDRESS1_D] =&gt; Birinci Adres satırı
    [ADDRESS2_D] =&gt; İkinci Adres satırı
    [CITY_D] =&gt; ISTANBUL
    [STATE_D] =&gt; TR
    [ZIPCODE_D] =&gt; 34000
    [COUNTRY_D] =&gt; 
    [COUNTRY_D_CODE] =&gt; 
    [PHONE_D] =&gt; 02129003711
    [EMAIL_D] =&gt; mail@mail.com
    [IPADDRESS] =&gt; 127.0.0.1
    [IPCOUNTRY] =&gt; 
    [COMPLETE_DATE] =&gt; 0000-00-00 00:00:00
    [CURRENCY] =&gt; TRY
    [LANGUAGE] =&gt; tr
    [IPN_PID[]] =&gt; Array
        (
            [0] =&gt; 52580647
        )

    [IPN_PNAME[]] =&gt; Array
        (
            [0] =&gt; Test Ürünü
        )

    [IPN_PCODE[]] =&gt; Array
        (
            [0] =&gt; Test Kodu
        )

    [IPN_INFO[]] =&gt; Array
        (
            [0] =&gt; Test Açıklaması
        )

    [IPN_QTY[]] =&gt; Array
        (
            [0] =&gt; 1
        )

    [IPN_PRICE[]] =&gt; Array
        (
            [0] =&gt; 5.00
        )

    [IPN_VAT[]] =&gt; Array
        (
            [0] =&gt; 0.90
        )

    [IPN_VER[]] =&gt; Array
        (
            [0] =&gt; 
        )

    [IPN_DISCOUNT[]] =&gt; Array
        (
            [0] =&gt; 0.00
        )

    [IPN_PROMONAME[]] =&gt; Array
        (
            [0] =&gt; 
        )

    [IPN_PROMOCODE[]] =&gt; Array
        (
            [0] =&gt; 
        )

    [IPN_ORDER_COSTS[]] =&gt; Array
        (
            [0] =&gt; 0
        )

    [IPN_DELIVEREDCODES[]] =&gt; Array
        (
            [52580647] =&gt; 
        )

    [IPN_DOWNLOAD_LINK] =&gt; 
    [IPN_TOTAL[]] =&gt; Array
        (
            [0] =&gt; 5.90
        )

    [IPN_TOTALGENERAL] =&gt; 10.90
    [IPN_SHIPPING] =&gt; 5.00
    [IPN_COMMISSION] =&gt; 0.26
    [IPN_DATE] =&gt; 20171004224020
    [IPN_PAID_AMOUNT] =&gt; 10.90
    [IPN_INSTALLMENTS_PROGRAM] =&gt; Axess
    [IPN_INSTALLMENTS_NUMBER] =&gt; One time payment
    [IPN_INSTALLMENTS_PROFIT] =&gt; 0.00
    [AUTH_CODE] =&gt; 380978
    [BANK_MERCHANT_ID] =&gt; 100100000
    [BANK_RRN] =&gt; 727722200216
    [CARD_BIN] =&gt; 435508
    [CARD_HOLDER_NAME] =&gt; Ad Soyad
    [CARD_MASK] =&gt; 4355-xxxx-xxxx-4358
    [ISSUING_BANK] =&gt; AKBA
    [NUMBER_OF_INSTALLMENTS] =&gt; 0
    [TERMINAL_BANK] =&gt; AKBA
    [HASH] =&gt; d7e0e21f9a890a5bfcaa2cda50ece7bf
</code></pre>
<p>PayU sisteminden herhangi bir başarılı sipariş gerçekleştiğinde, eğer IPN servisi kurulumu yapılmış ise, sistem sizin tarafınızdan belirlenen URL’ye siparişe ait detayları içeren bir bildirim gönderecektir. Bu bildirim HTTP POST metodu ile gönderilir</p>

<aside class="notice">
Hash alanları büyük küçük harf duyarlıdır.
</aside>

<aside class="notice">
Zaman fonksiyonlarının kullanımı [YmdGis] (Y-year-4 digits, m-month-2 digits, d-day-2 digits, G-hour-2 digits, i-minutes-2 digits, s-seconds-2 digits) formatında olmalıdır.
</aside>

<aside class="notice">
Bildirimin ulaştığını <EPAYMENT> tagleri ile yanıt dönerek onaylayana kadar belirli aralıklar ile tekrar gönderilecektir.
</aside>

<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>SALEDATE</td>
<td>Satış işleminin başlangıçının iletildiği parametredir</td>
</tr>
<tr>
<td>PAYMENTDATE</td>
<td>Satış zamanının iletildiği parametredir</td>
</tr>
<tr>
<td>REFNO</td>
<td>PayU referans numarasının iletildiği parametredir.</td>
</tr>
<tr>
<td>REFNOEXT</td>
<td>Üye iş yeri sipariş numarasının iletildiği parametredir.</td>
</tr>
<tr>
<td>ORDERNO</td>
<td>PayU tarafındaki sipariş sıra numarasının iletildiği parametredir.</td>
</tr>
<tr>
<td>ORDERSTATUS</td>
<td>Sipariş durumunun iletildiği parametredir. <code> <strong>PAYMENT_AUTHORIZED</strong> – Otorizasyon alındığını ileten durum mesajıdır. <strong>PAYMENT_RECEIVED</strong> – Wire ödeme alındığını ileten durum mesajıdır. <strong>COMPLETE</strong> – Tamamlanmış işlemlerde iletilen durum mesajıdır. </code></td>
</tr>
<tr>
<td>PAYMETHOD</td>
<td>Maksimum 40 karakter ile ödeme yönteminin iletildiği parametredir.</td>
</tr>
<tr>
<td>PAYMETHOD_CODE</td>
<td>Ödeme yöntemi kodunun iletildiği parametredir.</td>
</tr>
<tr>
<td>FIRSTNAME</td>
<td>Fatura Ad bilgisinin iletildiği parametredir (Maksimum 40 Karakter)</td>
</tr>
<tr>
<td>LASTNAME</td>
<td>Fatura Soyad bilgisinin iletildiği parametredir (Maksimum 40 Karakter)</td>
</tr>
<tr>
<td>IDENTITY_NO</td>
<td>Vatandaşlık / Vergi bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>IDENTITY_ISSUER</td>
<td>Vatandaşlık/Vergi belge sağlayıcısının tipinin iletildiği parametredir.</td>
</tr>
<tr>
<td>CARD_TYPE</td>
<td>Kart Tipinin iletildiği parametredir.</td>
</tr>
<tr>
<td>IDENTITY_CNP</td>
<td>Vatandaşlık/Vergi belgesinin tipinin iletildiği parametredir.</td>
</tr>
<tr>
<td>COMPANY</td>
<td>Fatura Firma bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>REGISTRATIONNUMBER</td>
<td>Vergi numarasının iletildiği parametredir.</td>
</tr>
<tr>
<td>FISCALCODE</td>
<td>Mali Kodun iletildiği parametredir</td>
</tr>
<tr>
<td>CBANKNAME</td>
<td>Banka isminin iletildiği parametredir.</td>
</tr>
<tr>
<td>CBANKACCOUNT</td>
<td>Banka hesap bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>ADDRESS1</td>
<td>Fatura Adres Bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>ADDRESS2</td>
<td>Adres Bilgisinin ikinci satırnının iletildiği parametredir.</td>
</tr>
<tr>
<td>CITY</td>
<td>İl bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>STATE</td>
<td>İlçe/Semt bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>ZIPCODE</td>
<td>Posta kodunun iletildiği parametredir.</td>
</tr>
<tr>
<td>COUNTRY</td>
<td>Ülke bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>COUNTRY_CODE</td>
<td>Ülke kodunun iletildiği parametredir.</td>
</tr>
<tr>
<td>PHONE</td>
<td>Telefon numarasının iletildiği parametredir.</td>
</tr>
<tr>
<td>FAX</td>
<td>Fax numarasının iletildiği parametredir.</td>
</tr>
<tr>
<td>CUSTOMEREMAIL</td>
<td>Mail bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>FIRSTNAME_D</td>
<td>Teslimat Ad bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>LASTNAME_D</td>
<td>Teslimat Soyad bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>COMPANY_D</td>
<td>Teslimat Firma bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>ADDRESS1_D</td>
<td>Teslimat Adres bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>ADDRESS2_D</td>
<td>Teslimat Adres bilgisinin ikinci satırının iletildiği parametredir.</td>
</tr>
<tr>
<td>CITY_D</td>
<td>Teslimat Şehir bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>STATE_D</td>
<td>Teslimat İlçe/Semt bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>ZIPCODE_D</td>
<td>Teslimat Posta kodu bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>COUNTRY_D</td>
<td>Teslimat Ülke bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>COUNTRY_D_CODE</td>
<td>Teslimat Ülke kodunun iletildiği parametredir.</td>
</tr>
<tr>
<td>PHONE_D</td>
<td>Teslimat Telefon numara bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>EMAIL_D</td>
<td>Teslimat Mail bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>IPADDRESS</td>
<td>Kullanıcı IP adresinin iletildiği parametredir.</td>
</tr>
<tr>
<td>IPCOUNTRY</td>
<td>Kullanıcı IP adresinin ülke bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>COMPLETE_DATE</td>
<td>Sipariş tamamlanma zamanının bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>CURRENCY</td>
<td>Para birimin iletildiği parametredir.</td>
</tr>
<tr>
<td>LANGUAGE</td>
<td>İşlem dilinin iletildiği parametredir.</td>
</tr>
<tr>
<td>IPN_PID</td>
<td>Ürün ID&#39;sinin iletildiği parametredir.</td>
</tr>
<tr>
<td>IPN_PNAME</td>
<td>Ürün isminin iletildiği parametredir.</td>
</tr>
<tr>
<td>IPN_PCODE</td>
<td>Ürün kodunun iletildiği parametredir.</td>
</tr>
<tr>
<td>IPN_INFO</td>
<td>Ürün açıklamasının iletildiği parametredir.</td>
</tr>
<tr>
<td>IPN_QTY</td>
<td>Ürün adedinin iletildiği parametredir.</td>
</tr>
<tr>
<td>IPN_PRICE</td>
<td>Ürün adet fiyatının iletildiği parametredir.</td>
</tr>
<tr>
<td>IPN_VAT</td>
<td>Ürün vergi fiyatının iletildiği parametredir.</td>
</tr>
<tr>
<td>IPN_VER</td>
<td>Ürün versiyon bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>IPN_DISCOUNT</td>
<td>Toplam indirim tutarının iletildiği parametredir.</td>
</tr>
<tr>
<td>IPN_PROMONAME</td>
<td>Promosyon isminin iletildiği parametredir.</td>
</tr>
<tr>
<td>IPN_PROMOCODE</td>
<td>Promosyon kodunun iletildiği parametredir.</td>
</tr>
<tr>
<td>IPN_ORDER_COSTS</td>
<td>Sipariş masraflarının iletildiği parametredir.</td>
</tr>
<tr>
<td>IPN_DELIVEREDCODES</td>
<td>Teslimat kodlarının iletildiği parametredir.</td>
</tr>
<tr>
<td>IPN_DOWNLOAD_LINK</td>
<td>Sanal ürün indirme linkinin iletildiği parametredir.</td>
</tr>
<tr>
<td>IPN_TOTAL</td>
<td>Ara toplam ücretinin iletildiği parametredir.</td>
</tr>
<tr>
<td>IPN_TOTALGENERAL</td>
<td>Toplam ücretin iletildiği parametredir.</td>
</tr>
<tr>
<td>IPN_SHIPPING</td>
<td>Kargo ücretinin iletildiği parametredir.</td>
</tr>
<tr>
<td>IPN_COMMISSION</td>
<td>Komisyon ücretinin iletildiği parametredir.</td>
</tr>
<tr>
<td>IPN_DATE</td>
<td>IPN teslimat zaman bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>IPN_PAID_AMOUNT</td>
<td>Ödenmiş tutar bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>IPN_INSTALLMENTS_PROGRAM</td>
<td>Kart program bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>IPN_INSTALLMENTS_NUMBER</td>
<td>Taksit bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>IPN_INSTALLMENTS_PROFIT</td>
<td>Taksit komisyon ücret bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>AUTH_CODE</td>
<td>Otorizasyon kodunun iletildiği parametredir.</td>
</tr>
<tr>
<td>BANK_MERCHANT_ID</td>
<td>İşlemin gerçekleştiği sanal pos ID&#39;sinin iletildiği parametredir.</td>
</tr>
<tr>
<td>BANK_RRN</td>
<td>İade işlem numarasının iletildiği parametredir.</td>
</tr>
<tr>
<td>CARD_BIN</td>
<td>İşlemde kullanılan kart BIN bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>CARD_HOLDER_NAME</td>
<td>Kart sahibinin Ad Soyad bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>CARD_MASK</td>
<td>Kartın maskeli halinin iletildiği parametredir.</td>
</tr>
<tr>
<td>ISSUING_BANK</td>
<td>Kart bankasının iletildiği parametredir.</td>
</tr>
<tr>
<td>NUMBER_OF_INSTALLMENTS</td>
<td>Taksit bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>TERMINAL_BANK</td>
<td>İşlemin gerçekleştiği banka posunun iletildiği parametredir.</td>
</tr>
<tr>
<td>HASH</td>
<td>PayU tarafından gönderilen salt IPN bildirimi için hesaplanan Hash bilgisidir.</td>
</tr>
</tbody></table>
<h3 id='ipn-hash-hesaplama'>IPN Hash Hesaplama</h3>
<aside class="notice">
PayU IPN bildiriminin iletildiğini onaylamak için EPAYMENT tagleri aşağıda ki gibi bir yanıt bekler.
</aside>

<aside class="notice">
Hash hesaplamada kullanılan değerler örnek IPN bildirimindeki değerlerdir
</aside>

<aside class="notice">
Parametre değerlerinin uzunluğu UTF-8 byte olarak alınmalıdır.
</aside>

<p><code>&lt;EPAYMENT&gt;DATE|HASH&lt;/EPAYMENT&gt;</code></p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>IPN_PID[0]</td>
<td>IPN bildirimindeki ilk ürünün PID değeri.</td>
</tr>
<tr>
<td>IPN_PNAME[0]</td>
<td>IPN bildirimindeki ilk ürününün ismi.</td>
</tr>
<tr>
<td>DATE</td>
<td>Bu parametre kullanılarak bildirim zamanını (YmdGis) (Y-year-4 digits, m-month-2 digits, d-day-2 digits, G-hour-2 digits, i-minutes-2 digits, s-seconds-2 digits) formatında iletilmeli.</td>
</tr>
<tr>
<td>HASH</td>
<td>Bu parametre bildirim sırasında alınan <code>IPN_PID[], IPN_PNAME[], IPN_DATE,DATE</code> parametreleri ile dizi oluşturulup, başlarına UTF-8 Bayt olarak uzunluğu eklendikten sonra üye işyeri kodlama anahtarınız kullanılarak HMAC_MD5 algoritması ile elde edilen Hash değeridir.</td>
</tr>
</tbody></table>

<p><strong>Örnek IPN bildirimindeki HASH hesaplama için kullanılacak değerler aşağıdaki gibidir.</strong> <br>
<code>IPN_PID[0] = 52580647</code> <br>
<code>IPN_PNAME[0] = Test Ürünü</code> <br>
<code>IPN_DATE = 20171004224020</code> <br>
<code>DATE= 20171004224020</code> <br></p>

<aside class="notice">
 IPN Servisinde hash hesaplaması yaparken, Key'e göre sıralamamalısınız, yukarıdaki örnek sıralama ile işleme almalısınız.
</aside>

<p><strong>Bu değerlerin uzunluğu alınarak yukarıda gösterildiği sıra ile sıralanmalıdır.</strong> <br>
<code>(len)IPN_PID(len)IPN_PNAME(len)IPN_DATE(len)DATE</code><br>
<code>85258064713Test Ürünü14201710042240201420171004224017</code></p>

<p><strong>Değerler üye işyeri kodlama anahtarınız kullanılarak HMAC_MD5 algoritması ile haslenmelidir.</strong></p>

<ul>
<li>Kullanılan Kodlama Anahtarı: SECRET_KEY</li>
</ul>

<p><strong>Elde edilen değer:</strong> <code>79db0725ecdc57decf9982b3917b3ff4</code></p>
<h3 id='bildirime-yanit-verme'>Bildirime Yanıt Verme</h3>
<p>Elde edilen değer ve DATE değeri EPAYMENT Taglerinin arasına <code>&lt;EPAYMENT&gt;DATE|HASH&lt;/EPAYMENT&gt;</code> formatına eklenerek HTTP POST alındığı sırada yanıt dönülmelidir.<br>
<code>&lt;EPAYMENT&gt;20171004224017|79db0725ecdc57decf9982b3917b3ff4&lt;/EPAYMENT&gt;</code></p>
<h1 id='ios-servisi-islem-sorgu-servisi'>IOS Servisi(İşlem Sorgu Servisi)</h1><h3 id='ios-sorgusu-istek-parametreleri'>IOS Sorgusu İstek Parametreleri</h3>
<<<<<<< HEAD
<p>Endpoint POST | GET <code>https://secure.payu.com.tr/order/ios.php</code></p>

=======
>>>>>>> 3ed3dff92d6b76228aaccf3922e0c87dca9c7fe9
<blockquote>
<p>IOS Sorgu Örneği</p>

<p><a href="https://github.com/PayUTurkiye/PayUTR_CSharp/raw/master/PayU_TR_CSharp.zip"> C Sharp Örnek Proje ve Kodları buradan indirebilirsiniz. </a></p>
</blockquote>
<<<<<<< HEAD
<pre class="highlight plaintext"><code>IOSRequest request = new IOSRequest();
request.MERCHANT = "OPU_TEST";
request.REFNOEXT = refnoExt;
Options options = new Options();
options.Url = "https://secure.payu.com.tr/order/ios.php";
options.SecretKey = "SECRET_KEY";
var response = IOSRequest.Execute(request, options);
=======
<pre class="highlight plaintext"><code>            IOSRequest request = new IOSRequest();
            request.MERCHANT = "OPU_TEST";
            request.REFNOEXT = refnoExt;
            Options options = new Options();
            options.Url = "https://secure.payu.com.tr/order/ios.php";
            options.SecretKey = "SECRET_KEY";
            var response = IOSRequest.Execute(request, options);
>>>>>>> 3ed3dff92d6b76228aaccf3922e0c87dca9c7fe9
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">EndPointURL</span> <span class="o">=</span> <span class="s1">'https://secure.payu.com.tr/order/ios.php'</span><span class="p">;</span>
<span class="nx">SecretKey</span> <span class="o">=</span> <span class="s1">'SECRET_KEY'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">moment</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moment'</span><span class="p">);</span>
<span class="nx">date</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">.</span><span class="nx">utc</span><span class="p">().</span><span class="nx">format</span><span class="p">(</span><span class="s1">'YYYY-MM-DD HH:mm:ss'</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'MERCHANT'</span> <span class="p">:</span> <span class="s2">"OPU_TEST"</span><span class="p">,</span>
    <span class="s1">'REFNOEXT'</span> <span class="p">:</span> <span class="s2">"f2056638-0470-4158-af5d-9ec9c0c7ee67"</span><span class="p">,</span>
<span class="p">};</span>

<span class="nx">hashstring</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">k</span> <span class="k">in</span> <span class="nx">array</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">hashstring</span> <span class="o">+=</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">].</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span> <span class="p">;</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">)</span>
    <span class="p">,</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">hashstring</span>
    <span class="p">,</span> <span class="nx">secretkey</span> <span class="o">=</span> <span class="nx">SecretKey</span><span class="p">;</span>

<span class="nx">signature</span> <span class="o">=</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s1">'md5'</span><span class="p">,</span> <span class="nx">secretkey</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="nx">array</span><span class="p">[</span><span class="s1">'HASH'</span><span class="p">]</span> <span class="o">=</span> <span class="nx">signature</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">EndPointURL</span><span class="p">,</span> <span class="p">{</span><span class="na">form</span><span class="p">:</span><span class="nx">array</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>

<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span> 
<span class="k">function</span> <span class="nf">hmac</span> <span class="p">(</span><span class="nv">$key</span><span class="p">,</span> <span class="nv">$data</span><span class="p">){</span>
   <span class="nv">$b</span> <span class="o">=</span> <span class="mi">64</span><span class="p">;</span> <span class="c1">// byte length for md5
</span>   <span class="k">if</span> <span class="p">(</span><span class="nb">strlen</span><span class="p">(</span><span class="nv">$key</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nv">$b</span><span class="p">)</span> <span class="p">{</span>
       <span class="nv">$key</span> <span class="o">=</span> <span class="nb">pack</span><span class="p">(</span><span class="s2">"H*"</span><span class="p">,</span><span class="nb">md5</span><span class="p">(</span><span class="nv">$key</span><span class="p">));</span>
   <span class="p">}</span>
   <span class="nv">$key</span>  <span class="o">=</span> <span class="nb">str_pad</span><span class="p">(</span><span class="nv">$key</span><span class="p">,</span> <span class="nv">$b</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mh">0x00</span><span class="p">));</span>
   <span class="nv">$ipad</span> <span class="o">=</span> <span class="nb">str_pad</span><span class="p">(</span><span class="s1">''</span><span class="p">,</span> <span class="nv">$b</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mh">0x36</span><span class="p">));</span>
   <span class="nv">$opad</span> <span class="o">=</span> <span class="nb">str_pad</span><span class="p">(</span><span class="s1">''</span><span class="p">,</span> <span class="nv">$b</span><span class="p">,</span> <span class="nb">chr</span><span class="p">(</span><span class="mh">0x5c</span><span class="p">));</span>
   <span class="nv">$k_ipad</span> <span class="o">=</span> <span class="nv">$key</span> <span class="o">^</span> <span class="nv">$ipad</span> <span class="p">;</span>
   <span class="nv">$k_opad</span> <span class="o">=</span> <span class="nv">$key</span> <span class="o">^</span> <span class="nv">$opad</span><span class="p">;</span>
   <span class="k">return</span> <span class="nb">md5</span><span class="p">(</span><span class="nv">$k_opad</span>  <span class="o">.</span> <span class="nb">pack</span><span class="p">(</span><span class="s2">"H*"</span><span class="p">,</span><span class="nb">md5</span><span class="p">(</span><span class="nv">$k_ipad</span> <span class="o">.</span> <span class="nv">$data</span><span class="p">)));</span>
<span class="p">}</span>
    <span class="nv">$url</span><span class="o">=</span><span class="s2">"https://secure.payu.com.tr/order/ios.php"</span><span class="p">;</span>
    <span class="nv">$merchant</span><span class="o">=</span><span class="s2">"OPU_TEST"</span><span class="p">;</span>
    <span class="nv">$secret</span><span class="o">=</span><span class="s2">"SECRET_KEY"</span><span class="p">;</span>
    <span class="nv">$refno</span><span class="o">=</span><span class="s2">"7304"</span><span class="p">;</span>


     <span class="nv">$hash_string</span> <span class="o">=</span> <span class="nb">strlen</span><span class="p">(</span><span class="s2">"</span><span class="nv">$merchant</span><span class="s2">"</span><span class="p">)</span><span class="o">.</span><span class="nv">$merchant</span><span class="p">;</span>
     <span class="nv">$hash_string</span><span class="o">.=</span> <span class="nb">strlen</span><span class="p">(</span><span class="s2">"</span><span class="nv">$refno</span><span class="s2">"</span><span class="p">)</span><span class="o">.</span><span class="nv">$refno</span><span class="p">;</span>


  <span class="nv">$hash</span><span class="o">=</span><span class="nx">hmac</span><span class="p">(</span><span class="nv">$secret</span><span class="p">,</span><span class="nv">$hash_string</span><span class="p">);</span>


    <span class="nv">$request_string</span>  <span class="o">=</span> <span class="s2">"MERCHANT=</span><span class="nv">$merchant</span><span class="s2">&amp;"</span><span class="p">;</span>
    <span class="nv">$request_string</span> <span class="o">.=</span> <span class="s2">"SECRET_KEY=</span><span class="nv">$secret</span><span class="s2">&amp;"</span><span class="p">;</span> 
    <span class="nv">$request_string</span> <span class="o">.=</span> <span class="s2">"REFNOEXT=</span><span class="nv">$refno</span><span class="s2">&amp;"</span><span class="p">;</span>  
    <span class="nv">$request_string</span> <span class="o">.=</span> <span class="s2">"HASH=</span><span class="nv">$hash</span><span class="s2">"</span><span class="p">;</span> 

    <span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>
    <span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="nv">$url</span><span class="p">);</span>
    <span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_SSL_VERIFYPEER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
    <span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
    <span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_TIMEOUT</span><span class="p">,</span> <span class="mi">60</span><span class="p">);</span>
    <span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$request_string</span><span class="p">);</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

    <span class="k">echo</span> <span class="s2">"&lt;f color=red&gt;RESULT:"</span><span class="o">.</span><span class="nv">$response</span><span class="o">.</span><span class="s2">"&lt;/f&gt;"</span><span class="p">;</span>


<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="c"># Importing required libraries.</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">urlencode</span>
<span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>

<span class="c">#Endpoint</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'https://secure.payu.com.tr/order/ios.php'</span>

<span class="c">#Secret Key</span>
<span class="n">secret</span> <span class="o">=</span> <span class="s">'SECRET_KEY'</span>

<span class="n">array</span> <span class="o">=</span> <span class="p">{</span>
<span class="s">'MERCHANT'</span><span class="p">:</span> <span class="s">'OPU_TEST'</span><span class="p">,</span>
<span class="s">'REFNOEXT'</span><span class="p">:</span> <span class="s">'7304'</span><span class="p">,</span>
<span class="p">}</span>
<span class="c"># Initializing the hashstring @param</span>
<span class="n">hashstring</span> <span class="o">=</span> <span class="s">''</span>

<span class="c"># Sorting Array @params</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">array</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>

<span class="c"># Adding the length of each field value at the beginning of field value</span>
    <span class="n">hashstring</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">hashstring</span><span class="p">)</span>

<span class="c"># Calculating ORDER_HASH</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashstring</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>

<span class="c"># Adding ORDER_HASH @param to request array</span>
<span class="n">array</span><span class="p">[</span><span class="s">'HASH'</span><span class="p">]</span> <span class="o">=</span> <span class="n">signature</span>

<span class="k">print</span><span class="p">(</span><span class="n">signature</span><span class="p">)</span>

<span class="c"># Sending Request to Endpoint</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">urlencode</span><span class="p">(</span><span class="n">array</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

<span class="c"># Printing result/response</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre>
<p>IOS servisi ile, siparişlerin PayU tarafında ki durumlarını API aracılığı ile anlık olarak sorgulayabilirsiniz.</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>MERCHANT</td>
<td>Üye işyeri entegrasyon ismi bilgisidir.</td>
</tr>
<tr>
<td>REFNOEXT</td>
<td>Satış sırasında ORDER_REF olarak belirtilen üye işyerine ait sipariş numarasının değeridir.</td>
</tr>
<tr>
<td>HASH</td>
<td>Sorgu sırasında gönderilen değerlerin Key&#39;e göre sıralanıp, başlarına uzunlukları eklendikten sonra HMAC_MD5 algoritması ile hash oluşturulan değerdir.</td>
</tr>
</tbody></table>

<blockquote>
<p>Örnek IOS Sorgu Cevabı</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="p">&lt;</span><span class="n">Order</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ORDER_DATE</span><span class="p">&gt;</span><span class="m">2017</span><span class="p">-</span><span class="m">03</span><span class="p">-</span><span class="m">08</span> <span class="m">18</span><span class="p">:</span><span class="m">33</span><span class="p">:</span><span class="m">47</span><span class="p">&lt;/</span><span class="n">ORDER_DATE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">REFNO</span><span class="p">&gt;</span><span class="m">28179507</span><span class="p">&lt;/</span><span class="n">REFNO</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">REFNOEXT</span><span class="p">&gt;</span><span class="m">7304</span><span class="p">&lt;/</span><span class="n">REFNOEXT</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">ORDER_STATUS</span><span class="p">&gt;</span><span class="n">COMPLETE</span><span class="p">&lt;/</span><span class="n">ORDER_STATUS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">PAYMETHOD</span><span class="p">&gt;</span><span class="n">CreditCard</span><span class="p">&lt;/</span><span class="n">PAYMETHOD</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">HASH</span><span class="p">&gt;</span><span class="m">30670</span><span class="n">ee9e64a8b6658fd2c752f79be37</span><span class="p">&lt;/</span><span class="n">HASH</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="n">Order</span><span class="p">&gt;</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">Order</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">ORDER_DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">03</span><span class="o">-</span><span class="mi">08</span> <span class="mi">18</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">47</span><span class="o">&lt;</span><span class="sr">/ORDER_DATE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">REFNO</span><span class="o">&gt;</span><span class="mi">28179507</span><span class="o">&lt;</span><span class="sr">/REFNO</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">REFNOEXT</span><span class="o">&gt;</span><span class="mi">7304</span><span class="o">&lt;</span><span class="sr">/REFNOEXT</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">ORDER_STATUS</span><span class="o">&gt;</span><span class="nx">COMPLETE</span><span class="o">&lt;</span><span class="sr">/ORDER_STATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">PAYMETHOD</span><span class="o">&gt;</span><span class="nx">CreditCard</span><span class="o">&lt;</span><span class="sr">/PAYMETHOD</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">HASH</span><span class="o">&gt;</span><span class="mi">30670</span><span class="nx">ee9e64a8b6658fd2c752f79be37</span><span class="o">&lt;</span><span class="sr">/HASH</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/Order</span><span class="err">&gt;
</span></code></pre><pre class="highlight php tab-php"><code><span class="nt">&lt;Order&gt;</span>
    <span class="nt">&lt;ORDER</span><span class="na">_DATE</span><span class="nt">&gt;</span>2017-03-08 18:33:47<span class="err">&lt;</span>/ORDER_DATE&gt;
    <span class="nt">&lt;REFNO&gt;</span>28179507<span class="nt">&lt;/REFNO&gt;</span>
    <span class="nt">&lt;REFNOEXT&gt;</span>7304<span class="nt">&lt;/REFNOEXT&gt;</span>
    <span class="nt">&lt;ORDER</span><span class="na">_STATUS</span><span class="nt">&gt;</span>COMPLETE<span class="err">&lt;</span>/ORDER_STATUS&gt;
    <span class="nt">&lt;PAYMETHOD&gt;</span>CreditCard<span class="nt">&lt;/PAYMETHOD&gt;</span>
    <span class="nt">&lt;HASH&gt;</span>30670ee9e64a8b6658fd2c752f79be37<span class="nt">&lt;/HASH&gt;</span>
<span class="nt">&lt;/Order&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="o">&lt;</span><span class="n">Order</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ORDER_DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mo">03</span><span class="o">-</span><span class="mi">08</span> <span class="mi">18</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">47</span><span class="o">&lt;/</span><span class="n">ORDER_DATE</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">REFNO</span><span class="o">&gt;</span><span class="mi">28179507</span><span class="o">&lt;/</span><span class="n">REFNO</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">REFNOEXT</span><span class="o">&gt;</span><span class="mi">7304</span><span class="o">&lt;/</span><span class="n">REFNOEXT</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">ORDER_STATUS</span><span class="o">&gt;</span><span class="n">COMPLETE</span><span class="o">&lt;/</span><span class="n">ORDER_STATUS</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">PAYMETHOD</span><span class="o">&gt;</span><span class="n">CreditCard</span><span class="o">&lt;/</span><span class="n">PAYMETHOD</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">HASH</span><span class="o">&gt;</span><span class="mi">30670</span><span class="n">ee9e64a8b6658fd2c752f79be37</span><span class="o">&lt;/</span><span class="n">HASH</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">Order</span><span class="o">&gt;</span>
</code></pre><h3 id='ios-sorgusu-yanit-parametreleri'>IOS Sorgusu Yanıt Parametreleri</h3>
<p>PayU sistemi, yapılan isteğe XML formatında bir yanıt dönmektedir. 
İşyeri XML formatındaki bu datayı ayrıştırıp kendi sisteminde işlemelidir.</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>ORDER_DATE</td>
<td>İşlem yapılan zaman bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>REFNO</td>
<td>İşlemin PayU referans numarasının iletildiği parametredir.</td>
</tr>
<tr>
<td>REFNOEXT</td>
<td>İşyerinin kendi belirlediği sipariş/işlem numarasınnın iletildiği parametredir.</td>
</tr>
<tr>
<td>PAYMETHOD</td>
<td>İşleminde kullanılan ödeme yönteminin iletildiği parametredir.</td>
</tr>
<tr>
<td>ORDER_STATUS</td>
<td>Siparişin anlık durumunun iletildiği parametredir. Dönen değerler dokümanın aşağısında detaylı olarak iletilmiştir.</td>
</tr>
<tr>
<td>ORDER_HASH</td>
<td>Sorgu sırasında elde edilen HASH değerinin iletildiği parametredir.</td>
</tr>
</tbody></table>
<h3 id='sorgu-sonuc-mesajlari'>Sorgu Sonuç Mesajları</h3>
<table><thead>
<tr>
<th>Mesaj</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>NOT_FOUND</td>
<td>Sorgulanan Değerler ile işlem bulunamadığında karşılaşılan durum mesajıdır.</td>
</tr>
<tr>
<td>CARD_NOTAUTHORIZED</td>
<td>Kullanılan kart ile otorizasyon alınamadığında karşılaşılan durum mesajıdır.</td>
</tr>
<tr>
<td>IN_PROGRESS</td>
<td>İşlem incele aşamasında olduğunda karşılaşılan durum mesajıdır</td>
</tr>
<tr>
<td>PAYMENT_AUTHORIZED</td>
<td>İşlemin otorizasyonunun başarı ile yapıldığında karşılaşılan durum mesajıdır.</td>
</tr>
<tr>
<td>COMPLETE</td>
<td>İşlem başarı ile tamamlandığında karşılaşılan durum mesajıdır.</td>
</tr>
<tr>
<td>FRAUD</td>
<td>İşlem fraud olarak değerlendirildiğinde karşılaşılan durum mesajıdır.</td>
</tr>
<tr>
<td>INVALID</td>
<td>Müşteri tarafından geçersiz bilgi girildiği için onaylanmayan siparişlerde karşılaşılan durum mesajıdır.</td>
</tr>
<tr>
<td>REVERSED</td>
<td>İşlem iptal edildiğinde karşılaşılan durum mesajıdır.</td>
</tr>
<tr>
<td>REFUND</td>
<td>İşlem iade edildiğinde karşılaşılan durum mesajıdır.</td>
</tr>
</tbody></table>
<h3 id='islem-sorgu-servisi-hash-hesaplama'>İşlem Sorgu Servisi Hash Hesaplama</h3>
<p><strong>Örnek IOS bildirimindeki HASH hesaplama için kullanılacak değerler aşağıdaki gibidir.</strong>
<code>MERCHANT = OPU_TEST</code>
<code>REFNOEXT = 7305</code></p>

<aside class="notice">
 IOS Servisinde hash hesaplaması yaparken, Key'e göre sıralamamalısınız, yukarıdaki örnek sıralama ile işleme almalısınız.
</aside>

<p><strong>Bu değerlerin uzunluğu alınarak yukarıdaki sıraya göre sıralanmalıdır.</strong>
<code>8OPU_TEST47305</code></p>

<p><strong>Değerler üye işyeri kodlama anahtarınız kullanılarak HMAC_MD5 algoritması ile haslenmelidir.</strong></p>

<ul>
<li>Kullanılan Kodlama Anahtarı: SECRET_KEY</li>
</ul>

<p><strong>Elde edilen değer:</strong> <code>24d86799c6ba0083ceba1f40053cd499</code></p>
<h1 id='irn-servisi-iptal-iade-servisi'>IRN Servisi(İptal/İade Servisi)</h1>
<blockquote>
<p>Örnek IRN İsteği </p>

<p><a href="https://github.com/PayUTurkiye/PayUTR_CSharp/raw/master/PayU_TR_CSharp.zip"> C Sharp Örnek Proje ve Kodları buradan indirebilirsiniz. </a></p>
</blockquote>
<<<<<<< HEAD
<pre class="highlight csharp tab-csharp"><code><span class="n">IRNRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">IRNRequest</span><span class="p">();</span>
<span class="n">request</span><span class="p">.</span><span class="n">MERCHANT</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">ORDER_REF</span> <span class="p">=</span> <span class="n">orderRef</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">ORDER_AMOUNT</span> <span class="p">=</span> <span class="n">orderAmount</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">ORDER_CURRENCY</span> <span class="p">=</span> <span class="s">"TRY"</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">IRN_DATE</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"yyyy-MM-d HH:mm:ss"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="n">AMOUNT</span> <span class="p">=</span> <span class="n">amount</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
<span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/order/irn.php"</span><span class="p">;</span>
<span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="n">IRNRequest</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
=======
<pre class="highlight csharp tab-csharp"><code>            <span class="n">IRNRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">IRNRequest</span><span class="p">();</span>
            <span class="n">request</span><span class="p">.</span><span class="n">MERCHANT</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">ORDER_REF</span> <span class="p">=</span> <span class="n">orderRef</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">ORDER_AMOUNT</span> <span class="p">=</span> <span class="n">orderAmount</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">ORDER_CURRENCY</span> <span class="p">=</span> <span class="s">"TRY"</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">IRN_DATE</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"yyyy-MM-d HH:mm:ss"</span><span class="p">);</span>
            <span class="n">request</span><span class="p">.</span><span class="n">AMOUNT</span> <span class="p">=</span> <span class="n">amount</span><span class="p">;</span>
            <span class="kt">var</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
            <span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/order/irn.php"</span><span class="p">;</span>
            <span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
            <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="n">IRNRequest</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
>>>>>>> 3ed3dff92d6b76228aaccf3922e0c87dca9c7fe9
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">EndPointURL</span> <span class="o">=</span> <span class="s1">'https://secure.payu.com.tr/order/irn.php'</span><span class="p">;</span>
<span class="nx">SecretKey</span> <span class="o">=</span> <span class="s1">'SECRET_KEY'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">moment</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moment'</span><span class="p">);</span>
<span class="nx">date</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">.</span><span class="nx">utc</span><span class="p">().</span><span class="nx">format</span><span class="p">(</span><span class="s1">'YYYY-MM-DD HH:mm:ss'</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'MERCHANT'</span> <span class="p">:</span> <span class="s2">"OPU_TEST"</span><span class="p">,</span>
    <span class="s1">'ORDER_REF'</span> <span class="p">:</span> <span class="s2">"41838239"</span><span class="p">,</span>
    <span class="s1">'ORDER_AMOUNT'</span> <span class="p">:</span> <span class="s2">"10.90"</span><span class="p">,</span>
    <span class="s1">'ORDER_CURRENCY'</span> <span class="p">:</span> <span class="s1">'TRY'</span><span class="p">,</span>
    <span class="s1">'IRN_DATE'</span> <span class="p">:</span> <span class="nx">date</span><span class="p">,</span>
    <span class="s1">'AMOUNT'</span><span class="p">:</span> <span class="s2">"10.90"</span>

<span class="p">};</span>

<span class="nx">hashstring</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">k</span> <span class="k">in</span> <span class="nx">array</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">hashstring</span> <span class="o">+=</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">].</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span> <span class="p">;</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">)</span>
    <span class="p">,</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">hashstring</span>
    <span class="p">,</span> <span class="nx">secretkey</span> <span class="o">=</span> <span class="nx">SecretKey</span><span class="p">;</span>

<span class="nx">signature</span> <span class="o">=</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s1">'md5'</span><span class="p">,</span> <span class="nx">secretkey</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="nx">array</span><span class="p">[</span><span class="s1">'ORDER_HASH'</span><span class="p">]</span> <span class="o">=</span> <span class="nx">signature</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">EndPointURL</span><span class="p">,</span> <span class="p">{</span><span class="na">form</span><span class="p">:</span><span class="nx">array</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>

<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://secure.payu.com.tr/order/irn.php"</span><span class="p">;</span>
<span class="nv">$secretKey</span> <span class="o">=</span> <span class="s2">"SECRET_KEY"</span><span class="p">;</span>

<span class="nv">$irn</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
<span class="s1">'MERCHANT'</span> <span class="o">=&gt;</span> <span class="s2">"OPU_TEST"</span><span class="p">,</span>
<span class="s1">'ORDER_REF'</span> <span class="o">=&gt;</span> <span class="s2">"39537992"</span><span class="p">,</span>
<span class="s1">'ORDER_AMOUNT'</span> <span class="o">=&gt;</span> <span class="s2">"129.33"</span><span class="p">,</span>
<span class="s1">'ORDER_CURRENCY'</span> <span class="o">=&gt;</span> <span class="s1">'TRY'</span><span class="p">,</span>
<span class="s1">'IRN_DATE'</span> <span class="o">=&gt;</span> <span class="nb">date</span><span class="p">(</span><span class="s1">'Y-m-d H:i:s'</span><span class="p">,</span> <span class="nb">time</span><span class="p">()),</span>
<span class="s1">'AMOUNT'</span> <span class="o">=&gt;</span> <span class="s2">"10"</span><span class="p">,</span>

<span class="p">);</span>

<span class="nv">$hashString</span> <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$irn</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
<span class="nv">$hashString</span> <span class="o">.=</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$value</span><span class="p">)</span> <span class="o">.</span> <span class="nv">$value</span><span class="p">;</span>
<span class="p">}</span>
<span class="nv">$hash</span> <span class="o">=</span> <span class="nb">hash_hmac</span><span class="p">(</span><span class="s1">'md5'</span><span class="p">,</span> <span class="nv">$hashString</span><span class="p">,</span> <span class="nv">$secretKey</span><span class="p">);</span>
<span class="nv">$irn</span><span class="p">[</span><span class="s1">'ORDER_HASH'</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$hash</span><span class="p">;</span>

<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_SSL_VERIFYPEER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_SSL_VERIFYHOST</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_TIMEOUT</span><span class="p">,</span> <span class="mi">60</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">http_build_query</span><span class="p">(</span><span class="nv">$irn</span><span class="p">));</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nv">$curlerrcode</span> <span class="o">=</span> <span class="nb">curl_errno</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nv">$curlerr</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="c"># Importing required libraries.</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">urlencode</span>
<span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>
<span class="kn">import</span> <span class="nn">collections</span>
<span class="c">#Endpoint</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'https://secure.payu.com.tr/order/irn.php'</span>

<span class="c">#Secret Key</span>
<span class="n">secret</span> <span class="o">=</span> <span class="s">'SECRET_KEY'</span>

<span class="n">array</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">OrderedDict</span><span class="p">()</span>
<span class="n">array</span><span class="p">[</span><span class="s">'MERCHANT'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'OPU_TEST'</span>
<span class="n">array</span><span class="p">[</span><span class="s">'ORDER_REF'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'41854324'</span>
<span class="n">array</span><span class="p">[</span><span class="s">'ORDER_AMOUNT'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'10.9'</span>
<span class="n">array</span><span class="p">[</span><span class="s">'ORDER_CURRENCY'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'TRY'</span>
<span class="n">array</span><span class="p">[</span><span class="s">'IRN_DATE'</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">Y-</span><span class="si">%</span><span class="s">m-</span><span class="si">%</span><span class="s">d </span><span class="si">%</span><span class="s">H:</span><span class="si">%</span><span class="s">M:</span><span class="si">%</span><span class="s">S'</span><span class="p">)</span>
<span class="n">array</span><span class="p">[</span><span class="s">'AMOUNT'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'10'</span>

<span class="c"># Initializing the hashstring @param</span>
<span class="n">hashstring</span> <span class="o">=</span> <span class="s">''</span>
<span class="c">#Order Directory</span>
<span class="c"># Getting Array @params</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">array</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="c"># Adding the UTF-8 byte length of each field value at the beginning of field value</span>
    <span class="n">hashstring</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">hashstring</span><span class="p">)</span>

<span class="c"># Calculating signature</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashstring</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>

<span class="c"># Adding signature @param to request array</span>
<span class="n">array</span><span class="p">[</span><span class="s">'ORDER_HASH'</span><span class="p">]</span> <span class="o">=</span> <span class="n">signature</span>
<span class="k">print</span><span class="p">(</span><span class="n">signature</span><span class="p">)</span>

<span class="c"># Sending Request to Endpoint</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">urlencode</span><span class="p">(</span><span class="n">array</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

<span class="c"># Printing result/response</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>


</code></pre>
<blockquote>
<p>Örnek Başarılı IRN Cevabı</p>
</blockquote>
<pre class="highlight plaintext"><code>&lt;EPAYMENT&gt;41854324|1|OK|2017-10-05 14:12:35|e90c62397d26c6921c0cb6729d563ff4&lt;/EPAYMENT&gt;
</code></pre>
<p>IRN servisi, sipariş iade ve iptal işlemlerinizi, API aracılığı ile kendi sistem arayüzünüzden gerçekleştirmenizi mümkün kılar.</p>
<h3 id='iptal-iade-servisi-istek-parametreleri'>İptal/İade Servisi İstek Parametreleri</h3>
<<<<<<< HEAD
<p>Endpoint POST <code>https://secure.payu.com.tr/order/irn.php</code></p>
=======
<p>HTTP Post ile işlem istekleri <code>https://secure.payu.com.tr/order/irn.php</code> adresine gönderilmelidir.</p>
>>>>>>> 3ed3dff92d6b76228aaccf3922e0c87dca9c7fe9

<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>MERCHANT</td>
<td>İşyerini ID bilgisidir. Üye İşyeri Kontrol Paneli’nde, hesap ayarları sayfasında bulunmaktadır.</td>
</tr>
<tr>
<td>ORDER_REF</td>
<td>İptal / İade işlemi yapılacak siparişin PayU referans numarasının gönderildiği parametredir.</td>
</tr>
<tr>
<td>ORDER_AMOUNT</td>
<td>İşlemin toplam tutarının gönderildiği parametredir.</td>
</tr>
<tr>
<td>ORDER_CURRENCY</td>
<td>İşlemin gerçekleştiği para biriminin gönderildiği parametredir.</td>
</tr>
<tr>
<td>IRN_DATE</td>
<td>İade/İptal isteğinin gönderildiği zamanın gönderildiği parametredir. (Y-m-d H:i:s (Örn: 2017-01-26 14:30:56)</td>
</tr>
<tr>
<td>ORDER_HASH</td>
<td>İstek sırasında gönderilen değerlerin Key&#39;e göre sıralanıp, başlarına uzunlukları eklendikten sonra HMAC_MD5 algoritması ile hash oluşturulan değerdir.</td>
</tr>
<tr>
<td>AMOUNT</td>
<td>İade yapılacak tutarın belirtildiği parametredir.</td>
</tr>
</tbody></table>
<h3 id='iptal-iade-servisi-yanit-parametreleri'>İptal/İade Servisi Yanıt Parametreleri</h3>
<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>ORDER_REF</td>
<td>İptal / İade işlemi yapılacak siparişin PayU referans numarasıdır.</td>
</tr>
<tr>
<td>RESPONSE_CODE</td>
<td>İstek yanıtının döndüğü kod değeridir.</td>
</tr>
<tr>
<td>RESPONSE_MSG</td>
<td>İstek yanıt mesajıdır.</td>
</tr>
<tr>
<td>IRN_DATE</td>
<td>İptal/İade işlem isteğinin gönderildiği zamana ait bilgiyi ileten parametredir.</td>
</tr>
<tr>
<td>ORDER_HASH</td>
<td>İstek sırasında gönderilen değerlerin Key&#39;e göre sıralanıp, başlarına uzunlukları eklendikten sonra HMAC_MD5 algoritması ile hash oluşturulan değerdir. Yanıtta bulunan değer PayU tarafından hesaplanmaktadır.</td>
</tr>
</tbody></table>
<h3 id='iptal-iade-servisi-hash-hesaplama'>İptal/İade Servisi Hash Hesaplama</h3>
<p><strong>Örnek IRN Servisinde HASH hesaplama için kullanılacak değerler aşağıdaki gibidir.</strong></p>

<p><code>MERCHANT = OPU_TEST</code> <br>
<code>ORDER_REF = 39537992</code> <br>
<code>ORDER_AMOUNT = 129.33</code> <br>
<code>ORDER_CURRENCY = TRY</code> <br>
<code>IRN_DATE = 2017-10-05 10:55:26</code> <br>
<code>AMOUNT = 10</code> <br></p>

<aside class="notice">
 IRN Servisinde hash hesaplaması yaparken, Key'e göre sıralamamalısınız, yukarıdaki örnek sıralama ile işleme almalısınız.
</aside>

<p><strong>Bu değerlerin uzunluğu alınarak, değerin başına eklendikten sonra yukarıdaki sıra ile sıralanmalıdır.</strong>
<code>8OPU_TEST8395379926129.333TRY192017-10-05 10:55:26210</code></p>

<p><strong>Değerler üye işyeri kodlama anahtarınız kullanılarak HMAC_MD5 algoritması ile haslenmelidir.</strong></p>

<ul>
<li>Kullanılan Kodlama Anahtarı: SECRET_KEY</li>
</ul>

<p><strong>Elde edilen değer:</strong> <code>4c977d3b3f1e50ba14f1ac60e62e03f2</code></p>
<h3 id='iptal-iade-servisi-sonuc-mesajlari'>İptal/İade Servisi Sonuç Mesajları</h3>
<table><thead>
<tr>
<th>Mesaj</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>OK</td>
<td>İade/İptal Başarılı olarak yapıldığında karşılaşılan durum mesajıdır.</td>
</tr>
<tr>
<td>ORDER_REF missing or format incorrect</td>
<td>İşlemin referans numarası eksik,yanlış veya geçersiz bir biçimde gönderildiğinde karşılaşılan durum mesajıdır.</td>
</tr>
<tr>
<td>ORDER_AMOUNT missing or format incorrect</td>
<td>Toplam sipariş tutarı eksik,yanlış veya geçersiz bir biçimde gönderildiğinde karşılaşılan durum mesajıdır.</td>
</tr>
<tr>
<td>ORDER_CURRENCY is missing or format incorrect</td>
<td>Siparişte kullanılan para birimi  eksik,yanlış veya geçersiz bir biçimde gönderildiğinde karşılaşılan durum mesajıdır.</td>
</tr>
<tr>
<td>IRN_DATE is not in the correct format</td>
<td>IRN_DATE parametresinde ki saat formatı hatalı kullanıldığında karşılaşılan durum mesajıdır.</td>
</tr>
<tr>
<td>Error cancelling order</td>
<td>Sipariş iptal edilirken hata ile karşılaşıldığında meydana gelen durum mesajıdır.</td>
</tr>
<tr>
<td>Order already cancelled</td>
<td>Sipariş daha önceden iptal edildiğide karşılaşılan durum mesajıdır.</td>
</tr>
<tr>
<td>Unknown error</td>
<td>Bilinmeyen bir hata oluştuğunda meydana gelen hata mesajıdır.</td>
</tr>
<tr>
<td>Invalid ORDER_REF</td>
<td>İade/İptal işlemi sırasında geçersiz referans numarası kullanılması durumunda karşılaşılan bir hatadır.</td>
</tr>
<tr>
<td>Invalid ORDER_AMOUNT</td>
<td>İade/İptal işlemi sırasında toplam sipariş tutarının yanlış kullanılması durumunda karşılaşılan durum mesajıdır.</td>
</tr>
<tr>
<td>Invalid ORDER_CURRENCY</td>
<td>İade/İptal işleminde para biriminin yanlış kullanılması durumunda karşılaşılan durum mesajıdır.</td>
</tr>
<tr>
<td>AMOUNT missing or format incorrect</td>
<td>İptal/İade işlemi sırasında iade edilecek tutarın belirtilmediği veya yanlış formatta belirtildiğinde karşılaşılan durum mesajıdır.</td>
</tr>
<tr>
<td>Invalid AMOUNT</td>
<td>İptal/İade işlemi sırasında iade edilecek tutarın geçersiz bir tutar belirlenmesi durumunda karşılaşılan durum mesajıdır.</td>
</tr>
<tr>
<td>Amount mismatch</td>
<td>İptal/İade işlemi sırasında iade edilecek tutarın işlem tutarından fazla olması durumunda karşılaşılan durum mesajıdır.</td>
</tr>
</tbody></table>
<h1 id='bin-servisi'>BIN Servisi</h1>
<p>BIN Servisi ile Bank Identification Number (BIN) sorgulaması yaparak kartın aşağıda listelenen bilgilerine ulaşılmasını sağlayan servisimizdir. </p>
<h2 id='bin-servisi-v1'>BIN Servisi v1</h2>
<blockquote>
<p>Örnek BIN API v1 İsteği </p>

<p><a href="https://github.com/PayUTurkiye/PayUTR_CSharp/raw/master/PayU_TR_CSharp.zip"> C Sharp Örnek Proje ve Kodları buradan indirebilirsiniz. </a></p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code>            <span class="n">BinV1Request</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">BinV1Request</span><span class="p">();</span>
            <span class="n">request</span><span class="p">.</span><span class="n">BIN</span> <span class="p">=</span> <span class="n">binNumber</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">MERCHANT</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">TIMESTAMP</span> <span class="p">=</span> <span class="p">(</span><span class="kt">int</span><span class="p">)(</span><span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">.</span><span class="nf">Subtract</span><span class="p">(</span><span class="k">new</span> <span class="nf">DateTime</span><span class="p">(</span><span class="m">1970</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">))).</span><span class="n">TotalSeconds</span><span class="p">;</span>
            <span class="n">Options</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
            <span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/api/card-info/v1/"</span><span class="p">;</span>
            <span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
            <span class="n">model</span><span class="p">.</span><span class="n">Response</span><span class="p">=</span> <span class="n">BinV1Request</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span> 
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">Merchant</span> <span class="o">=</span>  <span class="s2">"OPU_TEST"</span><span class="p">;</span>
<span class="nx">SecretKey</span> <span class="o">=</span> <span class="s2">"SECRET_KEY"</span><span class="p">;</span>
<span class="nx">Bin</span> <span class="o">=</span> <span class="s2">"557829"</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">TimeStamp</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">);</span>

<span class="nx">HashString</span> <span class="o">=</span> <span class="nx">Merchant</span> <span class="o">+</span> <span class="nx">TimeStamp</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">crypto</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">)</span>
    <span class="p">,</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">HashString</span>
    <span class="p">,</span> <span class="nx">secretkey</span> <span class="o">=</span> <span class="nx">SecretKey</span>

    <span class="nx">crypto</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s1">'sha256'</span><span class="p">,</span> <span class="nx">secretkey</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">)</span>


<span class="nx">EndPointURL</span> <span class="o">=</span> <span class="s1">'https://secure.payu.com.tr/api/card-info/v1/'</span><span class="o">+</span><span class="nx">Bin</span><span class="o">+</span><span class="s2">"?merchant="</span><span class="o">+</span><span class="nx">Merchant</span><span class="o">+</span><span class="s2">"&amp;timestamp="</span><span class="o">+</span><span class="nx">TimeStamp</span><span class="o">+</span><span class="s2">"&amp;signature="</span><span class="o">+</span><span class="nx">signature</span>

<span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'Content-Type'</span><span class="p">:</span>     <span class="s1">'application/x-www-form-urlencoded'</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">url</span><span class="p">:</span> <span class="nx">EndPointURL</span><span class="p">,</span>
    <span class="na">method</span><span class="p">:</span> <span class="s1">'GET'</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="nx">headers</span><span class="p">,</span>
<span class="p">}</span>

<span class="nx">request</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">error</span> <span class="o">&amp;&amp;</span> <span class="nx">response</span><span class="p">.</span><span class="nx">statusCode</span> <span class="o">==</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Print out the response body</span>
        <span class="kd">var</span> <span class="nx">json_body</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">json_body</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">})</span>
</code></pre><pre class="highlight php tab-php"><code> <span class="cp">&lt;?php</span>
 <span class="nv">$URL</span> <span class="o">=</span><span class="s2">"https://secure.payu.com.tr/api/card-info/v1/"</span><span class="p">;</span>
 <span class="nv">$MERCHANT</span> <span class="o">=</span>  <span class="s2">"OPU_TEST"</span><span class="p">;</span>
 <span class="nv">$SECRET</span> <span class="o">=</span> <span class="s2">"SECRET_KEY"</span><span class="p">;</span>
 <span class="nv">$TIMESTAMP</span> <span class="o">=</span> <span class="nb">time</span><span class="p">();</span>
 <span class="nv">$BIN</span> <span class="o">=</span> <span class="s2">"557829"</span><span class="p">;</span>
 <span class="nv">$sig</span> <span class="o">=</span> <span class="nb">hash_hmac</span><span class="p">(</span><span class="s1">'sha256'</span><span class="p">,</span> <span class="nv">$MERCHANT</span><span class="o">.</span><span class="nv">$TIMESTAMP</span><span class="p">,</span><span class="nv">$SECRET</span><span class="p">);</span>
 <span class="nv">$urlReqest</span>  <span class="o">=</span> <span class="nv">$URL</span><span class="o">.</span><span class="nv">$BIN</span><span class="o">.</span><span class="s2">"?merchant="</span><span class="o">.</span><span class="nv">$MERCHANT</span><span class="o">.</span><span class="s2">"&amp;timestamp="</span><span class="o">.</span><span class="nv">$TIMESTAMP</span><span class="o">.</span><span class="s2">"&amp;signature="</span><span class="o">.</span><span class="nv">$sig</span><span class="p">;</span>
 <span class="k">echo</span> <span class="s2">"&lt;a href='"</span><span class="o">.</span><span class="nv">$urlReqest</span><span class="o">.</span><span class="s2">"' target='_blank'&gt;"</span><span class="o">.</span><span class="nv">$urlReqest</span><span class="o">.</span><span class="s2">"&lt;/a&gt;"</span><span class="p">;</span>
 <span class="nv">$xml</span> <span class="o">=</span> <span class="nb">file_get_contents</span><span class="p">(</span><span class="nv">$urlReqest</span><span class="p">);</span>
 <span class="nb">var_dump</span><span class="p">(</span><span class="nb">json_decode</span><span class="p">(</span><span class="nv">$xml</span><span class="p">,</span><span class="mi">1</span><span class="p">));</span>
 <span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code>
<span class="c"># Importing required libraries.</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>
<span class="kn">import</span> <span class="nn">collections</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">csv</span>

<span class="c">#Secret Key</span>
<span class="n">secret</span> <span class="o">=</span> <span class="s">'SECRET_KEY'</span>
<span class="n">binno</span> <span class="o">=</span> <span class="s">"557829"</span>
<span class="n">array</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">OrderedDict</span><span class="p">()</span>
<span class="n">array</span><span class="p">[</span><span class="s">'merchant'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'OPU_TEST'</span>
<span class="n">array</span><span class="p">[</span><span class="s">'timestamp'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">'.'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="c"># Initializing the hashstring @param</span>
<span class="n">hashstring</span> <span class="o">=</span> <span class="s">''</span>

<span class="c"># Sorting Array @params</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">array</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

<span class="c"># Adding the UTF-8 byte length of each field value at the beginning of field value</span>
    <span class="n">hashstring</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">hashstring</span><span class="p">)</span>

<span class="c"># Calculating signature</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashstring</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">signature</span><span class="p">)</span>

<span class="c"># Adding Signature @param to dict</span>
<span class="n">array</span><span class="p">[</span><span class="s">'signature'</span><span class="p">]</span> <span class="o">=</span> <span class="n">signature</span>

<span class="c"># Endpoint</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'https://secure.payu.com.tr/api/card-info/v1/{0}?merchant={merchant}&amp;timestamp={timestamp}&amp;signature={signature}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">binno</span><span class="p">,</span> <span class="o">**</span><span class="n">array</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="c"># Sending Request to Endpoint</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

<span class="c"># Printing result/response</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>


</code></pre>
<p>Birinci versiyonda karta ait aşağıdaki bilgiler elde edilebilir.</p>

<ul>
<li>Bin Tipini (Mastercard/Visa/Amex/Troy v.b.)</li>
<li>Kart Bankasının Ülkesini</li>
<li>Kart Bankasını</li>
<li>Kart Tipini (Kredi Kartı / Debit)</li>
<li>Bağlılık Programını(Bonus,Axess v.b.)</li>
<li>Taksit seçeneklerini</li>
</ul>
<<<<<<< HEAD
<h3 id='istek-parametreleri-7'>İstek Parametreleri</h3>
<p>Endpoint GET <code>https://secure.payu.com.tr/api/card-info/v1/</code></p>

<p>İşlem isteği <code>https://secure.payu.com.tr/api/card-info/v1/</code> URL&#39;ine &quot;Merchant&quot;,&quot;Timestamp&quot;, &quot;BIN&quot; ve hesaplanan signature değeri URL GET metodu ile gönderilmelidir.</p>
=======
<h3 id='istek-parametreleri-3'>İstek Parametreleri</h3>
<p>İşlem isteği <code>https://secure.payu.com.tr/api/card-info/v1/</code> URL&#39;ine &quot;Merchant&quot;,&quot;Timestamp&quot;, &quot;BIN&quot; ve hesaplanan signature değeri URL POST metodu ile gönderilmelidir.</p>
>>>>>>> 3ed3dff92d6b76228aaccf3922e0c87dca9c7fe9

<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>MERCHANT</td>
<td>Üye iş yeri entegrasyon ismi.</td>
</tr>
<tr>
<td>TIMESTAMP</td>
<td>Milisaniye cinsinden UTC(TR saatine göre 3 saat geri.) zaman damgası.</td>
</tr>
<tr>
<td>SIG</td>
<td>İstek sırasında gönderilen değerlerin HMAC_SHA256 algoritması ile hash oluşturulan değerdir.</td>
</tr>
<tr>
<td>BIN</td>
<td>Kredi kartının ilk 6 hanesi.</td>
</tr>
</tbody></table>
<h3 id='yanit-parametreleri-6'>Yanıt Parametreleri</h3>
<blockquote>
<p>Örnek Başarılı BIN Servisi v1 Yanıtı</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="p">{</span><span class="s">"meta"</span><span class="p">:{</span><span class="s">"status"</span><span class="p">:{</span><span class="s">"code"</span><span class="p">:</span><span class="m">0</span><span class="p">,</span><span class="s">"message"</span><span class="p">:</span><span class="s">"success"</span><span class="p">},</span><span class="s">"response"</span><span class="p">:{</span><span class="s">"httpCode"</span><span class="p">:</span><span class="m">200</span><span class="p">,</span><span class="s">"httpMessage"</span><span class="p">:</span><span class="s">"200 OK"</span><span class="p">}},</span><span class="s">"cardBinInfo"</span><span class="p">:{</span><span class="s">"binType"</span><span class="p">:</span><span class="s">"MASTERCARD"</span><span class="p">,</span><span class="s">"binIssuer"</span><span class="p">:</span><span class="s">"AKBANK"</span><span class="p">,</span><span class="s">"cardType"</span><span class="p">:</span><span class="s">"CREDIT"</span><span class="p">,</span><span class="s">"country"</span><span class="p">:</span><span class="s">"Turkey"</span><span class="p">,</span><span class="s">"program"</span><span class="p">:</span><span class="s">"Axess"</span><span class="p">,</span><span class="s">"installments"</span><span class="p">:[</span><span class="m">1</span><span class="p">,</span><span class="s">"2"</span><span class="p">,</span><span class="s">"3"</span><span class="p">,</span><span class="s">"4"</span><span class="p">,</span><span class="s">"5"</span><span class="p">,</span><span class="s">"6"</span><span class="p">,</span><span class="s">"7"</span><span class="p">,</span><span class="s">"8"</span><span class="p">,</span><span class="s">"9"</span><span class="p">,</span><span class="s">"10"</span><span class="p">,</span><span class="s">"11"</span><span class="p">,</span><span class="s">"12"</span><span class="p">],</span><span class="s">"paymentMethod"</span><span class="p">:</span><span class="s">"CCVISAMC"</span><span class="p">}}</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="p">{</span><span class="s2">"meta"</span><span class="p">:{</span><span class="s2">"status"</span><span class="p">:{</span><span class="s2">"code"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s2">"message"</span><span class="p">:</span><span class="s2">"success"</span><span class="p">},</span><span class="s2">"response"</span><span class="p">:{</span><span class="s2">"httpCode"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="s2">"httpMessage"</span><span class="p">:</span><span class="s2">"200 OK"</span><span class="p">}},</span><span class="s2">"cardBinInfo"</span><span class="p">:{</span><span class="s2">"binType"</span><span class="p">:</span><span class="s2">"MASTERCARD"</span><span class="p">,</span><span class="s2">"binIssuer"</span><span class="p">:</span><span class="s2">"AKBANK"</span><span class="p">,</span><span class="s2">"cardType"</span><span class="p">:</span><span class="s2">"CREDIT"</span><span class="p">,</span><span class="s2">"country"</span><span class="p">:</span><span class="s2">"Turkey"</span><span class="p">,</span><span class="s2">"program"</span><span class="p">:</span><span class="s2">"Axess"</span><span class="p">,</span><span class="s2">"installments"</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="s2">"2"</span><span class="p">,</span><span class="s2">"3"</span><span class="p">,</span><span class="s2">"4"</span><span class="p">,</span><span class="s2">"5"</span><span class="p">,</span><span class="s2">"6"</span><span class="p">,</span><span class="s2">"7"</span><span class="p">,</span><span class="s2">"8"</span><span class="p">,</span><span class="s2">"9"</span><span class="p">,</span><span class="s2">"10"</span><span class="p">,</span><span class="s2">"11"</span><span class="p">,</span><span class="s2">"12"</span><span class="p">],</span><span class="s2">"paymentMethod"</span><span class="p">:</span><span class="s2">"CCVISAMC"</span><span class="p">}}</span>
</code></pre><pre class="highlight php tab-php"><code>{"meta":{"status":{"code":0,"message":"success"},"response":{"httpCode":200,"httpMessage":"200 OK"}},"cardBinInfo":{"binType":"MASTERCARD","binIssuer":"AKBANK","cardType":"CREDIT","country":"Turkey","program":"Axess","installments":[1,"2","3","4","5","6","7","8","9","10","11","12"],"paymentMethod":"CCVISAMC"}}
</code></pre><pre class="highlight python tab-python"><code><span class="p">{</span><span class="s">"meta"</span><span class="p">:{</span><span class="s">"status"</span><span class="p">:{</span><span class="s">"code"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span><span class="s">"message"</span><span class="p">:</span><span class="s">"success"</span><span class="p">},</span><span class="s">"response"</span><span class="p">:{</span><span class="s">"httpCode"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="s">"httpMessage"</span><span class="p">:</span><span class="s">"200 OK"</span><span class="p">}},</span><span class="s">"cardBinInfo"</span><span class="p">:{</span><span class="s">"binType"</span><span class="p">:</span><span class="s">"MASTERCARD"</span><span class="p">,</span><span class="s">"binIssuer"</span><span class="p">:</span><span class="s">"AKBANK"</span><span class="p">,</span><span class="s">"cardType"</span><span class="p">:</span><span class="s">"CREDIT"</span><span class="p">,</span><span class="s">"country"</span><span class="p">:</span><span class="s">"Turkey"</span><span class="p">,</span><span class="s">"program"</span><span class="p">:</span><span class="s">"Axess"</span><span class="p">,</span><span class="s">"installments"</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="s">"2"</span><span class="p">,</span><span class="s">"3"</span><span class="p">,</span><span class="s">"4"</span><span class="p">,</span><span class="s">"5"</span><span class="p">,</span><span class="s">"6"</span><span class="p">,</span><span class="s">"7"</span><span class="p">,</span><span class="s">"8"</span><span class="p">,</span><span class="s">"9"</span><span class="p">,</span><span class="s">"10"</span><span class="p">,</span><span class="s">"11"</span><span class="p">,</span><span class="s">"12"</span><span class="p">],</span><span class="s">"paymentMethod"</span><span class="p">:</span><span class="s">"CCVISAMC"</span><span class="p">}}</span>
</code></pre>
<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>binType</td>
<td>Sorgulunan kartın Bin Tipinin iletildiği parametredir.(Mastercard,Visa,Troy v.b.)</td>
</tr>
<tr>
<td>binIssuer</td>
<td>Sorgulunan kartın Banka bilgisin iletildiği bankadır. (Akbank, ING Bank v.b.)</td>
</tr>
<tr>
<td>cardType</td>
<td>Sorgulanan kartın tipinin iletildiği parametredir.( Kredi kartı, Debit card )</td>
</tr>
<tr>
<td>country</td>
<td>Sorgulanan kartın ülkesinin iletildiği parametredir.</td>
</tr>
<tr>
<td>program</td>
<td>Sorgulanan kartın bağlılık programı bilgisinin iletildiği paramtredir.( Axes,Bonus v.b.)</td>
</tr>
<tr>
<td>installments</td>
<td>Sorgulanan karta üye işyeri tarafından uygulanabilecek taksit değerlerinin iletildiği parametredir.</td>
</tr>
</tbody></table>
<h3 id='bin-servisi-v1-hash-hesaplama'>BIN Servisi v1 Hash Hesaplama</h3>
<p><strong>Örnek BIN Servisinde HASH hesaplama için kullanılacak değerler aşağıdaki gibidir.</strong></p>

<p><code>merchant = OPU_TEST</code> <br>
<code>timestamp = 1507270831</code> <br></p>

<aside class="notice">
 BIN API v1'de hash hesaplaması yaparken, Key'e göre sıralamamalısınız, yukarıdaki örnek sıralama ile işleme almalısınız.
</aside>

<p><strong>Aşağıdaki örnek gibi sıralanmalıdır.</strong>
<code>OPU_TEST1507270831</code></p>

<p><strong>Değerler üye işyeri kodlama anahtarınız kullanılarak HMAC_SHA256 algoritması ile haslenmelidir.</strong></p>

<ul>
<li>Kullanılan Kodlama Anahtarı: SECRET_KEY</li>
</ul>

<p><strong>Elde edilen değer:</strong> <code>9e4754deb7d62ab8b29abc18aca2829dab076e85da8e5968a022b8525bbbd829</code></p>
<h2 id='bin-servisi-v2-bin-ve-puan-sorgusu'>BIN Servisi v2(BIN ve Puan Sorgusu)</h2>
<blockquote>
<p>Örnek BIN API v2 İsteği </p>

<p><a href="https://github.com/PayUTurkiye/PayUTR_CSharp/raw/master/PayU_TR_CSharp.zip"> C Sharp Örnek Proje ve Kodları buradan indirebilirsiniz. </a></p>
</blockquote>
<<<<<<< HEAD
<pre class="highlight csharp tab-csharp"><code><span class="n">BinV2Request</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">BinV2Request</span><span class="p">();</span>
<span class="n">request</span><span class="p">.</span><span class="n">MERCHANT</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">DATETIME</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"yyyy-MM-ddTHH\\:mm\\:ss+00:00"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="n">EXTRAINFO</span> <span class="p">=</span> <span class="s">"true"</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">CC_CVV</span> <span class="p">=</span> <span class="n">cvc</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">CC_OWNER</span> <span class="p">=</span> <span class="n">nameSurname</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">EXP_YEAR</span> <span class="p">=</span><span class="n">year</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">EXP_MONTH</span> <span class="p">=</span> <span class="n">month</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">CC_NUMBER</span> <span class="p">=</span> <span class="n">cardNumber</span><span class="p">;</span>
<span class="n">Options</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
<span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/api/card-info/v2/"</span><span class="p">;</span>
<span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
<span class="n">model</span><span class="p">.</span><span class="n">Response</span> <span class="p">=</span><span class="n">BinV2Request</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
=======
<pre class="highlight csharp tab-csharp"><code>            <span class="n">BinV2Request</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">BinV2Request</span><span class="p">();</span>
            <span class="n">request</span><span class="p">.</span><span class="n">MERCHANT</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">DATETIME</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"yyyy-MM-ddTHH\\:mm\\:ss+00:00"</span><span class="p">);</span>
            <span class="n">request</span><span class="p">.</span><span class="n">EXTRAINFO</span> <span class="p">=</span> <span class="s">"true"</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">CC_CVV</span> <span class="p">=</span> <span class="n">cvc</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">CC_OWNER</span> <span class="p">=</span> <span class="n">nameSurname</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">EXP_YEAR</span> <span class="p">=</span><span class="n">year</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">EXP_MONTH</span> <span class="p">=</span> <span class="n">month</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">CC_NUMBER</span> <span class="p">=</span> <span class="n">cardNumber</span><span class="p">;</span>
            <span class="n">Options</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
            <span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/api/card-info/v2/"</span><span class="p">;</span>
            <span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
            <span class="n">model</span><span class="p">.</span><span class="n">Response</span> <span class="p">=</span><span class="n">BinV2Request</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
>>>>>>> 3ed3dff92d6b76228aaccf3922e0c87dca9c7fe9
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">EndPointUrl</span> <span class="o">=</span> <span class="s1">'https://secure.payu.com.tr/api/card-info/v2/'</span><span class="p">;</span>
<span class="nx">Merchant</span> <span class="o">=</span> <span class="s1">'OPU_TEST'</span><span class="p">;</span>
<span class="nx">SecretKey</span> <span class="o">=</span> <span class="s1">'SECRET_KEY'</span><span class="p">;</span>
<span class="nx">LoyaltyPoints</span> <span class="o">=</span> <span class="s1">'true'</span><span class="p">;</span>
<span class="nx">cardCVV</span> <span class="o">=</span> <span class="s1">'000'</span><span class="p">;</span>
<span class="nx">cardHolder</span> <span class="o">=</span> <span class="s1">'Dummy Dummy'</span><span class="p">;</span>
<span class="nx">ExpYear</span> <span class="o">=</span> <span class="s1">'2018'</span><span class="p">;</span>
<span class="nx">ExpMonth</span> <span class="o">=</span> <span class="s1">'12'</span><span class="p">;</span>
<span class="nx">CardNumber</span> <span class="o">=</span> <span class="s1">'4355084355084358'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">moment</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moment'</span><span class="p">);</span>
<span class="nx">date</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">.</span><span class="nx">utc</span><span class="p">().</span><span class="nx">format</span><span class="p">(</span><span class="s1">'YYYY-MM-DDTHH:mm:ss+00:00'</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span>  <span class="p">{</span>
    <span class="s1">'merchant'</span><span class="p">:</span> <span class="nx">Merchant</span><span class="p">,</span>
    <span class="s1">'extraInfo'</span><span class="p">:</span> <span class="nx">LoyaltyPoints</span><span class="p">,</span>
    <span class="s1">'dateTime'</span><span class="p">:</span> <span class="nx">date</span><span class="p">,</span>
    <span class="s1">'cc_cvv'</span><span class="p">:</span> <span class="nx">cardCVV</span><span class="p">,</span>
    <span class="s1">'cc_owner'</span><span class="p">:</span> <span class="nx">cardHolder</span><span class="p">,</span>
    <span class="s1">'exp_year'</span><span class="p">:</span> <span class="nx">ExpYear</span><span class="p">,</span>
    <span class="s1">'exp_month'</span><span class="p">:</span> <span class="nx">ExpMonth</span><span class="p">,</span>
    <span class="s1">'cc_number'</span><span class="p">:</span> <span class="nx">CardNumber</span>
<span class="p">};</span>

<span class="nx">hashstring</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">sortKeys</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'sort-keys'</span><span class="p">);</span>
<span class="nx">sorted</span> <span class="o">=</span> <span class="nx">sortKeys</span><span class="p">(</span><span class="nx">array</span><span class="p">)</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">k</span> <span class="k">in</span> <span class="nx">sorted</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">hashstring</span> <span class="o">+=</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">].</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span> <span class="p">;</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">)</span>
    <span class="p">,</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">hashstring</span>
    <span class="p">,</span> <span class="nx">secretkey</span> <span class="o">=</span> <span class="nx">SecretKey</span><span class="p">;</span>

<span class="nx">signature</span> <span class="o">=</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s1">'sha256'</span><span class="p">,</span> <span class="nx">secretkey</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="nx">array</span><span class="p">[</span><span class="s1">'signature'</span><span class="p">]</span> <span class="o">=</span> <span class="nx">signature</span>

<span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">EndPointUrl</span><span class="p">,</span> <span class="p">{</span><span class="na">form</span><span class="p">:</span><span class="nx">array</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">error</span><span class="p">);</span>
    <span class="c1">//console.log(response);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>

<span class="p">});</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">urlencode</span>
<span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>

<span class="c"># Endpoint</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'https://secure.payu.com.tr/api/card-info/v2/'</span>

<span class="c"># PayU Merchant's Secret Key</span>
<span class="n">secret</span> <span class="o">=</span> <span class="s">'SECRET_KEY'</span>

<span class="c"># Request @params Begin</span>
<span class="n">array</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c"># PayU Merchant's Merchant ID</span>
    <span class="s">'merchant'</span><span class="p">:</span> <span class="s">'OPU_TEST'</span><span class="p">,</span>
    <span class="s">'extraInfo'</span><span class="p">:</span> <span class="s">'true'</span><span class="p">,</span>
    <span class="s">'dateTime'</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">Y-</span><span class="si">%</span><span class="s">m-</span><span class="si">%</span><span class="s">dT</span><span class="si">%</span><span class="s">X+00:00'</span><span class="p">),</span>
    <span class="s">'cc_cvv'</span><span class="p">:</span> <span class="s">'000'</span><span class="p">,</span>
    <span class="s">'cc_owner'</span><span class="p">:</span> <span class="s">'Ad Soyad'</span><span class="p">,</span>
    <span class="s">'exp_year'</span><span class="p">:</span> <span class="s">'2018'</span><span class="p">,</span>
    <span class="s">'exp_month'</span><span class="p">:</span> <span class="s">'12'</span><span class="p">,</span>
    <span class="s">'cc_number'</span><span class="p">:</span> <span class="s">'4355084355084358'</span><span class="p">,</span>
<span class="p">}</span>
<span class="c"># Initializing the hashstring @param</span>
<span class="n">hashstring</span> <span class="o">=</span> <span class="s">''</span>

<span class="c"># Sorting Array @params</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">array</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>

<span class="c"># Adding the UTF-8 byte length of each field value at the beginning of field value</span>
    <span class="n">hashstring</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'UTF-8'</span><span class="p">)))</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">hashstring</span><span class="p">)</span>

<span class="c"># Calculating signature</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashstring</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">sha256</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>

<span class="c"># Adding signature @param to request array</span>
<span class="n">array</span><span class="p">[</span><span class="s">'signature'</span><span class="p">]</span> <span class="o">=</span> <span class="n">signature</span>

<span class="k">print</span><span class="p">(</span><span class="n">signature</span><span class="p">)</span>

<span class="c"># Sending Request to Endpoint</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">urlencode</span><span class="p">(</span><span class="n">array</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

<span class="c"># Printing result/response</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

<span class="nv">$url</span><span class="o">=</span> <span class="s2">"https://secure.payu.com.tr/api/card-info/v2/"</span><span class="p">;</span>
<span class="nv">$secret</span><span class="o">=</span><span class="s2">"SECRET_KEY"</span><span class="p">;</span>
<span class="nv">$arParams</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s2">"extraInfo"</span>        <span class="o">=&gt;</span> <span class="s2">"true"</span><span class="p">,</span>
    <span class="s2">"dateTime"</span>     <span class="o">=&gt;</span> <span class="nb">gmdate</span><span class="p">(</span><span class="s2">"c"</span><span class="p">,</span> <span class="nb">time</span><span class="p">()),</span>
    <span class="s2">"merchant"</span>      <span class="o">=&gt;</span> <span class="s1">'OPU_TEST'</span><span class="p">,</span>
    <span class="s2">"cc_cvv"</span>        <span class="o">=&gt;</span> <span class="s2">"000"</span><span class="p">,</span>
    <span class="s2">"cc_owner"</span> <span class="o">=&gt;</span> <span class="s2">"Göktürk Enez"</span><span class="p">,</span>
    <span class="s2">"exp_year"</span> <span class="o">=&gt;</span> <span class="s2">"2020"</span><span class="p">,</span>
    <span class="s2">"exp_month"</span> <span class="o">=&gt;</span> <span class="s2">"12"</span><span class="p">,</span>
    <span class="s2">"cc_number"</span> <span class="o">=&gt;</span> <span class="s2">"4355084355084358"</span><span class="p">,</span>
<span class="p">);</span>
<span class="nb">ksort</span><span class="p">(</span><span class="nv">$arParams</span><span class="p">);</span>
<span class="nv">$hashString</span> <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nv">$arParams</span> <span class="k">as</span> <span class="nv">$v</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$hashString</span> <span class="o">.=</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$v</span><span class="p">)</span> <span class="o">.</span> <span class="nv">$v</span><span class="p">;</span>
<span class="p">}</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$arParams</span><span class="p">);</span>
<span class="k">echo</span> <span class="nv">$hashString</span><span class="p">;</span>
<span class="nv">$arParams</span><span class="p">[</span><span class="s2">"signature"</span><span class="p">]</span> <span class="o">=</span> <span class="nb">hash_hmac</span><span class="p">(</span><span class="s2">"SHA256"</span><span class="p">,</span> <span class="nv">$hashString</span><span class="p">,</span> <span class="nv">$secret</span><span class="p">);</span>
<span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>
<span class="k">echo</span> <span class="nv">$arParams</span><span class="p">[</span><span class="s2">"signature"</span><span class="p">];</span>
<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_SSL_VERIFYPEER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_SSL_VERIFYHOST</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_IPRESOLVE</span><span class="p">,</span> <span class="nx">CURL_IPRESOLVE_V4</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_TIMEOUT</span><span class="p">,</span> <span class="mi">60</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">http_build_query</span><span class="p">(</span><span class="nv">$arParams</span><span class="p">));</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nv">$curlerrcode</span> <span class="o">=</span> <span class="nb">curl_errno</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nv">$curlerr</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="k">empty</span><span class="p">(</span><span class="nv">$curlerr</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="k">empty</span><span class="p">(</span><span class="nv">$curlerrcode</span><span class="p">))</span> <span class="p">{</span>
    <span class="nv">$parsedXML</span> <span class="o">=</span> <span class="o">@</span><span class="nb">simplexml_load_string</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
    <span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>
    <span class="k">print</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
    <span class="k">echo</span> <span class="s2">"&lt;/pre&gt;"</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$parsedXML</span> <span class="o">!==</span> <span class="k">FALSE</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s2">"XML parsing is failed"</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">"cURL error: "</span> <span class="o">.</span> <span class="nv">$curlerr</span><span class="p">;</span>
<span class="p">}</span>
<span class="cp">?&gt;</span>
</code></pre>
<aside class="notice">
İkinci versiyonda, birinci versiyona ek olarak; taksit sayısı ile birlikte komisyon oranlarını ve kartın kullanılabilir puan bilgisi dönmektedir.
</aside>
 

<p>Kart bilgilerinin tümü kullanılarak:</p>

<ul>
<li>Kart Ülkesini </li>
<li>Kart bankasını</li>
<li>Bin tipini (Visa/Mastercard/Amex/Troy v.s.)</li>
<li>Kart bağlılık programını (bonus,axess v.s.) </li>
<li>Kart tipini (kredi kartı/debit kart) </li>
<li>Kullanılabilir puanını </li>
<li>Sorgulanan karta üye işyeri tarafından uygulanabilecek taksit değerlerinin ve taksit bazlı komisyon oranını öğrenebilirsiniz.<br></li>
</ul>
<<<<<<< HEAD
<h3 id='istek-parametreleri-8'>İstek Parametreleri</h3>
<p>Endpoint POST <code>https://secure.payu.com.tr/api/card-info/v2/</code></p>
=======
<h3 id='istek-parametreleri-4'>İstek Parametreleri</h3>
<p>HTTP Post ile işlem istekleri <code>https://secure.payu.com.tr/api/card-info/v2/</code> adresine gönderilmelidir.</p>
>>>>>>> 3ed3dff92d6b76228aaccf3922e0c87dca9c7fe9

<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>merchant</td>
<td>Üye iş yeri entegrasyon ismi.</td>
</tr>
<tr>
<td>extraInfo</td>
<td>true değer ile gönderilmesi durumunda puan sorgusu yapılmasını sağlayan parametredir.</td>
</tr>
<tr>
<td>dateTime</td>
<td>ISO_8601 formatında istek aman değeri (Örn: 2017-10-06T06:52:14+00:00 )</td>
</tr>
<tr>
<td>cc_cvv</td>
<td>Sorgusu yapılacak kartın güvenlik kodu</td>
</tr>
<tr>
<td>cc_owner</td>
<td>Sorgusu yapılacak kart sahibinin Ad Soyad bilgisi</td>
</tr>
<tr>
<td>exp_year</td>
<td>Sorgusu yapılacak kartın son kullanma yılı</td>
</tr>
<tr>
<td>exp_month</td>
<td>Sorgusu yapılacak kartın son kullanma ayı</td>
</tr>
<tr>
<td>cc_number</td>
<td>Sorgusu yapılacak kartın kart numarası</td>
</tr>
<tr>
<td>signature</td>
<td>İstek sırasında gönderilen değerlerin Key&#39;e göre sıralanıp, başlarına uzunlukları eklendikten sonra HMAC_SHA256 algoritması ile hash oluşturulan değerdir.</td>
</tr>
</tbody></table>
<h3 id='yanit-parametreleri-7'>Yanıt Parametreleri</h3>
<blockquote>
<p>Örnek Başarılı BIN API v2 Yanıtı </p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="p">{</span><span class="s">"meta"</span><span class="p">:{</span><span class="s">"code"</span><span class="p">:</span><span class="m">200</span><span class="p">,</span><span class="s">"message"</span><span class="p">:</span><span class="s">"success"</span><span class="p">},</span><span class="s">"cardInfo"</span><span class="p">:{</span><span class="s">"cardMask"</span><span class="p">:</span><span class="s">"4355084355084358"</span><span class="p">,</span><span class="s">"binNumber"</span><span class="p">:</span><span class="s">"435508"</span><span class="p">,</span><span class="s">"cardBrand"</span><span class="p">:</span><span class="s">"VISA"</span><span class="p">,</span><span class="s">"issuerBank"</span><span class="p">:</span><span class="s">"AKBANK"</span><span class="p">,</span><span class="s">"issuerCountry"</span><span class="p">:</span><span class="s">"Turkey"</span><span class="p">,</span><span class="s">"cardType"</span><span class="p">:</span><span class="s">"CREDIT"</span><span class="p">,</span><span class="s">"cardProgram"</span><span class="p">:</span><span class="s">"Axess"</span><span class="p">,</span><span class="s">"installmentOptions"</span><span class="p">:[{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="m">1</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="m">0</span><span class="p">},{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="s">"2"</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s">"0.00"</span><span class="p">},{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="s">"3"</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s">"6.16"</span><span class="p">},{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="s">"4"</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s">"7.07"</span><span class="p">},{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="s">"5"</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s">"7.53"</span><span class="p">},{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="s">"6"</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s">"8.24"</span><span class="p">},{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="s">"7"</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s">"8.98"</span><span class="p">},{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="s">"8"</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s">"9.25"</span><span class="p">},{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="s">"9"</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s">"10.25"</span><span class="p">},{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="s">"10"</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s">"13.64"</span><span class="p">},{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="s">"11"</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s">"14.94"</span><span class="p">},{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="s">"12"</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s">"16.28"</span><span class="p">}],</span><span class="s">"loyaltyPoints"</span><span class="p">:[{</span><span class="s">"type"</span><span class="p">:</span><span class="s">""</span><span class="p">,</span><span class="s">"number"</span><span class="p">:</span><span class="m">87945</span><span class="p">,</span><span class="s">"moneyValue"</span><span class="p">:{</span><span class="s">"amount"</span><span class="p">:</span><span class="m">879.45</span><span class="p">,</span><span class="s">"currency"</span><span class="p">:</span><span class="s">"TRY"</span><span class="p">}}]}}</span>

</code></pre><pre class="highlight javascript tab-javascript"><code><span class="p">{</span><span class="s2">"meta"</span><span class="p">:{</span><span class="s2">"code"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="s2">"message"</span><span class="p">:</span><span class="s2">"success"</span><span class="p">},</span><span class="s2">"cardInfo"</span><span class="p">:{</span><span class="s2">"cardMask"</span><span class="p">:</span><span class="s2">"4355084355084358"</span><span class="p">,</span><span class="s2">"binNumber"</span><span class="p">:</span><span class="s2">"435508"</span><span class="p">,</span><span class="s2">"cardBrand"</span><span class="p">:</span><span class="s2">"VISA"</span><span class="p">,</span><span class="s2">"issuerBank"</span><span class="p">:</span><span class="s2">"AKBANK"</span><span class="p">,</span><span class="s2">"issuerCountry"</span><span class="p">:</span><span class="s2">"Turkey"</span><span class="p">,</span><span class="s2">"cardType"</span><span class="p">:</span><span class="s2">"CREDIT"</span><span class="p">,</span><span class="s2">"cardProgram"</span><span class="p">:</span><span class="s2">"Axess"</span><span class="p">,</span><span class="s2">"installmentOptions"</span><span class="p">:[{</span><span class="s2">"installmentNumber"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s2">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="mi">0</span><span class="p">},{</span><span class="s2">"installmentNumber"</span><span class="p">:</span><span class="s2">"2"</span><span class="p">,</span><span class="s2">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s2">"0.00"</span><span class="p">},{</span><span class="s2">"installmentNumber"</span><span class="p">:</span><span class="s2">"3"</span><span class="p">,</span><span class="s2">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s2">"6.16"</span><span class="p">},{</span><span class="s2">"installmentNumber"</span><span class="p">:</span><span class="s2">"4"</span><span class="p">,</span><span class="s2">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s2">"7.07"</span><span class="p">},{</span><span class="s2">"installmentNumber"</span><span class="p">:</span><span class="s2">"5"</span><span class="p">,</span><span class="s2">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s2">"7.53"</span><span class="p">},{</span><span class="s2">"installmentNumber"</span><span class="p">:</span><span class="s2">"6"</span><span class="p">,</span><span class="s2">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s2">"8.24"</span><span class="p">},{</span><span class="s2">"installmentNumber"</span><span class="p">:</span><span class="s2">"7"</span><span class="p">,</span><span class="s2">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s2">"8.98"</span><span class="p">},{</span><span class="s2">"installmentNumber"</span><span class="p">:</span><span class="s2">"8"</span><span class="p">,</span><span class="s2">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s2">"9.25"</span><span class="p">},{</span><span class="s2">"installmentNumber"</span><span class="p">:</span><span class="s2">"9"</span><span class="p">,</span><span class="s2">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s2">"10.25"</span><span class="p">},{</span><span class="s2">"installmentNumber"</span><span class="p">:</span><span class="s2">"10"</span><span class="p">,</span><span class="s2">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s2">"13.64"</span><span class="p">},{</span><span class="s2">"installmentNumber"</span><span class="p">:</span><span class="s2">"11"</span><span class="p">,</span><span class="s2">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s2">"14.94"</span><span class="p">},{</span><span class="s2">"installmentNumber"</span><span class="p">:</span><span class="s2">"12"</span><span class="p">,</span><span class="s2">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s2">"16.28"</span><span class="p">}],</span><span class="s2">"loyaltyPoints"</span><span class="p">:[{</span><span class="s2">"type"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="s2">"number"</span><span class="p">:</span><span class="mi">87945</span><span class="p">,</span><span class="s2">"moneyValue"</span><span class="p">:{</span><span class="s2">"amount"</span><span class="p">:</span><span class="mf">879.45</span><span class="p">,</span><span class="s2">"currency"</span><span class="p">:</span><span class="s2">"TRY"</span><span class="p">}}]}}</span>

</code></pre><pre class="highlight python tab-python"><code><span class="p">{</span><span class="s">"meta"</span><span class="p">:{</span><span class="s">"code"</span><span class="p">:</span><span class="mi">200</span><span class="p">,</span><span class="s">"message"</span><span class="p">:</span><span class="s">"success"</span><span class="p">},</span><span class="s">"cardInfo"</span><span class="p">:{</span><span class="s">"cardMask"</span><span class="p">:</span><span class="s">"4355084355084358"</span><span class="p">,</span><span class="s">"binNumber"</span><span class="p">:</span><span class="s">"435508"</span><span class="p">,</span><span class="s">"cardBrand"</span><span class="p">:</span><span class="s">"VISA"</span><span class="p">,</span><span class="s">"issuerBank"</span><span class="p">:</span><span class="s">"AKBANK"</span><span class="p">,</span><span class="s">"issuerCountry"</span><span class="p">:</span><span class="s">"Turkey"</span><span class="p">,</span><span class="s">"cardType"</span><span class="p">:</span><span class="s">"CREDIT"</span><span class="p">,</span><span class="s">"cardProgram"</span><span class="p">:</span><span class="s">"Axess"</span><span class="p">,</span><span class="s">"installmentOptions"</span><span class="p">:[{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="mi">0</span><span class="p">},{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="s">"2"</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s">"0.00"</span><span class="p">},{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="s">"3"</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s">"6.16"</span><span class="p">},{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="s">"4"</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s">"7.07"</span><span class="p">},{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="s">"5"</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s">"7.53"</span><span class="p">},{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="s">"6"</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s">"8.24"</span><span class="p">},{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="s">"7"</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s">"8.98"</span><span class="p">},{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="s">"8"</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s">"9.25"</span><span class="p">},{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="s">"9"</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s">"10.25"</span><span class="p">},{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="s">"10"</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s">"13.64"</span><span class="p">},{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="s">"11"</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s">"14.94"</span><span class="p">},{</span><span class="s">"installmentNumber"</span><span class="p">:</span><span class="s">"12"</span><span class="p">,</span><span class="s">"installmentAditionalCostPercent"</span><span class="p">:</span><span class="s">"16.28"</span><span class="p">}],</span><span class="s">"loyaltyPoints"</span><span class="p">:[{</span><span class="s">"type"</span><span class="p">:</span><span class="s">""</span><span class="p">,</span><span class="s">"number"</span><span class="p">:</span><span class="mi">87945</span><span class="p">,</span><span class="s">"moneyValue"</span><span class="p">:{</span><span class="s">"amount"</span><span class="p">:</span><span class="mf">879.45</span><span class="p">,</span><span class="s">"currency"</span><span class="p">:</span><span class="s">"TRY"</span><span class="p">}}]}}</span>

</code></pre>
<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>cardMask</td>
<td>Sorgulunan kart numarası.</td>
</tr>
<tr>
<td>binNumber</td>
<td>Sorgulunan kartın BIN numarası.</td>
</tr>
<tr>
<td>cardBrand</td>
<td>Sorgulunan kartın Bin Tipinin iletildiği parametredir.(Mastercard,Visa,Troy v.b.)</td>
</tr>
<tr>
<td>issuerBank</td>
<td>Sorgulunan kartın Banka bilgisin iletildiği bankadır. (Akbank, ING Bank v.b.)</td>
</tr>
<tr>
<td>cardType</td>
<td>Sorgulanan kartın tipinin iletildiği parametredir.( Kredi kartı, Debit card )</td>
</tr>
<tr>
<td>issuerCountry</td>
<td>Sorgulanan kartın ülkesinin iletildiği parametredir.</td>
</tr>
<tr>
<td>cardProgram</td>
<td>Sorgulanan kartın bağlılık programı bilgisinin iletildiği paramtredir.( Axes,Bonus v.b.)</td>
</tr>
<tr>
<td>installmentOptions</td>
<td>Sorgulanan karta üye işyeri tarafından uygulanabilecek taksit değerlerinin iletildiği parametredir.</td>
</tr>
<tr>
<td>installmentNumber</td>
<td>Sorgulanan karta üye işyeri tarafından uygulanabilecek taksit sayısının iletildiği parametredir.</td>
</tr>
<tr>
<td>installmentAditionalCostPercent</td>
<td>Sorgulanan karta üye işyeri tarafından uygulanabilecek taksit sayısının komisyon bilgisinin iletildiği parametredir.</td>
</tr>
<tr>
<td>loyaltyPoints</td>
<td>Sorgulanan kartın puan değerinin iletildiği parametredir.</td>
</tr>
<tr>
<td>type</td>
<td>Kullanılabilir puan tipi</td>
</tr>
<tr>
<td>number</td>
<td>Kullanılabilir puan adedi</td>
</tr>
<tr>
<td>moneyValue</td>
<td>Kullanılabilir puanın para birimi cinsinden değeri</td>
</tr>
<tr>
<td>amount</td>
<td>Kullanılabilir puanın para birimi cinsinden tutarı</td>
</tr>
<tr>
<td>currency</td>
<td>Kullanılabilir puanın para birimi</td>
</tr>
</tbody></table>
<h3 id='bin-servisi-v2-hash-hesaplama'>BIN Servisi v2 Hash Hesaplama</h3>
<p><strong>Örnek BIN Servisi v2 HASH hesaplama için kullanılacak değerler aşağıdaki gibidir.</strong></p>

<p><code>merchant = OPU_TEST</code> <br>
<code>extraInfo = true</code> <br>
<code>dateTime = 2017-10-06T07:09:38+00:00</code> <br>
<code>cc_cvv = 000</code> <br>
<code>cc_owner = Ad Soyad</code> <br>
<code>exp_month = 12</code> <br>
<code>exp_year = 2018</code> <br>
<code>cc_number = 4355 0843 5508 4358</code> <br></p>

<p><strong>Parametreler Key&#39;e göre sıralanıp ardından uzunluğu alınarak, değerin başına eklenmeli.</strong>
<code>30001643550843550843588Ad Soyad252017-10-06T07:09:38+00:00212420184true8OPU_TEST</code></p>

<p><strong>Değerler üye işyeri kodlama anahtarınız kullanılarak HMAC_SHA256 algoritması ile haslenmelidir.</strong></p>

<ul>
<li>Kullanılan Kodlama Anahtarı: SECRET_KEY</li>
</ul>

<p><strong>Elde edilen değer:</strong> <code>33aa1398ab81a62af53de5481f2958316b051621230d548aad1600f0f0709d6e</code></p>

<blockquote>
<p>Örnek Puan Sorgusu</p>

<p><a href="https://github.com/PayUTurkiye/PayUTR_CSharp/raw/master/PayU_TR_CSharp.zip"> C Sharp Örnek Proje ve Kodları buradan indirebilirsiniz. </a></p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code>
<<<<<<< HEAD
<span class="n">PointCheckRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">PointCheckRequest</span><span class="p">();</span>
<span class="n">request</span><span class="p">.</span><span class="n">MERCHANT</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">CC_OWNER</span> <span class="p">=</span> <span class="n">owner</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">CC_NUMBER</span> <span class="p">=</span> <span class="n">cardNumber</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">EXP_MONTH</span> <span class="p">=</span> <span class="n">month</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">EXP_YEAR</span> <span class="p">=</span> <span class="n">year</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">CC_CVV</span> <span class="p">=</span> <span class="n">cvv</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">CURRENCY</span> <span class="p">=</span> <span class="s">"TRY"</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">DATE</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"yyyy-MM-dd HH:mm:ss"</span><span class="p">);</span>
<span class="n">Options</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
<span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/api/loyalty-points/check"</span><span class="p">;</span>
<span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="n">PointCheckRequest</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span> 
=======
            <span class="n">PointCheckRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">PointCheckRequest</span><span class="p">();</span>
            <span class="n">request</span><span class="p">.</span><span class="n">MERCHANT</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">CC_OWNER</span> <span class="p">=</span> <span class="n">owner</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">CC_NUMBER</span> <span class="p">=</span> <span class="n">cardNumber</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">EXP_MONTH</span> <span class="p">=</span> <span class="n">month</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">EXP_YEAR</span> <span class="p">=</span> <span class="n">year</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">CC_CVV</span> <span class="p">=</span> <span class="n">cvv</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">CURRENCY</span> <span class="p">=</span> <span class="s">"TRY"</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">DATE</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"yyyy-MM-dd HH:mm:ss"</span><span class="p">);</span>
            <span class="n">Options</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
            <span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/api/loyalty-points/check"</span><span class="p">;</span>
            <span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
            <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="n">PointCheckRequest</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span> 
>>>>>>> 3ed3dff92d6b76228aaccf3922e0c87dca9c7fe9

</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">EndPointUrl</span> <span class="o">=</span> <span class="s1">'https://secure.payu.com.tr/api/loyalty-points/check'</span><span class="p">;</span>

<span class="nx">SecretKey</span> <span class="o">=</span> <span class="s1">'SECRET_KEY'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">moment</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moment'</span><span class="p">);</span>
<span class="nx">date</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">.</span><span class="nx">utc</span><span class="p">().</span><span class="nx">format</span><span class="p">(</span><span class="s1">'YYYY-MM-DD HH:mm:ss'</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span>
<span class="nx">ORDER_REF</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">()</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="mi">1000</span><span class="p">));</span>


<span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'MERCHANT'</span><span class="p">:</span> <span class="s1">'OPU_TEST'</span><span class="p">,</span>
    <span class="s1">'CC_OWNER'</span><span class="p">:</span> <span class="s1">'John Doe'</span><span class="p">,</span>
    <span class="s1">'CC_NUMBER'</span><span class="p">:</span> <span class="s1">'4355084355084358'</span><span class="p">,</span>
    <span class="s1">'EXP_MONTH'</span><span class="p">:</span> <span class="s1">'12'</span><span class="p">,</span>
    <span class="s1">'EXP_YEAR'</span><span class="p">:</span> <span class="s1">'2018'</span><span class="p">,</span>
    <span class="s1">'CC_CVV'</span><span class="p">:</span> <span class="s1">'000'</span><span class="p">,</span>
    <span class="s1">'CURRENCY'</span><span class="p">:</span><span class="s1">'TRY'</span><span class="p">,</span>
    <span class="s1">'DATE'</span><span class="p">:</span> <span class="nx">date</span>

<span class="p">};</span>

<span class="nx">hashstring</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">sortKeys</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'sort-keys'</span><span class="p">);</span>
<span class="nx">sorted</span> <span class="o">=</span> <span class="nx">sortKeys</span><span class="p">(</span><span class="nx">array</span><span class="p">);</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">k</span> <span class="k">in</span> <span class="nx">sorted</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">hashstring</span> <span class="o">+=</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">].</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span> <span class="p">;</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">)</span>
    <span class="p">,</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">hashstring</span>
    <span class="p">,</span> <span class="nx">secretkey</span> <span class="o">=</span> <span class="nx">SecretKey</span><span class="p">;</span>

<span class="nx">signature</span> <span class="o">=</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s1">'md5'</span><span class="p">,</span> <span class="nx">secretkey</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="nx">array</span><span class="p">[</span><span class="s1">'HASH'</span><span class="p">]</span> <span class="o">=</span> <span class="nx">signature</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">parseString</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'xml2js'</span><span class="p">).</span><span class="nx">parseString</span><span class="p">;</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">EndPointUrl</span><span class="p">,</span> <span class="p">{</span><span class="na">form</span><span class="p">:</span><span class="nx">array</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">parseString</span><span class="p">(</span><span class="nx">body</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">result</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">parsedXML</span> <span class="o">=</span> <span class="nx">result</span><span class="p">[</span><span class="s1">'EPAYMENT'</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">parsedXML</span><span class="p">[</span><span class="s2">"STATUS"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"SUCCESS"</span> <span class="o">&amp;&amp;</span> <span class="nx">parsedXML</span><span class="p">[</span><span class="s2">"RETURN_CODE"</span><span class="p">]</span> <span class="o">==</span> <span class="s2">"3DS_ENROLLED"</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">"You should make rediretction to"</span><span class="p">,</span><span class="nx">parsedXML</span><span class="p">[</span><span class="s2">"URL_3DS"</span><span class="p">],</span><span class="s2">"for completing transaction"</span><span class="p">)</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>

        <span class="p">}</span>
    <span class="p">});</span>


<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>

    <span class="nv">$apiEndPoint</span> <span class="o">=</span> <span class="s1">'https://secure.payu.com.tr/api/loyalty-points/check'</span><span class="p">;</span>

 <span class="nv">$data</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
                <span class="s1">'CC_OWNER'</span> <span class="o">=&gt;</span> <span class="s1">'Ad Soyad'</span><span class="p">,</span>
                <span class="s1">'MERCHANT'</span> <span class="o">=&gt;</span> <span class="s1">'OPU_TEST'</span><span class="p">,</span>
                <span class="s1">'CC_NUMBER'</span> <span class="o">=&gt;</span> <span class="s1">'4355084355084358'</span><span class="p">,</span>
                <span class="s1">'CC_OWNER'</span> <span class="o">=&gt;</span> <span class="s1">'John Doe'</span><span class="p">,</span>
                <span class="s1">'EXP_MONTH'</span> <span class="o">=&gt;</span> <span class="s1">'12'</span><span class="p">,</span>
                <span class="s1">'EXP_YEAR'</span> <span class="o">=&gt;</span> <span class="s1">'2018'</span><span class="p">,</span>
                <span class="s1">'CC_CVV'</span> <span class="o">=&gt;</span> <span class="s1">'000'</span><span class="p">,</span>
                <span class="s1">'CURRENCY'</span> <span class="o">=&gt;</span> <span class="s1">'TRY'</span><span class="p">,</span>
                <span class="s1">'DATE'</span> <span class="o">=&gt;</span> <span class="nb">gmdate</span><span class="p">(</span><span class="s1">'Y-m-d H:i:s'</span><span class="p">),</span>
            <span class="p">);</span>


    <span class="nb">ksort</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

    <span class="nv">$hashString</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>

    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$data</span> <span class="k">as</span> <span class="nv">$currentData</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$hashString</span> <span class="o">.=</span> <span class="nb">strlen</span><span class="p">(</span><span class="nb">stripslashes</span><span class="p">(</span><span class="nv">$currentData</span><span class="p">));</span>
            <span class="nv">$hashString</span> <span class="o">.=</span> <span class="nb">stripslashes</span><span class="p">(</span><span class="nv">$currentData</span><span class="p">);</span>
    <span class="p">}</span>
<span class="k">print</span> <span class="nv">$hashString</span><span class="p">;</span>
<span class="nv">$data</span><span class="p">[</span><span class="s1">'HASH'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">hash_hmac</span><span class="p">(</span><span class="s1">'MD5'</span><span class="p">,</span><span class="nv">$hashString</span><span class="p">,</span><span class="s1">'SECRET_KEY'</span><span class="p">);</span>
<span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>

<span class="nv">$handler</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>
    <span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$handler</span><span class="p">,</span> <span class="nx">CURLOPT_CONNECTTIMEOUT</span><span class="p">,</span> <span class="mi">120</span><span class="p">);</span>
    <span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$handler</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
    <span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$handler</span><span class="p">,</span> <span class="nx">CURLOPT_SSL_VERIFYPEER</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
    <span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$handler</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="nv">$apiEndPoint</span><span class="p">);</span>
    <span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$handler</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
    <span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$handler</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nv">$data</span><span class="p">);</span>
    <span class="nv">$result</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$handler</span><span class="p">);</span>
    <span class="nv">$resultInfo</span> <span class="o">=</span> <span class="nb">curl_getinfo</span><span class="p">(</span><span class="nv">$handler</span><span class="p">);</span>
    <span class="nv">$error</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$handler</span><span class="p">);</span>
    <span class="nb">curl_close</span><span class="p">(</span><span class="nv">$handler</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="mi">200</span> <span class="o">==</span> <span class="nv">$resultInfo</span><span class="p">[</span><span class="s1">'http_code'</span><span class="p">])</span> <span class="p">{</span>
         <span class="nv">$resultXML</span> <span class="o">=</span> <span class="p">(</span><span class="k">array</span><span class="p">)</span><span class="nb">simplexml_load_string</span><span class="p">(</span><span class="nv">$result</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$resultXML</span><span class="p">[</span><span class="s1">'STATUS'</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="s1">'SUCCESS'</span> <span class="o">==</span> <span class="nv">$resultXML</span><span class="p">[</span><span class="s1">'STATUS'</span><span class="p">])</span> <span class="p">{</span>
            <span class="k">echo</span> <span class="s1">'Api call succeeded. There are '</span> <span class="o">.</span> <span class="nv">$resultXML</span><span class="p">[</span><span class="s1">'POINTS'</span><span class="p">]</span> <span class="o">.</span> <span class="s1">' points available worthing '</span> <span class="o">.</span> <span class="nv">$resultXML</span><span class="p">[</span><span class="s1">'AMOUNT'</span><span class="p">]</span> <span class="o">.</span> <span class="s1">' '</span> <span class="o">.</span> <span class="nv">$resultXML</span><span class="p">[</span><span class="s1">'CURRENCY'</span><span class="p">];</span>
            <span class="nb">var_dump</span><span class="p">(</span><span class="nv">$resultXML</span><span class="p">);</span>

        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="k">echo</span> <span class="s2">"&lt;pre&gt;"</span><span class="p">;</span>
            <span class="k">echo</span> <span class="s1">'Api call failed. &lt;br&gt;Result: '</span><span class="p">;</span>
            <span class="k">echo</span> <span class="s1">'&lt;pre&gt;'</span> <span class="o">.</span> <span class="nb">htmlentities</span><span class="p">(</span><span class="nv">$result</span><span class="p">)</span> <span class="o">.</span> <span class="s1">'&lt;/pre&gt;'</span><span class="p">;</span>
            <span class="k">echo</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s1">'Api call failed. &lt;br&gt;Error: '</span><span class="p">;</span>
        <span class="k">echo</span> <span class="s1">'&lt;pre&gt;'</span><span class="p">;</span>
        <span class="nb">print_r</span><span class="p">(</span><span class="nv">$error</span><span class="p">);</span>
        <span class="k">echo</span> <span class="s1">'&lt;/pre&gt;'</span><span class="p">;</span>
    <span class="p">}</span>

<span class="cp">?&gt;</span>
</code></pre><pre class="highlight python tab-python"><code>
<span class="c"># Importing required libraries.</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">urlencode</span>
<span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>

<span class="c"># Endpoint</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">"https://secure.payu.com.tr/api/loyalty-points/check"</span>

<span class="c"># PayU Merchant's Secret Key</span>
<span class="n">secret</span> <span class="o">=</span> <span class="s">'SECRET_KEY'</span>

<span class="c"># Request @params Begin</span>
<span class="n">array</span> <span class="o">=</span> <span class="p">{</span>
    <span class="c"># PayU Merchant's Merchant ID</span>
    <span class="s">'MERCHANT'</span><span class="p">:</span> <span class="s">'OPU_TEST'</span><span class="p">,</span>
    <span class="s">'CC_OWNER'</span><span class="p">:</span> <span class="s">'John Doe'</span><span class="p">,</span>
    <span class="s">'CC_NUMBER'</span><span class="p">:</span> <span class="s">'4355084355084358'</span><span class="p">,</span>
    <span class="s">'EXP_MONTH'</span><span class="p">:</span> <span class="s">'12'</span><span class="p">,</span>
    <span class="s">'EXP_YEAR'</span><span class="p">:</span> <span class="s">'2018'</span><span class="p">,</span>
    <span class="s">'CC_CVV'</span><span class="p">:</span> <span class="s">'000'</span><span class="p">,</span>
    <span class="s">'CURRENCY'</span><span class="p">:</span><span class="s">'TRY'</span><span class="p">,</span>
    <span class="s">'DATE'</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">Y-</span><span class="si">%</span><span class="s">m-</span><span class="si">%</span><span class="s">d </span><span class="si">%</span><span class="s">H:</span><span class="si">%</span><span class="s">M:</span><span class="si">%</span><span class="s">S'</span><span class="p">)</span>

<span class="p">}</span>

<span class="c"># Initializing the hashstring @param</span>
<span class="n">hashstring</span> <span class="o">=</span> <span class="s">''</span>

<span class="c"># Sorting Array @params</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">array</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>

<span class="c"># Adding the length of each field value at the beginning of field value</span>
    <span class="n">hashstring</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="p">))</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">hashstring</span><span class="p">)</span>

<span class="c"># Calculating ORDER_HASH</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashstring</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>

<span class="c"># Adding ORDER_HASH @param to request array</span>
<span class="n">array</span><span class="p">[</span><span class="s">'HASH'</span><span class="p">]</span> <span class="o">=</span> <span class="n">signature</span>

<span class="k">print</span><span class="p">(</span><span class="n">signature</span><span class="p">)</span>

<span class="c"># Sending Request to Endpoint</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">urlencode</span><span class="p">(</span><span class="n">array</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

<span class="c"># Printing result/response</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre><h1 id='puan-sorgu-servisi-ve-puan-kullanimi'>Puan Sorgu Servisi ve Puan Kullanımı</h1>
<p>BIN API v2 ile puan sorgusu yapılabileceği gibi, işlem sırasında kullanılan kartın puan bilgisinin alınabileceği ek bir servis bulunmaktadır.</p>
<h3 id='puan-sorgusu'>Puan Sorgusu</h3>
<p>Endpoint POST <code>https://secure.payu.com.tr/api/loyalty-points/check</code></p>

<p>Puan sorgu servisinde endpointe gönderilmesi gereken parametreler aşağıdaki gibidir. </p>
<h3 id='kart-bilgileri-ile-sorgulama'>Kart Bilgileri ile Sorgulama</h3>
<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>MERCHANT</td>
<td>Üye iş yeri entegrasyon ismi.</td>
</tr>
<tr>
<td>CURRENCY</td>
<td>Para birimi</td>
</tr>
<tr>
<td>DATE</td>
<td>UTC/GMT formatı ile ayarlanmalı ve Türkiye saatine göre 3 saat geri olacak şekilde gönderilmelidir. YYYY-MM-DD HH:MM:SS</td>
</tr>
<tr>
<td>CC_CVV</td>
<td>Sorgusu yapılacak kartın güvenlik kodu</td>
</tr>
<tr>
<td>CC_OWNER</td>
<td>Sorgusu yapılacak kart sahibinin Ad Soyad bilgisi</td>
</tr>
<tr>
<td>EXP_YEAR</td>
<td>Sorgusu yapılacak kartın son kullanma yılı</td>
</tr>
<tr>
<td>EXP_MONTH</td>
<td>Sorgusu yapılacak kartın son kullanma ayı</td>
</tr>
<tr>
<td>CC_NUMBER</td>
<td>Sorgusu yapılacak kartın kart numarası</td>
</tr>
<tr>
<td>HASH</td>
<td>İstek sırasında gönderilen değerlerin Key&#39;e göre sıralanıp, başlarına uzunlukları eklendikten sonra HMAC_MD5 algoritması ile hash oluşturulan değerdir.</td>
</tr>
</tbody></table>
<h3 id='saklanmis-kart-token-ile-sorgulama'>Saklanmış Kart (Token) ile Sorgulama</h3>
<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>MERCHANT</td>
<td>Üye iş yeri entegrasyon ismi.</td>
</tr>
<tr>
<td>CURRENCY</td>
<td>Para birimi</td>
</tr>
<tr>
<td>DATE</td>
<td>Sorgunun siteme gönderildiği tarih bilgisi YYYY-MM-DD HH:MM:SS</td>
</tr>
<tr>
<td>TOKEN</td>
<td>Sorgusu yapılacak kartın token değeri</td>
</tr>
<tr>
<td>HASH</td>
<td>İstek sırasında gönderilen değerlerin Key&#39;e göre sıralanıp, başlarına uzunlukları eklendikten sonra HMAC_SHA256 algoritması ile hash oluşturulan değerdir.</td>
</tr>
</tbody></table>
<h3 id='puan-sorgusu-hash-hesaplama'>Puan Sorgusu Hash Hesaplama</h3>
<p><strong>Örnek Puan Sorgusu servisinde HASH hesaplama için kullanılacak değerler aşağıdaki gibidir.</strong></p>

<p><code>MERCHANT = OPU_TEST</code> <br>
<code>DATE = 2017-10-07 11:58:03</code> <br>
<code>CC_CVV = 000</code> <br>
<code>CC_NUMBER = 4355084355084358</code> <br>
<code>CC_OWNER = Ad Soyad</code> <br> 
<code>CURRENCY = TRY</code> <br>
<code>EXP_MONTH = 12</code> <br>
<code>EXP_YEAR = 2018</code> <br></p>

<p><strong>Key&#39;e göre sıralayıp başlarına UTF-8 Bayt uzunlukları eklenmeli.</strong>
<code>30001643550843550843588Ad Soyad3TRY192017-10-07 12:00:42212420188OPU_TEST</code></p>

<p><strong>Değerler üye işyeri kodlama anahtarınız kullanılarak HMAC_MD5 algoritması ile haslenmelidir.</strong></p>

<ul>
<li>Kullanılan Kodlama Anahtarı: SECRET_KEY</li>
</ul>

<p><strong>Elde edilen değer:</strong> <code>d76b740e36ddc1948b256a40c8e656f7</code></p>
<h3 id='puan-kullanim-sorgusu-yaniti'>Puan Kullanım Sorgusu Yanıtı</h3>
<blockquote>
<p>Başarılı Puan Sorgusu Yanıtı</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="p">&lt;</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">STATUS</span><span class="p">&gt;</span><span class="n">SUCCESS</span><span class="p">&lt;/</span><span class="n">STATUS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">MESSAGE</span><span class="p">&gt;</span><span class="n">SUCCESS</span><span class="p">&lt;/</span><span class="n">MESSAGE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">POINTS</span><span class="p">&gt;</span><span class="m">75273</span><span class="p">&lt;/</span><span class="n">POINTS</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">AMOUNT</span><span class="p">&gt;</span><span class="m">752.73</span><span class="p">&lt;/</span><span class="n">AMOUNT</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">CURRENCY</span><span class="p">&gt;</span><span class="n">TRY</span><span class="p">&lt;/</span><span class="n">CURRENCY</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">BANK</span><span class="p">&gt;</span><span class="n">AKBANK</span><span class="p">&lt;/</span><span class="n">BANK</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">CARD_PROGRAM_NAME</span><span class="p">&gt;</span><span class="n">Axess</span><span class="p">&lt;/</span><span class="n">CARD_PROGRAM_NAME</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">DATE</span><span class="p">&gt;</span><span class="m">2017</span><span class="p">-</span><span class="m">10</span><span class="p">-</span><span class="m">07</span> <span class="m">12</span><span class="p">:</span><span class="m">10</span><span class="p">:</span><span class="m">27</span><span class="p">&lt;/</span><span class="n">DATE</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="n">HASH</span><span class="p">&gt;</span><span class="n">ac3e9fc10649dbf04afc739bbc39c3bb</span><span class="p">&lt;/</span><span class="n">HASH</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">EPAYMENT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">STATUS</span><span class="o">&gt;</span><span class="nx">SUCCESS</span><span class="o">&lt;</span><span class="sr">/STATUS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">MESSAGE</span><span class="o">&gt;</span><span class="nx">SUCCESS</span><span class="o">&lt;</span><span class="sr">/MESSAGE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">POINTS</span><span class="o">&gt;</span><span class="mi">75273</span><span class="o">&lt;</span><span class="sr">/POINTS</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">AMOUNT</span><span class="o">&gt;</span><span class="mf">752.73</span><span class="o">&lt;</span><span class="sr">/AMOUNT</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">CURRENCY</span><span class="o">&gt;</span><span class="nx">TRY</span><span class="o">&lt;</span><span class="sr">/CURRENCY</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">BANK</span><span class="o">&gt;</span><span class="nx">AKBANK</span><span class="o">&lt;</span><span class="sr">/BANK</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">CARD_PROGRAM_NAME</span><span class="o">&gt;</span><span class="nx">Axess</span><span class="o">&lt;</span><span class="sr">/CARD_PROGRAM_NAME</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">07</span> <span class="mi">12</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mi">27</span><span class="o">&lt;</span><span class="sr">/DATE</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">HASH</span><span class="o">&gt;</span><span class="nx">ac3e9fc10649dbf04afc739bbc39c3bb</span><span class="o">&lt;</span><span class="sr">/HASH</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/EPAYMENT</span><span class="err">&gt;
</span></code></pre><pre class="highlight php tab-php"><code><span class="nt">&lt;EPAYMENT&gt;</span>
  <span class="nt">&lt;STATUS&gt;</span>SUCCESS<span class="nt">&lt;/STATUS&gt;</span>
  <span class="nt">&lt;MESSAGE&gt;</span>SUCCESS<span class="nt">&lt;/MESSAGE&gt;</span>
  <span class="nt">&lt;POINTS&gt;</span>75273<span class="nt">&lt;/POINTS&gt;</span>
  <span class="nt">&lt;AMOUNT&gt;</span>752.73<span class="nt">&lt;/AMOUNT&gt;</span>
  <span class="nt">&lt;CURRENCY&gt;</span>TRY<span class="nt">&lt;/CURRENCY&gt;</span>
  <span class="nt">&lt;BANK&gt;</span>AKBANK<span class="nt">&lt;/BANK&gt;</span>
  <span class="nt">&lt;CARD</span><span class="na">_PROGRAM_NAME</span><span class="nt">&gt;</span>Axess<span class="err">&lt;</span>/CARD_PROGRAM_NAME&gt;
  <span class="nt">&lt;DATE&gt;</span>2017-10-07 12:10:27<span class="nt">&lt;/DATE&gt;</span>
  <span class="nt">&lt;HASH&gt;</span>ac3e9fc10649dbf04afc739bbc39c3bb<span class="nt">&lt;/HASH&gt;</span>
<span class="nt">&lt;/EPAYMENT&gt;</span>
</code></pre><pre class="highlight python tab-python"><code><span class="o">&lt;</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">STATUS</span><span class="o">&gt;</span><span class="n">SUCCESS</span><span class="o">&lt;/</span><span class="n">STATUS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">MESSAGE</span><span class="o">&gt;</span><span class="n">SUCCESS</span><span class="o">&lt;/</span><span class="n">MESSAGE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">POINTS</span><span class="o">&gt;</span><span class="mi">75273</span><span class="o">&lt;/</span><span class="n">POINTS</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">AMOUNT</span><span class="o">&gt;</span><span class="mf">752.73</span><span class="o">&lt;/</span><span class="n">AMOUNT</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">CURRENCY</span><span class="o">&gt;</span><span class="n">TRY</span><span class="o">&lt;/</span><span class="n">CURRENCY</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">BANK</span><span class="o">&gt;</span><span class="n">AKBANK</span><span class="o">&lt;/</span><span class="n">BANK</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">CARD_PROGRAM_NAME</span><span class="o">&gt;</span><span class="n">Axess</span><span class="o">&lt;/</span><span class="n">CARD_PROGRAM_NAME</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">DATE</span><span class="o">&gt;</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mo">07</span> <span class="mi">12</span><span class="p">:</span><span class="mi">10</span><span class="p">:</span><span class="mi">27</span><span class="o">&lt;/</span><span class="n">DATE</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="n">HASH</span><span class="o">&gt;</span><span class="n">ac3e9fc10649dbf04afc739bbc39c3bb</span><span class="o">&lt;/</span><span class="n">HASH</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>STATUS</td>
<td>Sorgu sonuç statüsü.</td>
</tr>
<tr>
<td>MESSAGE</td>
<td>Sorgu sonuç statü mesajı.</td>
</tr>
<tr>
<td>POINTS</td>
<td>Kullanılabilir puan bilgisi.</td>
</tr>
<tr>
<td>AMOUNT</td>
<td>Kullanılabilir puanın para cinsinden değeri.</td>
</tr>
<tr>
<td>CURRENCY</td>
<td>Kullanılabilir puanın para birimi.</td>
</tr>
<tr>
<td>BANK</td>
<td>Kart banka bilgisi.</td>
</tr>
<tr>
<td>CARD_PROGRAM_NAME</td>
<td>Kartın bağlılık program bilgisi.</td>
</tr>
<tr>
<td>DATE</td>
<td>Sorgu yanıt tarih bilgisi.</td>
</tr>
<tr>
<td>HASH</td>
<td>Sorgu yanıtlarının hash değeri.</td>
</tr>
</tbody></table>
<h3 id='puan-kullanimi'>Puan Kullanımı</h3>
<p>HTTP POST metodu ile gönderilen ALU requesti içerisine,
<code>USE_LOYALTY_POINTS =’YES’</code>, parametresi ile ödemede puan kullanılacağı,
<code>LOYALTY_POINTS_AMOUNT</code> parametresinin değeri ile de kullanılacak olan puan miktarını belirtilmesi yeterli olacaktır.</p>

<p>Aşağıdaki taboda parçalı puan kullanımını destekleyen bankaların listesi paylaşılmıştır.</p>

<table><thead>
<tr>
<th>Banka</th>
<th>Tamamı Puanla Ödeme</th>
<th>Parçalı Puanlı Ödeme</th>
<th>3D / Non-3D</th>
</tr>
</thead><tbody>
<tr>
<td>TEB</td>
<td>Destekliyor</td>
<td>Desteklemiyor</td>
<td>3D / Non-3D</td>
</tr>
<tr>
<td>Akbank</td>
<td>Destekliyor</td>
<td>Destekliyor</td>
<td>3D / Non-3D</td>
</tr>
<tr>
<td>Finansbank</td>
<td>Destekliyor</td>
<td>Desteklemiyor</td>
<td>3D / Non-3D</td>
</tr>
<tr>
<td>İşbank</td>
<td>Destekliyor</td>
<td>Destekliyor</td>
<td>3D / Non-3D</td>
</tr>
<tr>
<td>Halkbank</td>
<td>Destekliyor</td>
<td>Desteklemiyor</td>
<td>3D / Non-3D</td>
</tr>
<tr>
<td>HSBC</td>
<td>Destekliyor</td>
<td>Desteklemiyor</td>
<td>Non-3D</td>
</tr>
<tr>
<td>YKB</td>
<td>Destekliyor</td>
<td>Destekliyor</td>
<td>3D</td>
</tr>
<tr>
<td>Garanti</td>
<td>Destekliyor</td>
<td>Destekliyor</td>
<td>3D / Non-3D</td>
</tr>
</tbody></table>
<h1 id='idn-servisi-konfirmasyon-servisi'>IDN Servisi(Konfirmasyon Servisi)</h1>
<blockquote>
<p><a href="https://github.com/PayUTurkiye/PayUTR_CSharp/raw/master/PayU_TR_CSharp.zip"> C Sharp Örnek Proje ve Kodları buradan indirebilirsiniz. </a></p>
</blockquote>
<<<<<<< HEAD
<pre class="highlight csharp tab-csharp"><code><span class="n">ConfirmationRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ConfirmationRequest</span><span class="p">();</span>
<span class="n">request</span><span class="p">.</span><span class="n">MERCHANT</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">ORDER_REF</span> <span class="p">=</span> <span class="n">orderRef</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">ORDER_AMOUNT</span> <span class="p">=</span> <span class="n">orderAmount</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">ORDER_CURRENCY</span> <span class="p">=</span> <span class="s">"TRY"</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">IDN_DATE</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"yyyy-MM-dd HH:mm:ss"</span><span class="p">);</span>
<span class="n">request</span><span class="p">.</span><span class="n">CHARGE_AMOUNT</span> <span class="p">=</span> <span class="n">chargeAmount</span><span class="p">;</span>
<span class="n">Options</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
<span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/order/idn.php"</span><span class="p">;</span>
<span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
<span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ConfirmationRequest</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
=======
<pre class="highlight csharp tab-csharp"><code>            <span class="n">ConfirmationRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ConfirmationRequest</span><span class="p">();</span>
            <span class="n">request</span><span class="p">.</span><span class="n">MERCHANT</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">ORDER_REF</span> <span class="p">=</span> <span class="n">orderRef</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">ORDER_AMOUNT</span> <span class="p">=</span> <span class="n">orderAmount</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">ORDER_CURRENCY</span> <span class="p">=</span> <span class="s">"TRY"</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">IDN_DATE</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">UtcNow</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="s">"yyyy-MM-dd HH:mm:ss"</span><span class="p">);</span>
            <span class="n">request</span><span class="p">.</span><span class="n">CHARGE_AMOUNT</span> <span class="p">=</span> <span class="n">chargeAmount</span><span class="p">;</span>
            <span class="n">Options</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
            <span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/order/idn.php"</span><span class="p">;</span>
            <span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
            <span class="kt">var</span> <span class="n">response</span> <span class="p">=</span> <span class="n">ConfirmationRequest</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
>>>>>>> 3ed3dff92d6b76228aaccf3922e0c87dca9c7fe9
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">EndPointURL</span> <span class="o">=</span> <span class="s1">'https://secure.payu.com.tr/order/idn.php'</span><span class="p">;</span>
<span class="nx">SecretKey</span> <span class="o">=</span> <span class="s1">'SECRET_KEY'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">moment</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moment'</span><span class="p">);</span>
<span class="nx">date</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">.</span><span class="nx">utc</span><span class="p">().</span><span class="nx">format</span><span class="p">(</span><span class="s1">'YYYY-MM-DD HH:mm:ss'</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'MERCHANT'</span> <span class="p">:</span> <span class="s2">"OPU_TEST"</span><span class="p">,</span>
    <span class="s1">'ORDER_REF'</span> <span class="p">:</span> <span class="s2">"41838239"</span><span class="p">,</span>
    <span class="s1">'ORDER_AMOUNT'</span> <span class="p">:</span> <span class="s2">"10.90"</span><span class="p">,</span>
    <span class="s1">'ORDER_CURRENCY'</span> <span class="p">:</span> <span class="s1">'TRY'</span><span class="p">,</span>
    <span class="s1">'IDN_DATE'</span> <span class="p">:</span> <span class="nx">date</span><span class="p">,</span>
    <span class="s1">'CHARGE_AMOUNT'</span><span class="p">:</span> <span class="s2">"10.90"</span>

<span class="p">};</span>

<span class="nx">hashstring</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">k</span> <span class="k">in</span> <span class="nx">array</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">hashstring</span> <span class="o">+=</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">].</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span> <span class="p">;</span>
<span class="p">}</span>
<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">)</span>
    <span class="p">,</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">hashstring</span>
    <span class="p">,</span> <span class="nx">secretkey</span> <span class="o">=</span> <span class="nx">SecretKey</span><span class="p">;</span>

<span class="nx">signature</span> <span class="o">=</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s1">'md5'</span><span class="p">,</span> <span class="nx">secretkey</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="nx">array</span><span class="p">[</span><span class="s1">'ORDER_HASH'</span><span class="p">]</span> <span class="o">=</span> <span class="nx">signature</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">EndPointURL</span><span class="p">,</span> <span class="p">{</span><span class="na">form</span><span class="p">:</span><span class="nx">array</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>

<span class="p">});</span>
</code></pre><pre class="highlight python tab-python"><code><span class="c"># Importing required libraries.</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">urlencode</span>
<span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>
<span class="kn">import</span> <span class="nn">collections</span>

<span class="c">#Endpoint</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'https://secure.payu.com.tr/order/idn.php'</span>

<span class="c">#Secret Key</span>
<span class="n">secret</span> <span class="o">=</span> <span class="s">'SECRET_KEY'</span>

<span class="n">array</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">OrderedDict</span><span class="p">()</span>
<span class="n">array</span><span class="p">[</span><span class="s">'MERCHANT'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'OPU_TEST'</span>
<span class="n">array</span><span class="p">[</span><span class="s">'ORDER_REF'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'40865275'</span>
<span class="n">array</span><span class="p">[</span><span class="s">'ORDER_AMOUNT'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'118.00'</span>
<span class="n">array</span><span class="p">[</span><span class="s">'ORDER_CURRENCY'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'TRY'</span>
<span class="n">array</span><span class="p">[</span><span class="s">'IDN_DATE'</span><span class="p">]</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s">'</span><span class="si">%</span><span class="s">Y-</span><span class="si">%</span><span class="s">m-</span><span class="si">%</span><span class="s">d </span><span class="si">%</span><span class="s">H:</span><span class="si">%</span><span class="s">M:</span><span class="si">%</span><span class="s">S'</span><span class="p">)</span>
<span class="n">array</span><span class="p">[</span><span class="s">'CHARGE_AMOUNT'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'118.00'</span>
<span class="c"># Initializing the hashstring @param</span>
<span class="n">hashstring</span> <span class="o">=</span> <span class="s">''</span>

<span class="c"># Sorting Array @params</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">array</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>

<span class="c"># Adding the UTF-8 byte length of each field value at the beginning of field value</span>
    <span class="n">hashstring</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'UTF-8'</span><span class="p">)))</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">hashstring</span><span class="p">)</span>

<span class="c"># Calculating signature</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashstring</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>

<span class="c"># Adding signature @param to request array</span>
<span class="n">array</span><span class="p">[</span><span class="s">'ORDER_HASH'</span><span class="p">]</span> <span class="o">=</span> <span class="n">signature</span>
<span class="k">print</span><span class="p">(</span><span class="n">signature</span><span class="p">)</span>

<span class="c"># Sending Request to Endpoint</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">urlencode</span><span class="p">(</span><span class="n">array</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

<span class="c"># Printing result/response</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$url</span> <span class="o">=</span> <span class="s2">"https://secure.payu.com.tr/order/idn.php"</span><span class="p">;</span>
<span class="nv">$secretKey</span> <span class="o">=</span> <span class="s2">"SECRET_KEY"</span><span class="p">;</span>
<span class="nv">$idn</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'MERCHANT'</span> <span class="o">=&gt;</span> <span class="s2">"OPU_TEST"</span><span class="p">,</span>
    <span class="s1">'ORDER_REF'</span> <span class="o">=&gt;</span> <span class="s2">"41838239"</span><span class="p">,</span>
    <span class="s1">'ORDER_AMOUNT'</span> <span class="o">=&gt;</span> <span class="s2">"10.90"</span><span class="p">,</span>
    <span class="s1">'ORDER_CURRENCY'</span> <span class="o">=&gt;</span> <span class="s1">'TRY'</span><span class="p">,</span>
    <span class="s1">'IDN_DATE'</span> <span class="o">=&gt;</span> <span class="nb">date</span><span class="p">(</span><span class="s1">'Y-m-d H:i:s'</span><span class="p">),</span>
    <span class="s1">'CHARGE_AMOUNT'</span> <span class="o">=&gt;</span> <span class="s2">"10.90"</span><span class="p">,</span>
<span class="p">);</span>
<span class="nv">$hashString</span> <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$idn</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$hashString</span> <span class="o">.=</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$value</span><span class="p">)</span> <span class="o">.</span> <span class="nv">$value</span><span class="p">;</span>
<span class="p">}</span>
<span class="nv">$hash</span> <span class="o">=</span> <span class="nb">hash_hmac</span><span class="p">(</span><span class="s1">'md5'</span><span class="p">,</span> <span class="nv">$hashString</span><span class="p">,</span> <span class="nv">$secretKey</span><span class="p">);</span>
<span class="nv">$idn</span><span class="p">[</span><span class="s1">'ORDER_HASH'</span><span class="p">]</span> <span class="o">=</span> <span class="nv">$hash</span><span class="p">;</span>

<span class="nv">$ch</span> <span class="o">=</span> <span class="nb">curl_init</span><span class="p">();</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_URL</span><span class="p">,</span> <span class="nv">$url</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_SSL_VERIFYPEER</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_SSL_VERIFYHOST</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_RETURNTRANSFER</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_TIMEOUT</span><span class="p">,</span> <span class="mi">60</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POST</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
<span class="nb">curl_setopt</span><span class="p">(</span><span class="nv">$ch</span><span class="p">,</span> <span class="nx">CURLOPT_POSTFIELDS</span><span class="p">,</span> <span class="nb">http_build_query</span><span class="p">(</span><span class="nv">$idn</span><span class="p">));</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nb">curl_exec</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nv">$curlerrcode</span> <span class="o">=</span> <span class="nb">curl_errno</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>
<span class="nv">$curlerr</span> <span class="o">=</span> <span class="nb">curl_error</span><span class="p">(</span><span class="nv">$ch</span><span class="p">);</span>

<span class="nb">var_dump</span><span class="p">(</span><span class="nv">$response</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</code></pre>
<aside class="warning">
Konfirmasyon servisi sadece önotorizasyon modeline çalışan üye işyerleri içindir, detaylı bilgi için satış temsilciniz ile iletişime geçebilirsiniz. 
</aside>

<aside class="warning">
Önotorizasyonu alınan işlemlerin satışa çevirilmesi için konfirmasyon servisi ile 10 gün içerisinde istek göndermelisiniz, bankalar 10 günden sonra işlemleri satışa çevirememektedir.
</aside>

<p>Konfirmasyon servisi önotorizasyon modeli ile çalışan üye işyerlerinin, işlemlerini satışa çevirip, finansallaştırma yapmasını sağlamaktadır. </p>
<<<<<<< HEAD
<h3 id='istek-parametreleri-9'>İstek Parametreleri</h3>
<p>Endpoint POST <code>https://secure.payu.com.tr/order/idn.php</code></p>
=======
<h3 id='istek-parametreleri-5'>İstek Parametreleri</h3>
<p>İstekler <code>https://secure.payu.com.tr/order/idn.php</code> adresine HTTP POST protokolü ile gönderilmelidir.</p>
>>>>>>> 3ed3dff92d6b76228aaccf3922e0c87dca9c7fe9

<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>MERCHANT</td>
<td>Üye işyeri ID bilgisi.</td>
</tr>
<tr>
<td>ORDER_REF</td>
<td>Satışa çevirilecek işlemin PayU referans numarası.</td>
</tr>
<tr>
<td>ORDER_AMOUNT</td>
<td>Satışa çevirilecek işlemin toplam tutarı.</td>
</tr>
<tr>
<td>ORDER_CURRENCY</td>
<td>Satışa çevirilecek işlemin para birimi.</td>
</tr>
<tr>
<td>CHARGE_AMOUNT</td>
<td>Satışa çevirilecek tutar.(Zorunlu değildir, gönderilmez ise toplam tutar satışa çevirilir.)</td>
</tr>
<tr>
<td>IDN_DATE</td>
<td>UTC/GMT formatı ile ayarlanmalı ve Türkiye saatine göre 3 saat geri olacak şekilde gönderilmelidir. YYYY-MM-DD HH:MM:SS&quot;</td>
</tr>
<tr>
<td>ORDER_HASH</td>
<td>İstek sırasında gönderilen değerlerin Key&#39;e göre sıralanıp, başlarına uzunlukları eklendikten sonra HMAC_MD5 algoritması ile hash oluşturulan değerdir.</td>
</tr>
<tr>
<td>REF_URL</td>
<td>İstek yanıtı belirtilen URL&#39;e GET metodu ile dönmektedir.(Zorunlu değildir, gönderilmez ise anında response&#39;u post sonrası anlık alabilirsiniz.)</td>
</tr>
</tbody></table>
<h3 id='yanit-parametreleri-8'>Yanıt Parametreleri</h3>
<blockquote>
<p>Başarılı Konfirmasyon Servis Yanıt Örneği</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="p">&lt;</span><span class="n">EPAYMENT</span><span class="p">&gt;</span><span class="m">41838239</span><span class="p">|</span><span class="m">1</span><span class="p">|</span><span class="n">Confirmed</span><span class="p">|</span><span class="m">2017</span><span class="p">-</span><span class="m">10</span><span class="p">-</span><span class="m">07</span> <span class="m">16</span><span class="p">:</span><span class="m">25</span><span class="p">:</span><span class="m">07</span><span class="p">|</span><span class="n">ddbbb3f3ef5f1cb56f9ee629dc42dfe0</span><span class="p">&lt;/</span><span class="n">EPAYMENT</span><span class="p">&gt;</span>
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="o">&lt;</span><span class="nx">EPAYMENT</span><span class="o">&gt;</span><span class="mi">41838239</span><span class="o">|</span><span class="mi">1</span><span class="o">|</span><span class="nx">Confirmed</span><span class="o">|</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">07</span> <span class="mi">16</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="mi">07</span><span class="o">|</span><span class="nx">ddbbb3f3ef5f1cb56f9ee629dc42dfe0</span><span class="o">&lt;</span><span class="sr">/EPAYMENT</span><span class="err">&gt;
</span></code></pre><pre class="highlight python tab-python"><code><span class="o">&lt;</span><span class="n">EPAYMENT</span><span class="o">&gt;</span><span class="mi">41838239</span><span class="o">|</span><span class="mi">1</span><span class="o">|</span><span class="n">Confirmed</span><span class="o">|</span><span class="mi">2017</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mo">07</span> <span class="mi">16</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span><span class="mo">07</span><span class="o">|</span><span class="n">ddbbb3f3ef5f1cb56f9ee629dc42dfe0</span><span class="o">&lt;/</span><span class="n">EPAYMENT</span><span class="o">&gt;</span>
</code></pre><pre class="highlight php tab-php"><code><span class="nt">&lt;EPAYMENT&gt;</span>41838239|1|Confirmed|2017-10-07 16:25:07|ddbbb3f3ef5f1cb56f9ee629dc42dfe0<span class="nt">&lt;/EPAYMENT&gt;</span>
</code></pre>
<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>ORDER_REF</td>
<td>İstek gönderilen işlemin PayU referans numarası.</td>
</tr>
<tr>
<td>RESPONSE_CODE</td>
<td>İstek Sonuç Kodu.</td>
</tr>
<tr>
<td>RESPONSE_MSG</td>
<td>İstek Sonuç Mesajı.</td>
</tr>
<tr>
<td>IDN_DATE</td>
<td>Y-m-d H:i:s formatında yanıt zaman değeri.</td>
</tr>
<tr>
<td>ORDER_HASH</td>
<td>İstek sonucu yanıt değerlerinin hash bilgisi.</td>
</tr>
</tbody></table>
<h3 id='konfirmasyon-servisi-hash-hesaplama'>Konfirmasyon Servisi Hash Hesaplama</h3>
<p><strong>Örnek Konfirmasyon servisinde HASH hesaplama için kullanılacak değerler aşağıdaki gibidir.</strong></p>

<p><code>MERCHANT = OPU_TEST</code> <br>
<code>ORDER_REF = 41838239</code> <br>
<code>ORDER_AMOUNT = 10.90</code> <br> 
<code>ORDER_CURRENCY = TRY</code> <br> 
<code>IDN_DATE = 2017-10-07 13:25:45</code> <br> 
<code>CHARGE_AMOUNT = 10.90</code> <br></p>

<aside class="notice">
 IDN Servisinde hash hesaplaması yaparken, Key'e göre sıralamamalısınız, yukarıdaki örnek sıralama ile işleme almalısınız.
</aside>

<p><strong>Bu değerlerin uzunluğu alınarak, değerin başına eklendikten sonra yukarıdaki sıra ile sıralanmalıdır.</strong>
<code>8OPU_TEST841838239510.903TRY192017-10-07 13:25:45510.90</code></p>

<p><strong>Değerler üye işyeri kodlama anahtarınız kullanılarak HMAC_MD5 algoritması ile haslenmelidir.</strong></p>

<ul>
<li>Kullanılan Kodlama Anahtarı: SECRET_KEY</li>
</ul>

<p><strong>Elde edilen değer:</strong> <code>2129be1a8aa74c32e03d6bce4db685fa</code></p>
<h3 id='yanit-mesajlari'>Yanıt Mesajları</h3>
<table><thead>
<tr>
<th>RESPONSE_CODE</th>
<th>RESPONSE_MSG</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>1</td>
<td>Confirmed</td>
<td>Başarılı istek sonucu.</td>
</tr>
<tr>
<td>2</td>
<td>ORDER_REF missing or incorrect</td>
<td>Hatalı veya eksik ORDER_REF gönderimi.</td>
</tr>
<tr>
<td>3</td>
<td>ORDER_AMOUNT missing or incorrect</td>
<td>Hatalı veya eksik ORDER_AMOUNT gönderimi.</td>
</tr>
<tr>
<td>4</td>
<td>ORDER_CURRENCY is missing or incorrect</td>
<td>Hatalı veya eksik ORDER_CURRENCY gönderimi.</td>
</tr>
<tr>
<td>5</td>
<td>IDN_DATE is not in the correct format</td>
<td>Hatalı veya eksik IDN_DATE gönderimi.</td>
</tr>
<tr>
<td>6</td>
<td>Error confirming order</td>
<td>İstek işlenirken bir hata oluştu, PayU destek ekibi ile iletişime geçiniz.</td>
</tr>
<tr>
<td>7</td>
<td>Order already confirmed</td>
<td>İşlem daha önce konfirme edilmiş.</td>
</tr>
<tr>
<td>8</td>
<td>Unknown error</td>
<td>İstek işlenirken bir hata oluştu, PayU destek ekibi ile iletişime geçiniz.</td>
</tr>
<tr>
<td>9</td>
<td>Invalid ORDER_REF</td>
<td>Hatalı veya eksik ORDER_REF gönderimi.</td>
</tr>
<tr>
<td>10</td>
<td>Invalid ORDER_AMOUNT</td>
<td>Hatalı veya eksik ORDER_AMOUNT gönderimi.</td>
</tr>
<tr>
<td>11</td>
<td>Invalid ORDER_CURRENCY</td>
<td>Hatalı veya eksik ORDER_CURRENCY gönderimi.</td>
</tr>
<tr>
<td>12</td>
<td>Invalid CHARGE_AMOUNT</td>
<td>Hatalı veya eksik CHARGE_AMOUNT gönderimi.</td>
</tr>
<tr>
<td>13</td>
<td>Invalid signature</td>
<td>ORDER_HASH hatalı hesaplanmış.</td>
</tr>
</tbody></table>
<h1 id='rapor-servisi'>Rapor Servisi</h1>
<p>Sipariş veya ürün bazlı 1 aylık rapor üreten servistir.
Bu serviste istekler HTTP GET protokolü ile gönderilmekte ve yanıt JSON formatında dönmektedir.</p>
<<<<<<< HEAD
<h2 id='siparis-raporu-olusturma'>Sipariş Raporu Oluşturma</h2><h3 id='istek-parametreleri-10'>İstek Parametreleri</h3>
=======
<h2 id='siparis-raporu-olusturma'>Sipariş Raporu Oluşturma</h2><h3 id='istek-parametreleri-6'>İstek Parametreleri</h3>
>>>>>>> 3ed3dff92d6b76228aaccf3922e0c87dca9c7fe9
<blockquote>
<p>Örnek Sipariş Raporu İsteği <br>
Oluşan URL: https://secure.payu.com.tr/order/products?merchant=OPU_TEST&amp;startDate=2017-09-20&amp;endDate=2017-09-21&amp;timeStamp=1507388342&amp;signature=f00761bec025175d80294ad35eca1e46<br></p>

<p><a href="https://github.com/PayUTurkiye/PayUTR_CSharp/raw/master/PayU_TR_CSharp.zip"> C Sharp Örnek Proje ve Kodları buradan indirebilirsiniz. </a></p>
</blockquote>
<<<<<<< HEAD
<pre class="highlight csharp tab-csharp"><code><span class="n">ReportRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ReportRequest</span><span class="p">();</span>
<span class="n">request</span><span class="p">.</span><span class="n">merchant</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">startDate</span> <span class="p">=</span> <span class="n">startDate</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">endDate</span> <span class="p">=</span> <span class="n">endDate</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">timeStamp</span> <span class="p">=</span> <span class="n">unixTimestamp</span><span class="p">.</span><span class="nf">ToString</span><span class="p">();</span>
<span class="n">Options</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
<span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/reports/orders"</span><span class="p">;</span>
<span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
<span class="n">model</span><span class="p">.</span><span class="n">Response</span> <span class="p">=</span> <span class="n">ReportRequest</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
=======
<pre class="highlight csharp tab-csharp"><code>            <span class="n">ReportRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ReportRequest</span><span class="p">();</span>
            <span class="n">request</span><span class="p">.</span><span class="n">merchant</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">startDate</span> <span class="p">=</span> <span class="n">startDate</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">endDate</span> <span class="p">=</span> <span class="n">endDate</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">timeStamp</span> <span class="p">=</span> <span class="n">unixTimestamp</span><span class="p">.</span><span class="nf">ToString</span><span class="p">();</span>
            <span class="n">Options</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
            <span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/reports/orders"</span><span class="p">;</span>
            <span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
            <span class="n">model</span><span class="p">.</span><span class="n">Response</span> <span class="p">=</span> <span class="n">ReportRequest</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
>>>>>>> 3ed3dff92d6b76228aaccf3922e0c87dca9c7fe9
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">SecretKey</span> <span class="o">=</span> <span class="s1">'SECRET_KEY'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">moment</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moment'</span><span class="p">);</span>
<span class="nx">date</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">.</span><span class="nx">utc</span><span class="p">().</span><span class="nx">format</span><span class="p">(</span><span class="s1">'X'</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'merchant'</span><span class="p">:</span> <span class="s2">"OPU_TEST"</span><span class="p">,</span>
    <span class="s1">'startDate'</span><span class="p">:</span> <span class="s2">"2017-09-20"</span><span class="p">,</span>
    <span class="s1">'endDate'</span><span class="p">:</span> <span class="s2">"2017-09-21"</span><span class="p">,</span>
    <span class="s1">'timeStamp'</span><span class="p">:</span> <span class="nx">date</span>

<span class="p">};</span>

<span class="nx">hashstring</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">k</span> <span class="k">in</span> <span class="nx">array</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">hashstring</span> <span class="o">+=</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">].</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span> <span class="p">;</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">hashstring</span><span class="p">)</span>
<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">)</span>
    <span class="p">,</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">hashstring</span>
    <span class="p">,</span> <span class="nx">secretkey</span> <span class="o">=</span> <span class="nx">SecretKey</span><span class="p">;</span>

<span class="nx">signature</span> <span class="o">=</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s1">'md5'</span><span class="p">,</span> <span class="nx">secretkey</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="nx">array</span><span class="p">[</span><span class="s1">'signature'</span><span class="p">]</span> <span class="o">=</span> <span class="nx">signature</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">EndPointURL</span> <span class="o">=</span> <span class="s1">'https://secure.payu.com.tr/reports/orders'</span><span class="o">+</span><span class="s2">"?merchant="</span><span class="o">+</span><span class="nx">array</span><span class="p">[</span><span class="s1">'merchant'</span><span class="p">]</span><span class="o">+</span><span class="s2">"&amp;startDate="</span><span class="o">+</span><span class="nx">array</span><span class="p">[</span><span class="s1">'startDate'</span><span class="p">]</span><span class="o">+</span><span class="s2">"&amp;endDate="</span><span class="o">+</span><span class="nx">array</span><span class="p">[</span><span class="s1">'endDate'</span><span class="p">]</span><span class="o">+</span><span class="s2">"&amp;timeStamp="</span><span class="o">+</span><span class="nx">array</span><span class="p">[</span><span class="s1">'timeStamp'</span><span class="p">]</span><span class="o">+</span><span class="s2">"&amp;signature="</span><span class="o">+</span><span class="nx">signature</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">EndPointURL</span><span class="p">)</span>

<span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">EndPointURL</span><span class="p">,</span> <span class="p">{</span><span class="na">form</span><span class="p">:</span><span class="nx">array</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>

<span class="p">});</span>
</code></pre><pre class="highlight python tab-python"><code><span class="c"># Importing required libraries.</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>
<span class="kn">import</span> <span class="nn">collections</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">csv</span>

<span class="c">#Secret Key</span>
<span class="n">secret</span> <span class="o">=</span> <span class="s">'SECRET_KEY'</span>

<span class="n">array</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">OrderedDict</span><span class="p">()</span>
<span class="n">array</span><span class="p">[</span><span class="s">'merchant'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'OPU_TEST'</span>
<span class="n">array</span><span class="p">[</span><span class="s">'startDate'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'2017-08-17'</span>
<span class="n">array</span><span class="p">[</span><span class="s">'endDate'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'2017-09-15'</span>
<span class="n">array</span><span class="p">[</span><span class="s">'timestamp'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">'.'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="c"># Initializing the hashstring @param</span>
<span class="n">hashstring</span> <span class="o">=</span> <span class="s">''</span>

<span class="c"># Sorting Array @params</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">array</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
<span class="k">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

<span class="c"># Adding the UTF-8 byte length of each field value at the beginning of field value</span>
<span class="n">hashstring</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'UTF-8'</span><span class="p">)))</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">hashstring</span><span class="p">)</span>

<span class="c"># Calculating signature</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashstring</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">signature</span><span class="p">)</span>

<span class="c"># Adding Signature @param to dict</span>
<span class="n">array</span><span class="p">[</span><span class="s">'signature'</span><span class="p">]</span> <span class="o">=</span> <span class="n">signature</span>

<span class="c"># Endpoint</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'https://secure.payu.com.tr/reports/orders?merchant={merchant}&amp;startDate={startDate}&amp;endDate={endDate}&amp;timeStamp={timestamp}&amp;signature={signature}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">array</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="c"># Sending Request to Endpoint</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

<span class="c"># Printing result/response</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>

</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$url</span> <span class="o">=</span><span class="s2">"https://secure.payu.com.tr/reports/orders"</span><span class="p">;</span>
<span class="nv">$secretKey</span> <span class="o">=</span> <span class="s2">"SECRET_KEY"</span><span class="p">;</span>
<span class="nv">$array</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'merchant'</span> <span class="o">=&gt;</span> <span class="s2">"OPU_TEST"</span><span class="p">,</span>
    <span class="s1">'startdate'</span> <span class="o">=&gt;</span> <span class="s2">"2017-09-20"</span><span class="p">,</span>
    <span class="s1">'enddate'</span> <span class="o">=&gt;</span> <span class="s1">'2017-09-21'</span><span class="p">,</span>
    <span class="s1">'timeStamp'</span> <span class="o">=&gt;</span> <span class="nb">time</span><span class="p">(),</span>
<span class="p">);</span>
<span class="nv">$hashString</span> <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$array</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$hashString</span> <span class="o">.=</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$value</span><span class="p">)</span> <span class="o">.</span> <span class="nv">$value</span><span class="p">;</span>
<span class="p">}</span>
<span class="nv">$hash</span> <span class="o">=</span> <span class="nb">hash_hmac</span><span class="p">(</span><span class="s1">'md5'</span><span class="p">,</span> <span class="nv">$hashString</span><span class="p">,</span> <span class="nv">$secretKey</span><span class="p">);</span>
<span class="nv">$urlReqest</span>  <span class="o">=</span> <span class="nv">$url</span><span class="o">.</span><span class="s2">"?merchant="</span><span class="o">.</span><span class="nv">$array</span><span class="p">[</span><span class="nx">merchant</span><span class="p">]</span><span class="o">.</span><span class="s2">"&amp;startDate="</span><span class="o">.</span><span class="nv">$array</span><span class="p">[</span><span class="nx">startdate</span><span class="p">]</span><span class="o">.</span><span class="s2">"&amp;endDate="</span><span class="o">.</span><span class="nv">$array</span><span class="p">[</span><span class="nx">enddate</span><span class="p">]</span><span class="o">.</span><span class="s2">"&amp;timeStamp="</span><span class="o">.</span><span class="nv">$array</span><span class="p">[</span><span class="nx">timeStamp</span><span class="p">]</span><span class="o">.</span><span class="s2">"&amp;signature="</span><span class="o">.</span><span class="nv">$hash</span><span class="p">;</span>
<span class="k">echo</span> <span class="s2">"&lt;a href='"</span><span class="o">.</span><span class="nv">$urlReqest</span><span class="o">.</span><span class="s2">"' target='_blank'&gt;"</span><span class="o">.</span><span class="nv">$urlReqest</span><span class="o">.</span><span class="s2">"&lt;/a&gt;"</span><span class="p">;</span>
<span class="nv">$xml</span> <span class="o">=</span> <span class="nb">file_get_contents</span><span class="p">(</span><span class="nv">$urlReqest</span><span class="p">);</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="nb">json_decode</span><span class="p">(</span><span class="nv">$xml</span><span class="p">,</span><span class="mi">1</span><span class="p">));</span>
<span class="cp">?&gt;</span>
</code></pre>
<p>Endpoint GET <code>https://secure.payu.com.tr/reports/orders</code></p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>merchant</td>
<td>Üye iş yeri entegrasyon ismi.</td>
</tr>
<tr>
<td>startDate</td>
<td>Rapor başlangıç tarihi.</td>
</tr>
<tr>
<td>endDate</td>
<td>Rapor bitiş tarihi.</td>
</tr>
<tr>
<td>timeStamp</td>
<td>Unix timestamp (UTC/GMT 0).</td>
</tr>
<tr>
<td>signature</td>
<td>İstek sırasında gönderilen değerlerin belirtildiği sırada, başlarına uzunlukları eklendikten sonra HMAC_MD5 algoritması ile hash oluşturulan değerdir.</td>
</tr>
</tbody></table>

<p>Eğer spesifik bir işlem için sipariş raporu elde etmek istiyorsanız istek parametreleriniz aşağıdaki gibi olmalıdır.</p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>merchant</td>
<td>Üye iş yeri entegrasyon ismi.</td>
</tr>
<tr>
<td>externalRefNo</td>
<td>Siparişin sizin tarafından belirlenmiş sipariş numarası.</td>
</tr>
<tr>
<td>timeStamp</td>
<td>Unix timestamp (UTC/GMT 0).</td>
</tr>
<tr>
<td>signature</td>
<td>İstek sırasında gönderilen değerlerin belirtildiği sırada, başlarına uzunlukları eklendikten sonra HMAC_MD5 algoritması ile hash oluşturulan değerdir.</td>
</tr>
</tbody></table>
<h3 id='yanit-parametreleri-9'>Yanıt Parametreleri</h3>
<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>statusCode</td>
<td>Rapor yanıt statü kodu</td>
</tr>
<tr>
<td>statusDescription</td>
<td>Rapor yanıt mesajı</td>
</tr>
<tr>
<td>data</td>
<td>Siparişin tüm detayları</td>
</tr>
</tbody></table>

<blockquote>
<p>Örnek Başarılı Sipariş Raporu Yanıtı <br>
https://secure.payu.com.tr/reports/orders?merchant=OPU_TEST&amp;startDate=2017-09-20&amp;endDate=2017-09-21&amp;timeStamp=1507388342&amp;signature=f00761bec025175d80294ad35eca1e46<br></p>
</blockquote>
<pre class="highlight php tab-php"><code>{"statusCode":"0",
"statusDescription":"Success",
"data":[{
'Order No' =&gt;  '462' 
'Order status' =&gt;  'AUTHRECEIVED' 
'Reference No' =&gt;  '41699900' 
'External Reference No' =&gt;  '229' 
'Pay Method' =&gt;  'CreditCard' 
'Order Date' =&gt;  '2017-10-07 17:41:05' 
'Order Finish Date' =&gt;  '2017-10-07 17:41:10' 
'Currency' =&gt;  'TRY' 
'Quantity' =&gt;  '1' 
'Unit price (without VAT' =&gt;  '5' 
'Total Price' =&gt;  '5.00' 
'Total VAT' =&gt;  '0.90' 
'Unit Discount' =&gt;  '0.00' 
'Promotion' =&gt;  '' 
'Promotion Coupon Code' =&gt;  '' 
'General Discount' =&gt;  '0' 
'PAYU Discount' =&gt;  '0' 
'Shipping' =&gt;  '5' 
'General Total' =&gt;  '10.9' 
'Processing fee' =&gt;  '0.2551' 
'Company' =&gt;  'PayU Ödeme Kuruluşu A.Ş.' 
'Client' =&gt;  'Ad Soyad' 
'Address' =&gt;  'Birinci Adres satırı İkinci Adres satırı' 
'Phone' =&gt;  '02129003711' 
'Email' =&gt;  'mail@mail.com' 
'City' =&gt;  'ISTANBUL' 
'Zip Code' =&gt;  '34000' 
'Country' =&gt;  'Turkey' 
'State' =&gt;  'Ayazağa' 
'CNP' =&gt;  '' 
'Fiscal Code' =&gt;  '' 
'Registration Number' =&gt;  '' 
'Bank' =&gt;  '' 
'Bank Account' =&gt;  '' 
'Delivery Client' =&gt;  'Ad Soyad' 
'Delivery Address' =&gt;  'Birinci Adres satırı İkinci Adres satırı' 
'Delivery Phone' =&gt;  '02129003711' 
'Delivery Email' =&gt;  'mail@mail.com' 
'Delivery City' =&gt;  'ISTANBUL' 
'Delivery Zip Code' =&gt;  '34000' 
'Delivery Country' =&gt; 
'Delivery state' =&gt;  'TR' 
'Authorization' =&gt;  'Approved.' 
'Approval status' =&gt;  'In progress' 
'Net Profit' =&gt;  '9.7449' 
'Delivered codes' =&gt;  '' 
'Number of installments' =&gt;  '0' 
'Token' =&gt;  '' 
'RRN' =&gt;  '728017203119' 
'Merchant Code' =&gt;  'OPU_TEST'
'Order Confirmation Date' =&gt; 
'PosCode' =&gt;  'DEFAULT' 
'Issuer Bank Country' =&gt;  'Turkey' 
'Issuer Bank' =&gt;  'AKBANK' 
'Customer IP' =&gt;  '127.0.0.1' 
'Credit Card Masked Number' =&gt;  '4355-xxxx-xxxx-4358' 
'Interchange Fee' =&gt;  '' 
}
]}
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="p">{</span><span class="s2">"statusCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span>
<span class="s2">"statusDescription"</span><span class="p">:</span><span class="s2">"Success"</span><span class="p">,</span>
<span class="s2">"data"</span><span class="p">:[{</span>
<span class="s1">'Order No'</span> <span class="o">=&gt;</span>  <span class="s1">'462'</span> 
<span class="s1">'Order status'</span> <span class="o">=&gt;</span>  <span class="s1">'AUTHRECEIVED'</span> 
<span class="s1">'Reference No'</span> <span class="o">=&gt;</span>  <span class="s1">'41699900'</span> 
<span class="s1">'External Reference No'</span> <span class="o">=&gt;</span>  <span class="s1">'229'</span> 
<span class="s1">'Pay Method'</span> <span class="o">=&gt;</span>  <span class="s1">'CreditCard'</span> 
<span class="s1">'Order Date'</span> <span class="o">=&gt;</span>  <span class="s1">'2017-10-07 17:41:05'</span> 
<span class="s1">'Order Finish Date'</span> <span class="o">=&gt;</span>  <span class="s1">'2017-10-07 17:41:10'</span> 
<span class="s1">'Currency'</span> <span class="o">=&gt;</span>  <span class="s1">'TRY'</span> 
<span class="s1">'Quantity'</span> <span class="o">=&gt;</span>  <span class="s1">'1'</span> 
<span class="s1">'Unit price (without VAT'</span> <span class="o">=&gt;</span>  <span class="s1">'5'</span> 
<span class="s1">'Total Price'</span> <span class="o">=&gt;</span>  <span class="s1">'5.00'</span> 
<span class="s1">'Total VAT'</span> <span class="o">=&gt;</span>  <span class="s1">'0.90'</span> 
<span class="s1">'Unit Discount'</span> <span class="o">=&gt;</span>  <span class="s1">'0.00'</span> 
<span class="s1">'Promotion'</span> <span class="o">=&gt;</span>  <span class="s1">''</span> 
<span class="s1">'Promotion Coupon Code'</span> <span class="o">=&gt;</span>  <span class="s1">''</span> 
<span class="s1">'General Discount'</span> <span class="o">=&gt;</span>  <span class="s1">'0'</span> 
<span class="s1">'PAYU Discount'</span> <span class="o">=&gt;</span>  <span class="s1">'0'</span> 
<span class="s1">'Shipping'</span> <span class="o">=&gt;</span>  <span class="s1">'5'</span> 
<span class="s1">'General Total'</span> <span class="o">=&gt;</span>  <span class="s1">'10.9'</span> 
<span class="s1">'Processing fee'</span> <span class="o">=&gt;</span>  <span class="s1">'0.2551'</span> 
<span class="s1">'Company'</span> <span class="o">=&gt;</span>  <span class="s1">'PayU Ödeme Kuruluşu A.Ş.'</span> 
<span class="s1">'Client'</span> <span class="o">=&gt;</span>  <span class="s1">'Ad Soyad'</span> 
<span class="s1">'Address'</span> <span class="o">=&gt;</span>  <span class="s1">'Birinci Adres satırı İkinci Adres satırı'</span> 
<span class="s1">'Phone'</span> <span class="o">=&gt;</span>  <span class="s1">'02129003711'</span> 
<span class="s1">'Email'</span> <span class="o">=&gt;</span>  <span class="s1">'mail@mail.com'</span> 
<span class="s1">'City'</span> <span class="o">=&gt;</span>  <span class="s1">'ISTANBUL'</span> 
<span class="s1">'Zip Code'</span> <span class="o">=&gt;</span>  <span class="s1">'34000'</span> 
<span class="s1">'Country'</span> <span class="o">=&gt;</span>  <span class="s1">'Turkey'</span> 
<span class="s1">'State'</span> <span class="o">=&gt;</span>  <span class="s1">'Ayazağa'</span> 
<span class="s1">'CNP'</span> <span class="o">=&gt;</span>  <span class="s1">''</span> 
<span class="s1">'Fiscal Code'</span> <span class="o">=&gt;</span>  <span class="s1">''</span> 
<span class="s1">'Registration Number'</span> <span class="o">=&gt;</span>  <span class="s1">''</span> 
<span class="s1">'Bank'</span> <span class="o">=&gt;</span>  <span class="s1">''</span> 
<span class="s1">'Bank Account'</span> <span class="o">=&gt;</span>  <span class="s1">''</span> 
<span class="s1">'Delivery Client'</span> <span class="o">=&gt;</span>  <span class="s1">'Ad Soyad'</span> 
<span class="s1">'Delivery Address'</span> <span class="o">=&gt;</span>  <span class="s1">'Birinci Adres satırı İkinci Adres satırı'</span> 
<span class="s1">'Delivery Phone'</span> <span class="o">=&gt;</span>  <span class="s1">'02129003711'</span> 
<span class="s1">'Delivery Email'</span> <span class="o">=&gt;</span>  <span class="s1">'mail@mail.com'</span> 
<span class="s1">'Delivery City'</span> <span class="o">=&gt;</span>  <span class="s1">'ISTANBUL'</span> 
<span class="s1">'Delivery Zip Code'</span> <span class="o">=&gt;</span>  <span class="s1">'34000'</span> 
<span class="s1">'Delivery Country'</span> <span class="o">=&gt;</span> 
<span class="s1">'Delivery state'</span> <span class="o">=&gt;</span>  <span class="s1">'TR'</span> 
<span class="s1">'Authorization'</span> <span class="o">=&gt;</span>  <span class="s1">'Approved.'</span> 
<span class="s1">'Approval status'</span> <span class="o">=&gt;</span>  <span class="s1">'In progress'</span> 
<span class="s1">'Net Profit'</span> <span class="o">=&gt;</span>  <span class="s1">'9.7449'</span> 
<span class="s1">'Delivered codes'</span> <span class="o">=&gt;</span>  <span class="s1">''</span> 
<span class="s1">'Number of installments'</span> <span class="o">=&gt;</span>  <span class="s1">'0'</span> 
<span class="s1">'Token'</span> <span class="o">=&gt;</span>  <span class="s1">''</span> 
<span class="s1">'RRN'</span> <span class="o">=&gt;</span>  <span class="s1">'728017203119'</span> 
<span class="s1">'Merchant Code'</span> <span class="o">=&gt;</span>  <span class="s1">'OPU_TEST'</span>
<span class="s1">'Order Confirmation Date'</span> <span class="o">=&gt;</span> 
<span class="s1">'PosCode'</span> <span class="o">=&gt;</span>  <span class="s1">'DEFAULT'</span> 
<span class="s1">'Issuer Bank Country'</span> <span class="o">=&gt;</span>  <span class="s1">'Turkey'</span> 
<span class="s1">'Issuer Bank'</span> <span class="o">=&gt;</span>  <span class="s1">'AKBANK'</span> 
<span class="s1">'Customer IP'</span> <span class="o">=&gt;</span>  <span class="s1">'127.0.0.1'</span> 
<span class="s1">'Credit Card Masked Number'</span> <span class="o">=&gt;</span>  <span class="s1">'4355-xxxx-xxxx-4358'</span> 
<span class="s1">'Interchange Fee'</span> <span class="o">=&gt;</span>  <span class="s1">''</span> 
<span class="p">}</span>
<span class="p">]}</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="p">{</span><span class="s">"statusCode"</span><span class="p">:</span><span class="s">"0"</span><span class="p">,</span>
<span class="s">"statusDescription"</span><span class="p">:</span><span class="s">"Success"</span><span class="p">,</span>
<span class="s">"data"</span><span class="p">:[{</span>
<span class="err">'</span><span class="n">Order</span> <span class="n">No</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">462</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Order</span> <span class="n">status</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">AUTHRECEIVED</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Reference</span> <span class="n">No</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">41699900</span><span class="err">'</span> 
<span class="err">'</span><span class="n">External</span> <span class="n">Reference</span> <span class="n">No</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">229</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Pay</span> <span class="n">Method</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">CreditCard</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Order</span> <span class="n">Date</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">2017</span><span class="p">-</span><span class="m">10</span><span class="p">-</span><span class="m">07</span> <span class="m">17</span><span class="p">:</span><span class="m">41</span><span class="p">:</span><span class="m">05</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Order</span> <span class="n">Finish</span> <span class="n">Date</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">2017</span><span class="p">-</span><span class="m">10</span><span class="p">-</span><span class="m">07</span> <span class="m">17</span><span class="p">:</span><span class="m">41</span><span class="p">:</span><span class="m">10</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Currency</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">TRY</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Quantity</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="sc">'1'</span> 
<span class="err">'</span><span class="n">Unit</span> <span class="nf">price</span> <span class="p">(</span><span class="n">without</span> <span class="n">VAT</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="sc">'5'</span> 
<span class="err">'</span><span class="n">Total</span> <span class="n">Price</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">5.00</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Total</span> <span class="n">VAT</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">0.90</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Unit</span> <span class="n">Discount</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">0.00</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Promotion</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">''</span> 
<span class="err">'</span><span class="n">Promotion</span> <span class="n">Coupon</span> <span class="n">Code</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">''</span> 
<span class="err">'</span><span class="n">General</span> <span class="n">Discount</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="sc">'0'</span> 
<span class="err">'</span><span class="n">PAYU</span> <span class="n">Discount</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="sc">'0'</span> 
<span class="err">'</span><span class="n">Shipping</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="sc">'5'</span> 
<span class="err">'</span><span class="n">General</span> <span class="n">Total</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">10.9</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Processing</span> <span class="n">fee</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">0.2551</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Company</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">PayU</span> <span class="err">Ö</span><span class="n">deme</span> <span class="n">Kurulu</span><span class="err">ş</span><span class="n">u</span> <span class="n">A</span><span class="p">.</span><span class="err">Ş</span><span class="p">.</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Client</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">Ad</span> <span class="n">Soyad</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Address</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">Birinci</span> <span class="n">Adres</span> <span class="n">sat</span><span class="err">ı</span><span class="n">r</span><span class="err">ı</span> <span class="err">İ</span><span class="n">kinci</span> <span class="n">Adres</span> <span class="n">sat</span><span class="err">ı</span><span class="n">r</span><span class="err">ı'</span> 
<span class="err">'</span><span class="n">Phone</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">02129003711</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Email</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">mail@mail</span><span class="p">.</span><span class="n">com</span><span class="err">'</span> 
<span class="err">'</span><span class="n">City</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">ISTANBUL</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Zip</span> <span class="n">Code</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">34000</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Country</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">Turkey</span><span class="err">'</span> 
<span class="err">'</span><span class="n">State</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">Ayaza</span><span class="err">ğ</span><span class="n">a</span><span class="err">'</span> 
<span class="err">'</span><span class="n">CNP</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">''</span> 
<span class="err">'</span><span class="n">Fiscal</span> <span class="n">Code</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">''</span> 
<span class="err">'</span><span class="n">Registration</span> <span class="n">Number</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">''</span> 
<span class="err">'</span><span class="n">Bank</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">''</span> 
<span class="err">'</span><span class="n">Bank</span> <span class="n">Account</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">''</span> 
<span class="err">'</span><span class="n">Delivery</span> <span class="n">Client</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">Ad</span> <span class="n">Soyad</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Delivery</span> <span class="n">Address</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">Birinci</span> <span class="n">Adres</span> <span class="n">sat</span><span class="err">ı</span><span class="n">r</span><span class="err">ı</span> <span class="err">İ</span><span class="n">kinci</span> <span class="n">Adres</span> <span class="n">sat</span><span class="err">ı</span><span class="n">r</span><span class="err">ı'</span> 
<span class="err">'</span><span class="n">Delivery</span> <span class="n">Phone</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">02129003711</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Delivery</span> <span class="n">Email</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">mail@mail</span><span class="p">.</span><span class="n">com</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Delivery</span> <span class="n">City</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">ISTANBUL</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Delivery</span> <span class="n">Zip</span> <span class="n">Code</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">34000</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Delivery</span> <span class="n">Country</span><span class="err">'</span> <span class="p">=&gt;</span> 
<span class="err">'</span><span class="n">Delivery</span> <span class="n">state</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">TR</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Authorization</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">Approved</span><span class="p">.</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Approval</span> <span class="n">status</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">In</span> <span class="n">progress</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Net</span> <span class="n">Profit</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">9.7449</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Delivered</span> <span class="n">codes</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">''</span> 
<span class="err">'</span><span class="n">Number</span> <span class="n">of</span> <span class="n">installments</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="sc">'0'</span> 
<span class="err">'</span><span class="n">Token</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">''</span> 
<span class="err">'</span><span class="n">RRN</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">728017203119</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Merchant</span> <span class="n">Code</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">OPU_TEST</span><span class="err">'</span>
<span class="err">'</span><span class="n">Order</span> <span class="n">Confirmation</span> <span class="n">Date</span><span class="err">'</span> <span class="p">=&gt;</span> 
<span class="err">'</span><span class="n">PosCode</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">DEFAULT</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Issuer</span> <span class="n">Bank</span> <span class="n">Country</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">Turkey</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Issuer</span> <span class="n">Bank</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">AKBANK</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Customer</span> <span class="n">IP</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">127.0</span><span class="p">.</span><span class="m">0.1</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Credit</span> <span class="n">Card</span> <span class="n">Masked</span> <span class="n">Number</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">4355</span><span class="p">-</span><span class="n">xxxx</span><span class="p">-</span><span class="n">xxxx</span><span class="p">-</span><span class="m">4358</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Interchange</span> <span class="n">Fee</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">''</span> 
<span class="p">}</span>
<span class="p">]}</span>
</code></pre><h2 id='urun-raporu-olusturma'>Ürün Raporu Oluşturma</h2>
<blockquote>
<p>Örnek Ürün Raporu İsteği <br>
Oluşan URL: https://secure.payu.com.tr/reports/products?merchant=OPU_TEST&amp;startDate=2017-09-20&amp;endDate=2017-09-21&amp;timeStamp=1507388342&amp;signature=f00761bec025175d80294ad35eca1e46<br></p>

<p><a href="https://github.com/PayUTurkiye/PayUTR_CSharp/raw/master/PayU_TR_CSharp.zip"> C Sharp Örnek Proje ve Kodları buradan indirebilirsiniz. </a></p>
</blockquote>
<<<<<<< HEAD
<pre class="highlight csharp tab-csharp"><code><span class="n">ReportRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ReportRequest</span><span class="p">();</span>
<span class="n">request</span><span class="p">.</span><span class="n">merchant</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">startDate</span> <span class="p">=</span> <span class="n">startDate</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">endDate</span> <span class="p">=</span> <span class="n">endDate</span><span class="p">;</span>
<span class="n">request</span><span class="p">.</span><span class="n">timeStamp</span> <span class="p">=</span> <span class="n">unixTimestamp</span><span class="p">.</span><span class="nf">ToString</span><span class="p">();</span>
<span class="n">Options</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
<span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/reports/products"</span><span class="p">;</span>
<span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
<span class="n">model</span><span class="p">.</span><span class="n">Response</span> <span class="p">=</span> <span class="n">ReportRequest</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
=======
<pre class="highlight csharp tab-csharp"><code>            <span class="n">ReportRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ReportRequest</span><span class="p">();</span>
            <span class="n">request</span><span class="p">.</span><span class="n">merchant</span> <span class="p">=</span> <span class="s">"OPU_TEST"</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">startDate</span> <span class="p">=</span> <span class="n">startDate</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">endDate</span> <span class="p">=</span> <span class="n">endDate</span><span class="p">;</span>
            <span class="n">request</span><span class="p">.</span><span class="n">timeStamp</span> <span class="p">=</span> <span class="n">unixTimestamp</span><span class="p">.</span><span class="nf">ToString</span><span class="p">();</span>
            <span class="n">Options</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Options</span><span class="p">();</span>
            <span class="n">options</span><span class="p">.</span><span class="n">Url</span> <span class="p">=</span> <span class="s">"https://secure.payu.com.tr/reports/products"</span><span class="p">;</span>
            <span class="n">options</span><span class="p">.</span><span class="n">SecretKey</span> <span class="p">=</span> <span class="s">"SECRET_KEY"</span><span class="p">;</span>
            <span class="n">model</span><span class="p">.</span><span class="n">Response</span> <span class="p">=</span> <span class="n">ReportRequest</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
>>>>>>> 3ed3dff92d6b76228aaccf3922e0c87dca9c7fe9
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="nx">SecretKey</span> <span class="o">=</span> <span class="s1">'SECRET_KEY'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">moment</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'moment'</span><span class="p">);</span>
<span class="nx">date</span> <span class="o">=</span> <span class="nx">moment</span><span class="p">.</span><span class="nx">utc</span><span class="p">().</span><span class="nx">format</span><span class="p">(</span><span class="s1">'X'</span><span class="p">).</span><span class="nx">toString</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">array</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'merchant'</span><span class="p">:</span> <span class="s2">"OPU_TEST"</span><span class="p">,</span>
    <span class="s1">'startDate'</span><span class="p">:</span> <span class="s2">"2017-09-20"</span><span class="p">,</span>
    <span class="s1">'endDate'</span><span class="p">:</span> <span class="s2">"2017-09-21"</span><span class="p">,</span>
    <span class="s1">'timeStamp'</span><span class="p">:</span> <span class="nx">date</span>

<span class="p">};</span>

<span class="nx">hashstring</span> <span class="o">=</span> <span class="s1">''</span><span class="p">;</span>

<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">k</span> <span class="k">in</span> <span class="nx">array</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">hashstring</span> <span class="o">+=</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">].</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">array</span><span class="p">[</span><span class="nx">k</span><span class="p">]</span> <span class="p">;</span>
<span class="p">}</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">hashstring</span><span class="p">)</span>
<span class="kd">var</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'crypto'</span><span class="p">)</span>
    <span class="p">,</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">hashstring</span>
    <span class="p">,</span> <span class="nx">secretkey</span> <span class="o">=</span> <span class="nx">SecretKey</span><span class="p">;</span>

<span class="nx">signature</span> <span class="o">=</span> <span class="nx">hash</span><span class="p">.</span><span class="nx">createHmac</span><span class="p">(</span><span class="s1">'md5'</span><span class="p">,</span> <span class="nx">secretkey</span><span class="p">).</span><span class="nx">update</span><span class="p">(</span><span class="nx">data</span><span class="p">).</span><span class="nx">digest</span><span class="p">(</span><span class="s1">'hex'</span><span class="p">);</span>
<span class="nx">array</span><span class="p">[</span><span class="s1">'signature'</span><span class="p">]</span> <span class="o">=</span> <span class="nx">signature</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">EndPointURL</span> <span class="o">=</span> <span class="s1">'https://secure.payu.com.tr/reports/products'</span><span class="o">+</span><span class="s2">"?merchant="</span><span class="o">+</span><span class="nx">array</span><span class="p">[</span><span class="s1">'merchant'</span><span class="p">]</span><span class="o">+</span><span class="s2">"&amp;startDate="</span><span class="o">+</span><span class="nx">array</span><span class="p">[</span><span class="s1">'startDate'</span><span class="p">]</span><span class="o">+</span><span class="s2">"&amp;endDate="</span><span class="o">+</span><span class="nx">array</span><span class="p">[</span><span class="s1">'endDate'</span><span class="p">]</span><span class="o">+</span><span class="s2">"&amp;timeStamp="</span><span class="o">+</span><span class="nx">array</span><span class="p">[</span><span class="s1">'timeStamp'</span><span class="p">]</span><span class="o">+</span><span class="s2">"&amp;signature="</span><span class="o">+</span><span class="nx">signature</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">EndPointURL</span><span class="p">)</span>

<span class="kd">var</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s2">"request"</span><span class="p">);</span>
<span class="nx">request</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">EndPointURL</span><span class="p">,</span> <span class="p">{</span><span class="na">form</span><span class="p">:</span><span class="nx">array</span><span class="p">},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>

<span class="p">});</span>
</code></pre><pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$url</span> <span class="o">=</span><span class="s2">"https://secure.payu.com.tr/reports/products"</span><span class="p">;</span>
<span class="nv">$secretKey</span> <span class="o">=</span> <span class="s2">"SECRET_KEY"</span><span class="p">;</span>
<span class="nv">$array</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'merchant'</span> <span class="o">=&gt;</span> <span class="s2">"OPU_TEST"</span><span class="p">,</span>
    <span class="s1">'startdate'</span> <span class="o">=&gt;</span> <span class="s2">"2017-10-06"</span><span class="p">,</span>
    <span class="s1">'enddate'</span> <span class="o">=&gt;</span> <span class="s1">'2017-10-07'</span><span class="p">,</span>
    <span class="s1">'timeStamp'</span> <span class="o">=&gt;</span> <span class="nb">time</span><span class="p">(),</span>
<span class="p">);</span>
<span class="nv">$hashString</span> <span class="o">=</span> <span class="s2">""</span><span class="p">;</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$array</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$hashString</span> <span class="o">.=</span> <span class="nb">strlen</span><span class="p">(</span><span class="nv">$value</span><span class="p">)</span> <span class="o">.</span> <span class="nv">$value</span><span class="p">;</span>
<span class="p">}</span>
<span class="nv">$hash</span> <span class="o">=</span> <span class="nb">hash_hmac</span><span class="p">(</span><span class="s1">'md5'</span><span class="p">,</span> <span class="nv">$hashString</span><span class="p">,</span> <span class="nv">$secretKey</span><span class="p">);</span>
<span class="nv">$urlReqest</span>  <span class="o">=</span> <span class="nv">$url</span><span class="o">.</span><span class="s2">"?merchant="</span><span class="o">.</span><span class="nv">$array</span><span class="p">[</span><span class="nx">merchant</span><span class="p">]</span><span class="o">.</span><span class="s2">"&amp;startDate="</span><span class="o">.</span><span class="nv">$array</span><span class="p">[</span><span class="nx">startdate</span><span class="p">]</span><span class="o">.</span><span class="s2">"&amp;endDate="</span><span class="o">.</span><span class="nv">$array</span><span class="p">[</span><span class="nx">enddate</span><span class="p">]</span><span class="o">.</span><span class="s2">"&amp;timeStamp="</span><span class="o">.</span><span class="nv">$array</span><span class="p">[</span><span class="nx">timeStamp</span><span class="p">]</span><span class="o">.</span><span class="s2">"&amp;signature="</span><span class="o">.</span><span class="nv">$hash</span><span class="p">;</span>
<span class="k">echo</span> <span class="s2">"&lt;a href='"</span><span class="o">.</span><span class="nv">$urlReqest</span><span class="o">.</span><span class="s2">"' target='_blank'&gt;"</span><span class="o">.</span><span class="nv">$urlReqest</span><span class="o">.</span><span class="s2">"&lt;/a&gt;"</span><span class="p">;</span>
<span class="nv">$xml</span> <span class="o">=</span> <span class="nb">file_get_contents</span><span class="p">(</span><span class="nv">$urlReqest</span><span class="p">);</span>
<span class="nb">var_dump</span><span class="p">(</span><span class="nb">json_decode</span><span class="p">(</span><span class="nv">$xml</span><span class="p">,</span><span class="mi">1</span><span class="p">));</span>
<span class="cp">?&gt;</span>


</code></pre><pre class="highlight python tab-python"><code>
<span class="c"># Importing required libraries.</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">from</span> <span class="nn">urllib.request</span> <span class="kn">import</span> <span class="n">Request</span><span class="p">,</span> <span class="n">urlopen</span>
<span class="kn">import</span> <span class="nn">collections</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">csv</span>

<span class="c">#Secret Key</span>
<span class="n">secret</span> <span class="o">=</span> <span class="s">'SECRET_KEY'</span>

<span class="n">array</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">OrderedDict</span><span class="p">()</span>
<span class="n">array</span><span class="p">[</span><span class="s">'merchant'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'OPU_TEST'</span>
<span class="n">array</span><span class="p">[</span><span class="s">'startDate'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'2017-09-20'</span>
<span class="n">array</span><span class="p">[</span><span class="s">'endDate'</span><span class="p">]</span> <span class="o">=</span> <span class="s">'2017-09-21'</span>
<span class="n">array</span><span class="p">[</span><span class="s">'timestamp'</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">())</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">'.'</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

<span class="c"># Initializing the hashstring @param</span>
<span class="n">hashstring</span> <span class="o">=</span> <span class="s">''</span>

<span class="c"># Sorting Array @params</span>
<span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">array</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>

<span class="c"># Adding the UTF-8 byte length of each field value at the beginning of field value</span>
    <span class="n">hashstring</span> <span class="o">+=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">v</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'UTF-8'</span><span class="p">)))</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">hashstring</span><span class="p">)</span>

<span class="c"># Calculating signature</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">hmac</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">secret</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashstring</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="o">.</span><span class="n">md5</span><span class="p">)</span><span class="o">.</span><span class="n">hexdigest</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">signature</span><span class="p">)</span>

<span class="c"># Adding Signature @param to dict</span>
<span class="n">array</span><span class="p">[</span><span class="s">'signature'</span><span class="p">]</span> <span class="o">=</span> <span class="n">signature</span>

<span class="c"># Endpoint</span>
<span class="n">url</span> <span class="o">=</span> <span class="s">'https://secure.payu.com.tr/reports/products?merchant={merchant}&amp;startDate={startDate}&amp;endDate={endDate}&amp;timeStamp={timestamp}&amp;signature={signature}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="o">**</span><span class="n">array</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>

<span class="c"># Sending Request to Endpoint</span>
<span class="n">request</span> <span class="o">=</span> <span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="n">response</span> <span class="o">=</span> <span class="n">urlopen</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>

<span class="c"># Printing result/response</span>
<span class="k">print</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
<span class="n">Olu</span><span class="err">ş</span><span class="n">an</span> <span class="n">URL</span><span class="p">:</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">secure</span><span class="o">.</span><span class="n">payu</span><span class="o">.</span><span class="n">com</span><span class="o">.</span><span class="n">tr</span><span class="o">/</span><span class="n">reports</span><span class="o">/</span><span class="n">products</span><span class="err">?</span><span class="n">merchant</span><span class="o">=</span><span class="n">OPU_TEST</span><span class="o">&amp;</span><span class="n">startDate</span><span class="o">=</span><span class="mi">2017</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">20</span><span class="o">&amp;</span><span class="n">endDate</span><span class="o">=</span><span class="mi">2017</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">21</span><span class="o">&amp;</span><span class="n">timeStamp</span><span class="o">=</span><span class="mi">1507388342</span><span class="o">&amp;</span><span class="n">signature</span><span class="o">=</span><span class="n">f00761bec025175d80294ad35eca1e46</span><span class="o">&lt;</span><span class="n">br</span><span class="o">&gt;</span>
</code></pre>
<p>Endpoint GET <code>https://secure.payu.com.tr/reports/products</code></p>

<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>merchant</td>
<td>Üye iş yeri entegrasyon ismi.</td>
</tr>
<tr>
<td>startDate</td>
<td>Rapor başlangıç tarihi.</td>
</tr>
<tr>
<td>endDate</td>
<td>Rapor bitiş tarihi.</td>
</tr>
<tr>
<td>timeStamp</td>
<td>Unix timestamp (UTC/GMT 0).</td>
</tr>
<tr>
<td>signature</td>
<td>İstek sırasında gönderilen değerlerin belirtildiği sırada, başlarına uzunlukları eklendikten sonra HMAC_MD5 algoritması ile hash oluşturulan değerdir.</td>
</tr>
</tbody></table>
<h3 id='yanit-parametreleri-10'>Yanıt Parametreleri</h3>
<table><thead>
<tr>
<th>Parametre</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>statusCode</td>
<td>Rapor yanıt statü kodu</td>
</tr>
<tr>
<td>statusDescription</td>
<td>Rapor yanıt mesajı</td>
</tr>
<tr>
<td>data</td>
<td>Siparişin tüm detayları</td>
</tr>
</tbody></table>

<blockquote>
<p>Örnek Başarılı Ürün Raporu Yanıtı 
https://secure.payu.com.tr/reports/products?merchant=OPU_TEST&amp;startDate=2017-09-20&amp;endDate=2017-09-21&amp;timeStamp=1507388342&amp;signature=f00761bec025175d80294ad35eca1e46<br></p>
</blockquote>
<pre class="highlight php tab-php"><code>{
"statusCode":"0",
"statusDescription":"Success",
"data":[{
'Product ID' =&gt;  '52796907' 
'Product Code' =&gt;  'Test Kodu' 
'Product' =&gt;  'Test Ürünü' 
'Extra info' =&gt;  'Test Açıklaması' 
'Order No' =&gt;  '462' 
'Order status' =&gt;  'AUTHRECEIVED' 
'Reference No' =&gt;  '41699900' 
'External Reference No' =&gt;  '229' 
'Pay Method' =&gt;  'CreditCard' 
'Order Date' =&gt;  '2017-10-07 17:41:05' 
'Order Finish Date' =&gt;  '2017-10-07 17:41:10' 
'Currency' =&gt;  'TRY' 
'Quantity' =&gt;  '1' 
'Unit price (without VAT' =&gt;  '5' 
'Total Price' =&gt;  '5.00' 
'Total VAT' =&gt;  '0.90' 
'Unit Discount' =&gt;  '0.00' 
'Promotion' =&gt;  '' 
'Promotion Coupon Code' =&gt;  '' 
'General Discount' =&gt;  '0' 
'PAYU Discount' =&gt;  '0' 
'Shipping' =&gt;  '5' 
'Card no' =&gt;  '435508xx-xxxx-4358' 
'Card type' =&gt;  'Visa' 
'Transfer date' =&gt;  'Not Available' 
'Initial amount ' =&gt;  '10.9' 
'Installment profit  ' =&gt;  '0' 
'Paid amount' =&gt;  '10.9' 
'Loyalty' =&gt;  '' 
'Total fee' =&gt;  '0.2551' 
'Service fee ' =&gt;  '0' 
'Loyalty fee ' =&gt;  '0' 
'Commission fee ' =&gt;  '0.2551' 
'Number of installments' =&gt;  'one time payment' 
'General Total' =&gt;  '10.9' 
'Processing fee' =&gt;  '0.2551' 
'Company' =&gt;  'PayU Ödeme Kuruluşu A.Ş.' 
'Client' =&gt;  'Ad Soyad' 
'Address' =&gt;  'Birinci Adres satırı İkinci Adres satırı' 
'Phone' =&gt;  '02129003711' 
'Email' =&gt;  'mail@mail.com' 
'City' =&gt;  'ISTANBUL' 
'Zip Code' =&gt;  '34000' 
'Country' =&gt;  'Turkey' 
'State' =&gt;  'Ayazağa' 
'CNP' =&gt;  '' 
'Fiscal Code' =&gt;  '' 
'Registration Number' =&gt;  '' 
'Bank' =&gt;  '' 
'Bank Account' =&gt;  '' 
'Delivery Client' =&gt;  'Ad Soyad' 
'Delivery Address' =&gt;  'Birinci Adres satırı İkinci Adres satırı' 
'Delivery Phone' =&gt;  '02129003711' 
'Delivery Email' =&gt;  'mail@mail.com' 
'Delivery City' =&gt;  'ISTANBUL' 
'Delivery Zip Code' =&gt;  '34000' 
'Delivery Country' =&gt; 
'Delivery state' =&gt;  'TR' 
'Authorization' =&gt;  'Approved.' 
'Approval status' =&gt;  'In progress' 
'Licence' =&gt; 
'Net Profit' =&gt;  '9.7449'
'Payment Currency' =&gt; 
'Exchange Rate' =&gt; 
'Final Exchange Rate' =&gt; 
'Delivered codes' =&gt;  ''
'Order Confirmation Date' =&gt; 
'PosCode' =&gt;  'DEFAULT'
'Issuer Bank Country' =&gt;  'Turkey'
'Issuer Bank' =&gt;  'AKBANK'
'Customer IP' =&gt;  '127.0.0.1'
'Credit Card Masked Number' =&gt;  '4355-xxxx-xxxx-4358'
}
]}
</code></pre><pre class="highlight javascript tab-javascript"><code><span class="p">{</span><span class="s2">"statusCode"</span><span class="p">:</span><span class="s2">"0"</span><span class="p">,</span>
<span class="s2">"statusDescription"</span><span class="p">:</span><span class="s2">"Success"</span><span class="p">,</span>
<span class="s2">"data"</span><span class="p">:[{</span>
<span class="s1">'Product ID'</span> <span class="o">=&gt;</span>  <span class="s1">'52796907'</span> 
<span class="s1">'Product Code'</span> <span class="o">=&gt;</span>  <span class="s1">'Test Kodu'</span> 
<span class="s1">'Product'</span> <span class="o">=&gt;</span>  <span class="s1">'Test Ürünü'</span> 
<span class="s1">'Extra info'</span> <span class="o">=&gt;</span>  <span class="s1">'Test Açıklaması'</span> 
<span class="s1">'Order No'</span> <span class="o">=&gt;</span>  <span class="s1">'462'</span> 
<span class="s1">'Order status'</span> <span class="o">=&gt;</span>  <span class="s1">'AUTHRECEIVED'</span> 
<span class="s1">'Reference No'</span> <span class="o">=&gt;</span>  <span class="s1">'41699900'</span> 
<span class="s1">'External Reference No'</span> <span class="o">=&gt;</span>  <span class="s1">'229'</span> 
<span class="s1">'Pay Method'</span> <span class="o">=&gt;</span>  <span class="s1">'CreditCard'</span> 
<span class="s1">'Order Date'</span> <span class="o">=&gt;</span>  <span class="s1">'2017-10-07 17:41:05'</span> 
<span class="s1">'Order Finish Date'</span> <span class="o">=&gt;</span>  <span class="s1">'2017-10-07 17:41:10'</span> 
<span class="s1">'Currency'</span> <span class="o">=&gt;</span>  <span class="s1">'TRY'</span> 
<span class="s1">'Quantity'</span> <span class="o">=&gt;</span>  <span class="s1">'1'</span> 
<span class="s1">'Unit price (without VAT'</span> <span class="o">=&gt;</span>  <span class="s1">'5'</span> 
<span class="s1">'Total Price'</span> <span class="o">=&gt;</span>  <span class="s1">'5.00'</span> 
<span class="s1">'Total VAT'</span> <span class="o">=&gt;</span>  <span class="s1">'0.90'</span> 
<span class="s1">'Unit Discount'</span> <span class="o">=&gt;</span>  <span class="s1">'0.00'</span> 
<span class="s1">'Promotion'</span> <span class="o">=&gt;</span>  <span class="s1">''</span> 
<span class="s1">'Promotion Coupon Code'</span> <span class="o">=&gt;</span>  <span class="s1">''</span> 
<span class="s1">'General Discount'</span> <span class="o">=&gt;</span>  <span class="s1">'0'</span> 
<span class="s1">'PAYU Discount'</span> <span class="o">=&gt;</span>  <span class="s1">'0'</span> 
<span class="s1">'Shipping'</span> <span class="o">=&gt;</span>  <span class="s1">'5'</span> 
<span class="s1">'Card no'</span> <span class="o">=&gt;</span>  <span class="s1">'435508xx-xxxx-4358'</span> 
<span class="s1">'Card type'</span> <span class="o">=&gt;</span>  <span class="s1">'Visa'</span> 
<span class="s1">'Transfer date'</span> <span class="o">=&gt;</span>  <span class="s1">'Not Available'</span> 
<span class="s1">'Initial amount '</span> <span class="o">=&gt;</span>  <span class="s1">'10.9'</span> 
<span class="s1">'Installment profit  '</span> <span class="o">=&gt;</span>  <span class="s1">'0'</span> 
<span class="s1">'Paid amount'</span> <span class="o">=&gt;</span>  <span class="s1">'10.9'</span> 
<span class="s1">'Loyalty'</span> <span class="o">=&gt;</span>  <span class="s1">''</span> 
<span class="s1">'Total fee'</span> <span class="o">=&gt;</span>  <span class="s1">'0.2551'</span> 
<span class="s1">'Service fee '</span> <span class="o">=&gt;</span>  <span class="s1">'0'</span> 
<span class="s1">'Loyalty fee '</span> <span class="o">=&gt;</span>  <span class="s1">'0'</span> 
<span class="s1">'Commission fee '</span> <span class="o">=&gt;</span>  <span class="s1">'0.2551'</span> 
<span class="s1">'Number of installments'</span> <span class="o">=&gt;</span>  <span class="s1">'one time payment'</span> 
<span class="s1">'General Total'</span> <span class="o">=&gt;</span>  <span class="s1">'10.9'</span> 
<span class="s1">'Processing fee'</span> <span class="o">=&gt;</span>  <span class="s1">'0.2551'</span> 
<span class="s1">'Company'</span> <span class="o">=&gt;</span>  <span class="s1">'PayU Ödeme Kuruluşu A.Ş.'</span> 
<span class="s1">'Client'</span> <span class="o">=&gt;</span>  <span class="s1">'Ad Soyad'</span> 
<span class="s1">'Address'</span> <span class="o">=&gt;</span>  <span class="s1">'Birinci Adres satırı İkinci Adres satırı'</span> 
<span class="s1">'Phone'</span> <span class="o">=&gt;</span>  <span class="s1">'02129003711'</span> 
<span class="s1">'Email'</span> <span class="o">=&gt;</span>  <span class="s1">'mail@mail.com'</span> 
<span class="s1">'City'</span> <span class="o">=&gt;</span>  <span class="s1">'ISTANBUL'</span> 
<span class="s1">'Zip Code'</span> <span class="o">=&gt;</span>  <span class="s1">'34000'</span> 
<span class="s1">'Country'</span> <span class="o">=&gt;</span>  <span class="s1">'Turkey'</span> 
<span class="s1">'State'</span> <span class="o">=&gt;</span>  <span class="s1">'Ayazağa'</span> 
<span class="s1">'CNP'</span> <span class="o">=&gt;</span>  <span class="s1">''</span> 
<span class="s1">'Fiscal Code'</span> <span class="o">=&gt;</span>  <span class="s1">''</span> 
<span class="s1">'Registration Number'</span> <span class="o">=&gt;</span>  <span class="s1">''</span> 
<span class="s1">'Bank'</span> <span class="o">=&gt;</span>  <span class="s1">''</span> 
<span class="s1">'Bank Account'</span> <span class="o">=&gt;</span>  <span class="s1">''</span> 
<span class="s1">'Delivery Client'</span> <span class="o">=&gt;</span>  <span class="s1">'Ad Soyad'</span> 
<span class="s1">'Delivery Address'</span> <span class="o">=&gt;</span>  <span class="s1">'Birinci Adres satırı İkinci Adres satırı'</span> 
<span class="s1">'Delivery Phone'</span> <span class="o">=&gt;</span>  <span class="s1">'02129003711'</span> 
<span class="s1">'Delivery Email'</span> <span class="o">=&gt;</span>  <span class="s1">'mail@mail.com'</span> 
<span class="s1">'Delivery City'</span> <span class="o">=&gt;</span>  <span class="s1">'ISTANBUL'</span> 
<span class="s1">'Delivery Zip Code'</span> <span class="o">=&gt;</span>  <span class="s1">'34000'</span> 
<span class="s1">'Delivery Country'</span> <span class="o">=&gt;</span> 
<span class="s1">'Delivery state'</span> <span class="o">=&gt;</span>  <span class="s1">'TR'</span> 
<span class="s1">'Authorization'</span> <span class="o">=&gt;</span>  <span class="s1">'Approved.'</span> 
<span class="s1">'Approval status'</span> <span class="o">=&gt;</span>  <span class="s1">'In progress'</span> 
<span class="s1">'Licence'</span> <span class="o">=&gt;</span> 
<span class="s1">'Net Profit'</span> <span class="o">=&gt;</span>  <span class="s1">'9.7449'</span>
<span class="s1">'Payment Currency'</span> <span class="o">=&gt;</span> 
<span class="s1">'Exchange Rate'</span> <span class="o">=&gt;</span> 
<span class="s1">'Final Exchange Rate'</span> <span class="o">=&gt;</span> 
<span class="s1">'Delivered codes'</span> <span class="o">=&gt;</span>  <span class="s1">''</span>
<span class="s1">'Order Confirmation Date'</span> <span class="o">=&gt;</span> 
<span class="s1">'PosCode'</span> <span class="o">=&gt;</span>  <span class="s1">'DEFAULT'</span>
<span class="s1">'Issuer Bank Country'</span> <span class="o">=&gt;</span>  <span class="s1">'Turkey'</span>
<span class="s1">'Issuer Bank'</span> <span class="o">=&gt;</span>  <span class="s1">'AKBANK'</span>
<span class="s1">'Customer IP'</span> <span class="o">=&gt;</span>  <span class="s1">'127.0.0.1'</span>
<span class="s1">'Credit Card Masked Number'</span> <span class="o">=&gt;</span>  <span class="s1">'4355-xxxx-xxxx-4358'</span>
<span class="p">}</span>
<span class="p">]}</span>
</code></pre><pre class="highlight python tab-python"><code><span class="p">{</span><span class="s">"statusCode"</span><span class="p">:</span><span class="s">"0"</span><span class="p">,</span>
<span class="s">"statusDescription"</span><span class="p">:</span><span class="s">"Success"</span><span class="p">,</span>
<span class="s">"data"</span><span class="p">:[{</span>
<span class="s">'Product ID'</span> <span class="o">=&gt;</span>  <span class="s">'52796907'</span> 
<span class="s">'Product Code'</span> <span class="o">=&gt;</span>  <span class="s">'Test Kodu'</span> 
<span class="s">'Product'</span> <span class="o">=&gt;</span>  <span class="s">'Test Ürünü'</span> 
<span class="s">'Extra info'</span> <span class="o">=&gt;</span>  <span class="s">'Test Açıklaması'</span> 
<span class="s">'Order No'</span> <span class="o">=&gt;</span>  <span class="s">'462'</span> 
<span class="s">'Order status'</span> <span class="o">=&gt;</span>  <span class="s">'AUTHRECEIVED'</span> 
<span class="s">'Reference No'</span> <span class="o">=&gt;</span>  <span class="s">'41699900'</span> 
<span class="s">'External Reference No'</span> <span class="o">=&gt;</span>  <span class="s">'229'</span> 
<span class="s">'Pay Method'</span> <span class="o">=&gt;</span>  <span class="s">'CreditCard'</span> 
<span class="s">'Order Date'</span> <span class="o">=&gt;</span>  <span class="s">'2017-10-07 17:41:05'</span> 
<span class="s">'Order Finish Date'</span> <span class="o">=&gt;</span>  <span class="s">'2017-10-07 17:41:10'</span> 
<span class="s">'Currency'</span> <span class="o">=&gt;</span>  <span class="s">'TRY'</span> 
<span class="s">'Quantity'</span> <span class="o">=&gt;</span>  <span class="s">'1'</span> 
<span class="s">'Unit price (without VAT'</span> <span class="o">=&gt;</span>  <span class="s">'5'</span> 
<span class="s">'Total Price'</span> <span class="o">=&gt;</span>  <span class="s">'5.00'</span> 
<span class="s">'Total VAT'</span> <span class="o">=&gt;</span>  <span class="s">'0.90'</span> 
<span class="s">'Unit Discount'</span> <span class="o">=&gt;</span>  <span class="s">'0.00'</span> 
<span class="s">'Promotion'</span> <span class="o">=&gt;</span>  <span class="s">''</span> 
<span class="s">'Promotion Coupon Code'</span> <span class="o">=&gt;</span>  <span class="s">''</span> 
<span class="s">'General Discount'</span> <span class="o">=&gt;</span>  <span class="s">'0'</span> 
<span class="s">'PAYU Discount'</span> <span class="o">=&gt;</span>  <span class="s">'0'</span> 
<span class="s">'Shipping'</span> <span class="o">=&gt;</span>  <span class="s">'5'</span> 
<span class="s">'Card no'</span> <span class="o">=&gt;</span>  <span class="s">'435508xx-xxxx-4358'</span> 
<span class="s">'Card type'</span> <span class="o">=&gt;</span>  <span class="s">'Visa'</span> 
<span class="s">'Transfer date'</span> <span class="o">=&gt;</span>  <span class="s">'Not Available'</span> 
<span class="s">'Initial amount '</span> <span class="o">=&gt;</span>  <span class="s">'10.9'</span> 
<span class="s">'Installment profit  '</span> <span class="o">=&gt;</span>  <span class="s">'0'</span> 
<span class="s">'Paid amount'</span> <span class="o">=&gt;</span>  <span class="s">'10.9'</span> 
<span class="s">'Loyalty'</span> <span class="o">=&gt;</span>  <span class="s">''</span> 
<span class="s">'Total fee'</span> <span class="o">=&gt;</span>  <span class="s">'0.2551'</span> 
<span class="s">'Service fee '</span> <span class="o">=&gt;</span>  <span class="s">'0'</span> 
<span class="s">'Loyalty fee '</span> <span class="o">=&gt;</span>  <span class="s">'0'</span> 
<span class="s">'Commission fee '</span> <span class="o">=&gt;</span>  <span class="s">'0.2551'</span> 
<span class="s">'Number of installments'</span> <span class="o">=&gt;</span>  <span class="s">'one time payment'</span> 
<span class="s">'General Total'</span> <span class="o">=&gt;</span>  <span class="s">'10.9'</span> 
<span class="s">'Processing fee'</span> <span class="o">=&gt;</span>  <span class="s">'0.2551'</span> 
<span class="s">'Company'</span> <span class="o">=&gt;</span>  <span class="s">'PayU Ödeme Kuruluşu A.Ş.'</span> 
<span class="s">'Client'</span> <span class="o">=&gt;</span>  <span class="s">'Ad Soyad'</span> 
<span class="s">'Address'</span> <span class="o">=&gt;</span>  <span class="s">'Birinci Adres satırı İkinci Adres satırı'</span> 
<span class="s">'Phone'</span> <span class="o">=&gt;</span>  <span class="s">'02129003711'</span> 
<span class="s">'Email'</span> <span class="o">=&gt;</span>  <span class="s">'mail@mail.com'</span> 
<span class="s">'City'</span> <span class="o">=&gt;</span>  <span class="s">'ISTANBUL'</span> 
<span class="s">'Zip Code'</span> <span class="o">=&gt;</span>  <span class="s">'34000'</span> 
<span class="s">'Country'</span> <span class="o">=&gt;</span>  <span class="s">'Turkey'</span> 
<span class="s">'State'</span> <span class="o">=&gt;</span>  <span class="s">'Ayazağa'</span> 
<span class="s">'CNP'</span> <span class="o">=&gt;</span>  <span class="s">''</span> 
<span class="s">'Fiscal Code'</span> <span class="o">=&gt;</span>  <span class="s">''</span> 
<span class="s">'Registration Number'</span> <span class="o">=&gt;</span>  <span class="s">''</span> 
<span class="s">'Bank'</span> <span class="o">=&gt;</span>  <span class="s">''</span> 
<span class="s">'Bank Account'</span> <span class="o">=&gt;</span>  <span class="s">''</span> 
<span class="s">'Delivery Client'</span> <span class="o">=&gt;</span>  <span class="s">'Ad Soyad'</span> 
<span class="s">'Delivery Address'</span> <span class="o">=&gt;</span>  <span class="s">'Birinci Adres satırı İkinci Adres satırı'</span> 
<span class="s">'Delivery Phone'</span> <span class="o">=&gt;</span>  <span class="s">'02129003711'</span> 
<span class="s">'Delivery Email'</span> <span class="o">=&gt;</span>  <span class="s">'mail@mail.com'</span> 
<span class="s">'Delivery City'</span> <span class="o">=&gt;</span>  <span class="s">'ISTANBUL'</span> 
<span class="s">'Delivery Zip Code'</span> <span class="o">=&gt;</span>  <span class="s">'34000'</span> 
<span class="s">'Delivery Country'</span> <span class="o">=&gt;</span> 
<span class="s">'Delivery state'</span> <span class="o">=&gt;</span>  <span class="s">'TR'</span> 
<span class="s">'Authorization'</span> <span class="o">=&gt;</span>  <span class="s">'Approved.'</span> 
<span class="s">'Approval status'</span> <span class="o">=&gt;</span>  <span class="s">'In progress'</span> 
<span class="s">'Licence'</span> <span class="o">=&gt;</span> 
<span class="s">'Net Profit'</span> <span class="o">=&gt;</span>  <span class="s">'9.7449'</span>
<span class="s">'Payment Currency'</span> <span class="o">=&gt;</span> 
<span class="s">'Exchange Rate'</span> <span class="o">=&gt;</span> 
<span class="s">'Final Exchange Rate'</span> <span class="o">=&gt;</span> 
<span class="s">'Delivered codes'</span> <span class="o">=&gt;</span>  <span class="s">''</span>
<span class="s">'Order Confirmation Date'</span> <span class="o">=&gt;</span> 
<span class="s">'PosCode'</span> <span class="o">=&gt;</span>  <span class="s">'DEFAULT'</span>
<span class="s">'Issuer Bank Country'</span> <span class="o">=&gt;</span>  <span class="s">'Turkey'</span>
<span class="s">'Issuer Bank'</span> <span class="o">=&gt;</span>  <span class="s">'AKBANK'</span>
<span class="s">'Customer IP'</span> <span class="o">=&gt;</span>  <span class="s">'127.0.0.1'</span>
<span class="s">'Credit Card Masked Number'</span> <span class="o">=&gt;</span>  <span class="s">'4355-xxxx-xxxx-4358'</span>
<span class="p">}</span>
<span class="p">]}</span>
</code></pre><pre class="highlight csharp tab-csharp"><code><span class="p">{</span><span class="s">"statusCode"</span><span class="p">:</span><span class="s">"0"</span><span class="p">,</span>
<span class="s">"statusDescription"</span><span class="p">:</span><span class="s">"Success"</span><span class="p">,</span>
<span class="s">"data"</span><span class="p">:[{</span>
<span class="err">'</span><span class="n">Product</span> <span class="n">ID</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">52796907</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Product</span> <span class="n">Code</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">Test</span> <span class="n">Kodu</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Product</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">Test</span> <span class="err">Ü</span><span class="n">r</span><span class="err">ü</span><span class="n">n</span><span class="err">ü'</span> 
<span class="err">'</span><span class="n">Extra</span> <span class="n">info</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">Test</span> <span class="n">A</span><span class="err">çı</span><span class="n">klamas</span><span class="err">ı'</span> 
<span class="err">'</span><span class="n">Order</span> <span class="n">No</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">462</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Order</span> <span class="n">status</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">AUTHRECEIVED</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Reference</span> <span class="n">No</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">41699900</span><span class="err">'</span> 
<span class="err">'</span><span class="n">External</span> <span class="n">Reference</span> <span class="n">No</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">229</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Pay</span> <span class="n">Method</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">CreditCard</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Order</span> <span class="n">Date</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">2017</span><span class="p">-</span><span class="m">10</span><span class="p">-</span><span class="m">07</span> <span class="m">17</span><span class="p">:</span><span class="m">41</span><span class="p">:</span><span class="m">05</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Order</span> <span class="n">Finish</span> <span class="n">Date</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">2017</span><span class="p">-</span><span class="m">10</span><span class="p">-</span><span class="m">07</span> <span class="m">17</span><span class="p">:</span><span class="m">41</span><span class="p">:</span><span class="m">10</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Currency</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">TRY</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Quantity</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="sc">'1'</span> 
<span class="err">'</span><span class="n">Unit</span> <span class="nf">price</span> <span class="p">(</span><span class="n">without</span> <span class="n">VAT</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="sc">'5'</span> 
<span class="err">'</span><span class="n">Total</span> <span class="n">Price</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">5.00</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Total</span> <span class="n">VAT</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">0.90</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Unit</span> <span class="n">Discount</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">0.00</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Promotion</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">''</span> 
<span class="err">'</span><span class="n">Promotion</span> <span class="n">Coupon</span> <span class="n">Code</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">''</span> 
<span class="err">'</span><span class="n">General</span> <span class="n">Discount</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="sc">'0'</span> 
<span class="err">'</span><span class="n">PAYU</span> <span class="n">Discount</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="sc">'0'</span> 
<span class="err">'</span><span class="n">Shipping</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="sc">'5'</span> 
<span class="err">'</span><span class="n">Card</span> <span class="n">no</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">435508</span><span class="n">xx</span><span class="p">-</span><span class="n">xxxx</span><span class="p">-</span><span class="m">4358</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Card</span> <span class="n">type</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">Visa</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Transfer</span> <span class="n">date</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">Not</span> <span class="n">Available</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Initial</span> <span class="n">amount</span> <span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">10.9</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Installment</span> <span class="n">profit</span>  <span class="err">'</span> <span class="p">=&gt;</span>  <span class="sc">'0'</span> 
<span class="err">'</span><span class="n">Paid</span> <span class="n">amount</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">10.9</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Loyalty</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">''</span> 
<span class="err">'</span><span class="n">Total</span> <span class="n">fee</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">0.2551</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Service</span> <span class="n">fee</span> <span class="err">'</span> <span class="p">=&gt;</span>  <span class="sc">'0'</span> 
<span class="err">'</span><span class="n">Loyalty</span> <span class="n">fee</span> <span class="err">'</span> <span class="p">=&gt;</span>  <span class="sc">'0'</span> 
<span class="err">'</span><span class="n">Commission</span> <span class="n">fee</span> <span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">0.2551</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Number</span> <span class="n">of</span> <span class="n">installments</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">one</span> <span class="n">time</span> <span class="n">payment</span><span class="err">'</span> 
<span class="err">'</span><span class="n">General</span> <span class="n">Total</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">10.9</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Processing</span> <span class="n">fee</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">0.2551</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Company</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">PayU</span> <span class="err">Ö</span><span class="n">deme</span> <span class="n">Kurulu</span><span class="err">ş</span><span class="n">u</span> <span class="n">A</span><span class="p">.</span><span class="err">Ş</span><span class="p">.</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Client</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">Ad</span> <span class="n">Soyad</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Address</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">Birinci</span> <span class="n">Adres</span> <span class="n">sat</span><span class="err">ı</span><span class="n">r</span><span class="err">ı</span> <span class="err">İ</span><span class="n">kinci</span> <span class="n">Adres</span> <span class="n">sat</span><span class="err">ı</span><span class="n">r</span><span class="err">ı'</span> 
<span class="err">'</span><span class="n">Phone</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">02129003711</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Email</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">mail@mail</span><span class="p">.</span><span class="n">com</span><span class="err">'</span> 
<span class="err">'</span><span class="n">City</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">ISTANBUL</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Zip</span> <span class="n">Code</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">34000</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Country</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">Turkey</span><span class="err">'</span> 
<span class="err">'</span><span class="n">State</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">Ayaza</span><span class="err">ğ</span><span class="n">a</span><span class="err">'</span> 
<span class="err">'</span><span class="n">CNP</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">''</span> 
<span class="err">'</span><span class="n">Fiscal</span> <span class="n">Code</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">''</span> 
<span class="err">'</span><span class="n">Registration</span> <span class="n">Number</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">''</span> 
<span class="err">'</span><span class="n">Bank</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">''</span> 
<span class="err">'</span><span class="n">Bank</span> <span class="n">Account</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">''</span> 
<span class="err">'</span><span class="n">Delivery</span> <span class="n">Client</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">Ad</span> <span class="n">Soyad</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Delivery</span> <span class="n">Address</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">Birinci</span> <span class="n">Adres</span> <span class="n">sat</span><span class="err">ı</span><span class="n">r</span><span class="err">ı</span> <span class="err">İ</span><span class="n">kinci</span> <span class="n">Adres</span> <span class="n">sat</span><span class="err">ı</span><span class="n">r</span><span class="err">ı'</span> 
<span class="err">'</span><span class="n">Delivery</span> <span class="n">Phone</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">02129003711</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Delivery</span> <span class="n">Email</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">mail@mail</span><span class="p">.</span><span class="n">com</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Delivery</span> <span class="n">City</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">ISTANBUL</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Delivery</span> <span class="n">Zip</span> <span class="n">Code</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">34000</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Delivery</span> <span class="n">Country</span><span class="err">'</span> <span class="p">=&gt;</span> 
<span class="err">'</span><span class="n">Delivery</span> <span class="n">state</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">TR</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Authorization</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">Approved</span><span class="p">.</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Approval</span> <span class="n">status</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">In</span> <span class="n">progress</span><span class="err">'</span> 
<span class="err">'</span><span class="n">Licence</span><span class="err">'</span> <span class="p">=&gt;</span> 
<span class="err">'</span><span class="n">Net</span> <span class="n">Profit</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">9.7449</span><span class="err">'</span>
<span class="err">'</span><span class="n">Payment</span> <span class="n">Currency</span><span class="err">'</span> <span class="p">=&gt;</span> 
<span class="err">'</span><span class="n">Exchange</span> <span class="n">Rate</span><span class="err">'</span> <span class="p">=&gt;</span> 
<span class="err">'</span><span class="n">Final</span> <span class="n">Exchange</span> <span class="n">Rate</span><span class="err">'</span> <span class="p">=&gt;</span> 
<span class="err">'</span><span class="n">Delivered</span> <span class="n">codes</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">''</span>
<span class="err">'</span><span class="n">Order</span> <span class="n">Confirmation</span> <span class="n">Date</span><span class="err">'</span> <span class="p">=&gt;</span> 
<span class="err">'</span><span class="n">PosCode</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">DEFAULT</span><span class="err">'</span>
<span class="err">'</span><span class="n">Issuer</span> <span class="n">Bank</span> <span class="n">Country</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">Turkey</span><span class="err">'</span>
<span class="err">'</span><span class="n">Issuer</span> <span class="n">Bank</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="n">AKBANK</span><span class="err">'</span>
<span class="err">'</span><span class="n">Customer</span> <span class="n">IP</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">127.0</span><span class="p">.</span><span class="m">0.1</span><span class="err">'</span>
<span class="err">'</span><span class="n">Credit</span> <span class="n">Card</span> <span class="n">Masked</span> <span class="n">Number</span><span class="err">'</span> <span class="p">=&gt;</span>  <span class="err">'</span><span class="m">4355</span><span class="p">-</span><span class="n">xxxx</span><span class="p">-</span><span class="n">xxxx</span><span class="p">-</span><span class="m">4358</span><span class="err">'</span>
<span class="p">}</span>
<span class="p">]}</span>
</code></pre><h2 id='rapor-servisi-hash-hesaplama'>Rapor Servisi Hash Hesaplama</h2>
<p><strong>Örnek Rapor Servisinde HASH hesaplama için kullanılacak değerler aşağıdaki gibidir.</strong></p>

<p><code>merchant = OPU_TEST</code> <br>
<code>startDate = 2017-09-20</code> <br>
<code>endDate = 2017-09-21</code> <br>
<code>timestamp = 1507388342</code> <br></p>

<aside class="notice">
 Rapor Servisinde hash hesaplaması yaparken, Key'e göre sıralamamalısınız, yukarıdaki örnek sıralama ile işleme almalısınız.
</aside>

<p><strong>Bu değerlerin uzunluğu alınarak, değerin başına eklendikten sonra yukarıdaki sıra ile sıralanmalıdır.</strong>
<code>8OPU_TEST102017-09-20102017-09-21101507388342</code></p>

<p><strong>Değerler üye işyeri kodlama anahtarınız kullanılarak HMAC_MD5 algoritması ile haslenmelidir.</strong></p>

<ul>
<li>Kullanılan Kodlama Anahtarı: SECRET_KEY</li>
</ul>

<p><strong>Elde edilen değer:</strong> <code>f00761bec025175d80294ad35eca1e46</code></p>
<h1 id='test-bilgileri'>Test Bilgileri</h1><h2 id='uye-isyeri-kontrol-paneli-giris-bilgileri'>Üye İşyeri Kontrol Paneli Giriş Bilgileri</h2>
<p>Üye İşyeri Kontrol Paneli’ne girişlerde IP kısıtı uygulanmaktadır. Test hesabının üye işyeri paneline giriş yapabilmek için IP adreslerinizi help@payu.com.tr adresimizden bize iletmeniz gerekmektedir.</p>

<ul>
<li>URL: https://secure.payu.com.tr/cpanel/ </li>
<li>Kullanıcı Adı: 1@payu.com.tr</li>
<li>Şifre: Test1234!</li>
<li>Kullanıcı Adı: 2@payu.com.tr </li>
<li>Şifre: Test1234!</li>
</ul>
<h2 id='api-kullanici-bilgileri'>API Kullanıcı Bilgileri</h2><h3 id='3d-olmayan-islemler-icin'>3D olmayan işlemler için;</h3>
<ul>
<li>Üye İşyeri Entegrasyon İsmi (MERCHANT): OPU_TEST </li>
<li>Kodlama Anahtarı (SECRET_KEY): SECRET_KEY</li>
</ul>
<h3 id='3d-islemler-icin'>3D işlemler için;</h3>
<ul>
<li>MERCHANT=PALJZXGV</li>
<li>SECRET_KEY= f*%J7z6_#|5]s7V4[g3] </li>
</ul>
<h2 id='test-kartlari'>Test Kartları</h2><h3 id='akbank-test-kredi-karti'>Akbank Test Kredi Kartı</h3>
<ul>
<li>Kart Numarası (Visa) : 4355084355084358<br></li>
<li>Kart Numarası (Master Card) : 5571135571135575<br></li>
<li>Son Kullanma Tarihi :12/18<br></li>
<li>Güvenlik Numarası : 000<br></li>
<li>Kart 3D Secure Şifresi : a<br></li>
</ul>
<h3 id='akbank-debit-kart'>Akbank Debit Kart</h3>
<ul>
<li>Kart Numarası (Visa) : 4748544748544745</li>
<li>Son Kullanma Tarihi :12/18</li>
<li>Güvenlik Numarası : 000</li>
<li>Kart 3D Secure Şifresi : a</li>
</ul>
<h3 id='yabanci-test-karti'>Yabancı Test Kartı</h3>
<ul>
<li>Kart Numarası (Visa) : 4111 1111 1111 1111</li>
<li>Son Kullanma Tarihi :12/18</li>
<li>Güvenlik Numarası : 000</li>
</ul>
<h1 id='islem-mesajlari'>İşlem Mesajları</h1>
<p>Aşağıdaki listeden entegrasyon sırasında ve işlem sırasında alınma ihtimali olan tüm hata kodları ve açıklamalarına ulaşılabilir. Karşılaşılan hata kodunu bulamıyor ya da başka bir konuda destek ihtiyacınız varsa, bizlere help@payu.com.tr adresinden e-posta ile ulaşabilirsiniz.</p>

<table><thead>
<tr>
<th>RETURN_CODE</th>
<th>RETURN_MESSAGE</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>AUTHORIZED</td>
<td>Authorized.</td>
<td>Önotorizasyon başarılı.</td>
</tr>
<tr>
<td>ALREADY_AUTHORIZED</td>
<td>ALREADY_AUTHORIZED</td>
<td>Bu işlemde otorizasyon yapılmış. Aynı ORDER_REF ve aynı Hash ile işlem gönderildi. Mükerrer işlem.</td>
</tr>
<tr>
<td>HASH_MISTMATCH</td>
<td>HASH_MISTMATCH</td>
<td>Hash uyuşmazlığı. Bu hata entegrasyonla ilgili ciddi bir hatadır. Yazılımcınızla görüşmeniz gerekmektedir.</td>
</tr>
<tr>
<td>INVALID SIGNATURE</td>
<td>Invalid Signature</td>
<td>Hatalı hash hesaplaması, işlem gönderdiğiniz yapının encoding ayarlarının UTF-8 without bom olarak ayarlı olduğundan ve hash değerlerini doğru hesapladığınızdan emin olunuz.</td>
</tr>
<tr>
<td>INVALID_ACCOUNT</td>
<td>INVALID_ACCOUNT</td>
<td>Merchant ID (İşyeri entegrasyon ismi) hatalı ya da eksik gönderilmektedir. Kontol ediniz.</td>
</tr>
<tr>
<td>INVALID_CC_TOKEN</td>
<td>INVALID_CC_TOKEN</td>
<td>Geçersiz token bilgisi. Token numarası doğru değil ya da bu token aktif değil.</td>
</tr>
<tr>
<td>INVALID_CURRENCY</td>
<td>INVALID_CURRENCY</td>
<td>Geçersiz para birimi ya da işlem yapmak istediğiniz para birimi hesabınız için aktif edilmemiş.</td>
</tr>
<tr>
<td>INVALID_CUSTOMER_INFO</td>
<td>Invalid field [PARAMETRE İSMİ]</td>
<td>RETURN_MESSAGE parametresi içerisinde detayı belirtilen zorunlu parametrenin hatalı gönderildiği veya gönderilmediği durumlarda alınmaktadır.</td>
</tr>
<tr>
<td>INVALID_PAYMENT_INFO</td>
<td>Invalid card number entered.([Yanlış değer])</td>
<td>Geçersiz kart bilgileri. Girmiş olduğunuz kart numarasını kontrol ediniz.</td>
</tr>
<tr>
<td>INVALID_PAYMENT_INFO</td>
<td>Invalid expiration date entered or the card has expired.([Yanlış değer])</td>
<td>Geçersiz son kullanma tarihi girilmiş. Girmiş olduğunuz kartın Son kullanma tarihi bilgilerini kontrol ediniz.</td>
</tr>
<tr>
<td>INVALID_PAYMENT_INFO</td>
<td>Invalid CVV2/CVC2 code.([Yanlış değer])</td>
<td>Geçersiz CVV girilmiş. Girilmiş olan kart CVV değerini kontrol ediniz.</td>
</tr>
<tr>
<td>INVALID_PAYMENT_METHOD_CODE</td>
<td>INVALID_PAYMENT_METHOD_CODE</td>
<td>Geçersiz ödeme metodu. &quot;PAYMETHOD&quot; parametresini kontrol ediniz.</td>
</tr>
<tr>
<td>ORDER_TIMEOUT</td>
<td>ORDER_TIMEOUT</td>
<td>Sipariş zaman aşımına uğradı. Tekrar deneyiniz.</td>
</tr>
<tr>
<td>REQUEST_EXPIRED</td>
<td>REQUEST_EXPIRED</td>
<td>REQUEST_EXPIRED 1) ORDER_DATE parametresinde belirtilen zaman ile ödeme zamanı arasında 10 dakika ve ya daha fazla zaman geçmesi durumunda alınan hatadır. 2) ORDER_DATE parametresinin yanlış kullanımı durumunda alınan hatadır. ORDER_DATE parametresi UTC/GMT formatı ile Türkiye saatine göre 3 saati geri olacak şekilde gönderilmelidir.</td>
</tr>
<tr>
<td>WRONG_VERSION</td>
<td>WRONG_VERSION</td>
<td>Geçersiz ALU versiyonuna işlem göndermektesiniz, işlem gönderdiğiniz Endpointini kontrol ediniz.</td>
</tr>
<tr>
<td>AUTHORIZED</td>
<td>Authorized.</td>
<td>Önotorizasyon başarılı.</td>
</tr>
<tr>
<td>-9999</td>
<td>Banned Operation</td>
<td>Göndermiş olduğunuz alanlardan biri ya da birkaçı PayU sistemlerinde yasaklanmıştır. help@payu.com.tr&#39;den bizimle iletişime geçerek detaylı bilgi alabilirsiniz.</td>
</tr>
<tr>
<td>INVALID_RESPONSE</td>
<td>Invalid response from gateway</td>
<td>Banka tarafında yaşanılan anlık sorun veya anlık yoğunluktan dolayı işlem hata almıştır, bir süre sonra tekrar deneyiniz, help@payu.com.tr&#39;den bizimle iletişime geçerek detaylı bilgi alabilirsiniz.</td>
</tr>
<tr>
<td>1</td>
<td>Call acquirer support call number</td>
<td>Kart hamili işlem detayları ile birlikte bankasıyla iletişime geçerek hata açıklaması ve çözüm talep etmelidir.</td>
</tr>
<tr>
<td>10101</td>
<td>NOT_CREDITCARD</td>
<td>Kredi kartı olmayan bir kart ile taksitli ödeme alınmaya çalışıldığı sırada alınan hatadır.</td>
</tr>
<tr>
<td>10102</td>
<td>UNSUPPORTED_LOYALTY_PROGRAM</td>
<td>Desteklenmeyen bir kart programı ile taksitli ödeme alınmaya çalışıldığı sırada alınan hatadır.</td>
</tr>
<tr>
<td>NEW_ERROR</td>
<td>Message flow error</td>
<td>Mesaj akış hatasını(message flow error) bir ödeme hatası değlidir, bu hata bankadan dönen hata kodu ile PayU sistemlerinde ki hata kodunun eşleşmemesi durumunda üretilen bir mesajdır. Örn: RED cevabı beklenirken REDD01 gibi bir cevap gelmesinden dolayı bu hata mesajıgetirmekte ve bu durumlarda işlemin aldığı asıl hata mesajı ve kodu <ProcReturnCode></ProcReturnCode> ve <ErrorMessage></ErrorMessage> parametrelerinde gönderilmektedir. Bu parametreler varsayılan olarak pasiftir, help@payu.com.tr üzerinden ekiplerimiz ile iletişime geçerek aktivasyonunu sağlayabilirsiniz.</td>
</tr>
<tr>
<td>GW_ERROR_GENERIC</td>
<td>No or Invalid response received</td>
<td>Banka tarafında yaşanılan anlık sorun veya anlık yoğunluktan dolayı işlem hata almıştır, bir süre sonra tekrar deneyiniz, help@payu.com.tr&#39;den bizimle iletişime geçerek detaylı bilgi alabilirsiniz.</td>
</tr>
<tr>
<td>GW_ERROR_GENERIC_3D</td>
<td>An error occurred during 3DS processing</td>
<td>3D doğrulaması yapılamadı, 3D şifresinin doğru girildiğinden, kartın 3D işlem yapma yetkisi olduğundan emin olunuz, kart hamili bankası ile iletişime geçerek detaylı bilgi alabilir ve çözüm sağlayabilir.</td>
</tr>
<tr>
<td>GWERROR_-2</td>
<td>An error occurred during processing. Please retry the operation</td>
<td>Banka tarafında yaşanılan anlık sorun veya anlık yoğunluktan dolayı işlem hata almıştır, bir süre sonra tekrar deneyiniz, help@payu.com.tr&#39;den bizimle iletişime geçerek detaylı bilgi alabilirsiniz.</td>
</tr>
<tr>
<td>GWERROR_-3</td>
<td>No or Invalid response received</td>
<td>Banka tarafında yaşanılan anlık sorun veya anlık yoğunluktan dolayı işlem hata almıştır, bir süre sonra tekrar deneyiniz, help@payu.com.tr&#39;den bizimle iletişime geçerek detaylı bilgi alabilirsiniz.</td>
</tr>
<tr>
<td>GWERROR_05</td>
<td>Authorization declined</td>
<td>Genel Red, kart hamili bankası ile iletişime geçerek red sebebini öğrenebilir ve çözüm sağlayabilir.</td>
</tr>
<tr>
<td>GWERROR_-8</td>
<td>Invalid card number</td>
<td>Kart numarası hatalı girilmiş veya geçersiz kart.</td>
</tr>
<tr>
<td>GWERROR_-9</td>
<td>Error in card expiration date field</td>
<td>Kartın son kullanma tarihi hatalı girilmiş.</td>
</tr>
<tr>
<td>GWERROR_13</td>
<td>Invalid amount</td>
<td>Bankanın işlem yapma hacminden yüksek işlem gönderimi veya geçersiz taksit tutarı gönderimi.</td>
</tr>
<tr>
<td>GWERROR_14</td>
<td>No such card</td>
<td>İşleme kapalı veya geçersiz kart.</td>
</tr>
<tr>
<td>GWERROR_15</td>
<td>No such card/issuer</td>
<td>İşleme kapalı veya geçersiz kart.</td>
</tr>
<tr>
<td>GWERROR_-18</td>
<td>Error in CVC2 or CVC2 Description fields</td>
<td>Hatalı CVV.</td>
</tr>
<tr>
<td>GWERROR_19</td>
<td>Re-enter transaction</td>
<td>Banka tarafında yaşanılan anlık sorun veya anlık yoğunluktan dolayı işlem hata almıştır, bir süre sonra tekrar deneyiniz, help@payu.com.tr&#39;den bizimle iletişime geçerek detaylı bilgi alabilirsiniz.</td>
</tr>
<tr>
<td>GWERROR_34</td>
<td>Credit card number failed the fraud</td>
<td>Fraud şüphesi , işlem kart bankası tarafından fraud olarak değerlendirilmiştir.Detaylı bilgi için kart hamili bankası ile iletişime geçmelidir.</td>
</tr>
<tr>
<td>GWERROR_41</td>
<td>Lost card</td>
<td>Kayıp kart, işlem kart bankası tarafından çalıntı olarak değerlendirilmiştir.Detaylı bilgi için kart hamili bankası ile iletişime geçmelidir.</td>
</tr>
<tr>
<td>GWERROR_43</td>
<td>Stolen card, pick up</td>
<td>Çalıntı kart, işlem kart bankası tarafından çalıntı olarak değerlendirilmiştir.Detaylı bilgi için kart hamili bankası ile iletişime geçmelidir.</td>
</tr>
<tr>
<td>GWERROR_51</td>
<td>Insufficient funds</td>
<td>Limit yetersiz.</td>
</tr>
<tr>
<td>GWERROR_54</td>
<td>Expired card</td>
<td>İşleme kapalı, geçersiz kart.</td>
</tr>
<tr>
<td>GWERROR_57</td>
<td>Transaction not permitted on card</td>
<td>Kart sahibine açık olmayan işlem, kart hamili bankası ile görüşerek kart yetkilerini kontrol ettirmelidir.</td>
</tr>
<tr>
<td>GWERROR_58</td>
<td>Not permitted to merchant</td>
<td>Üye işyerinin bu işlemi yapmaya yetkisi yok.</td>
</tr>
<tr>
<td>GWERROR_61</td>
<td>Exceeds amount limit</td>
<td>İşlem yapma limitini aşıyor.</td>
</tr>
<tr>
<td>GWERROR_62</td>
<td>Restricted card</td>
<td>Kart yetkileri bu işlemi yapmaya uygun değil, kart hamili bankası ile görüşerek kart yetkilerini kontrol ettirmelidir.</td>
</tr>
<tr>
<td>GWERROR_65</td>
<td>Exceeds frequency limit</td>
<td>Kartın günlük işlem limiti aşılmış.</td>
</tr>
<tr>
<td>GWERROR_75</td>
<td>PIN tries exceeded</td>
<td>Kartın günlük işlem limiti aşılmış veya kart bloke edilmiş.</td>
</tr>
<tr>
<td>GWERROR_82</td>
<td>Time-out at issuer</td>
<td>İşlem banka tarafında zaman aşımına uğramış, banka tarafında yoğunluk veya anlık teknik sorun yaşanıyor olabilir, bir süre sonra tekrar deneyiniz.</td>
</tr>
<tr>
<td>GWERROR_84</td>
<td>Invalid cvv</td>
<td>Hatalı CVV.</td>
</tr>
<tr>
<td>GWERROR_91</td>
<td>A technical problem occurred. Issuer cannot process</td>
<td>Banka tarafında yaşanılan anlık sorun veya anlık yoğunluktan dolayı işlem hata almıştır, bir süre sonra tekrar deneyiniz, help@payu.com.tr&#39;den bizimle iletişime geçerek detaylı bilgi alabilirsiniz.</td>
</tr>
<tr>
<td>GWERROR_93</td>
<td>Violation of Law</td>
<td>BDDK veya banka tarafınca yasal olarak işlem yapma yetkisi olmayan kartlarda alınan hatadır.Kart hamilleri bankaları ile görüşerek hata çözümü sağlayabilir.</td>
</tr>
<tr>
<td>GWERROR_96</td>
<td>System malfunction</td>
<td>Banka tarafında yaşanılan anlık sorun veya anlık yoğunluktan dolayı işlem hata almıştır, bir süre sonra tekrar deneyiniz, help@payu.com.tr&#39;den bizimle iletişime geçerek detaylı bilgi alabilirsiniz.</td>
</tr>
<tr>
<td>GWERROR_101</td>
<td>Invalid installments number</td>
<td>Sanal posun işlemde gönderilen taksit sayısını işlemek için yetkisi yok, pos bankanız ile iletişime geçerek taksit yetkilerinizi kontrol ediniz.</td>
</tr>
<tr>
<td>GWERROR_105</td>
<td>3DS authentication error</td>
<td>3D doğrulaması yapılamadı, 3D şifresinin doğru girildiğinden, kartın 3D işlem yapma yetkisi olduğundan emin olunuz, kart hamili bankası ile iletişime geçerek detaylı bilgi alabilir ve çözüm sağlayabilir.</td>
</tr>
<tr>
<td>GWERROR_0876</td>
<td>One of card no, expire date or CVC is wrong or credit card has exceeded daily limit of maximum e-commerce transactions.</td>
<td>Kart bilgileri hatalı tuşlanmış veya böyle bir kart yok veya kartın günlük işlem limiti dolmuş.</td>
</tr>
<tr>
<td>GWERROR_2204</td>
<td>No permission to process the card installment.</td>
<td>Kartın veya üye işyerinin taksitli işlem yapma yetkisi yok.</td>
</tr>
<tr>
<td>GWERROR_2304</td>
<td>There is an ongoing process your order.</td>
<td>Aynı hash veya sipariş numarası ile devam eden işlem var, mükerrer işlem.</td>
</tr>
</tbody></table>
<h2 id='md-status-kodlari-ve-aciklamalari'>MD Status Kodları ve Açıklamaları</h2>
<aside class="warning">
Eğer işlemler mdStatus = 2,3,4 değerleri ile tamamlandıysa, Half secure olarak tamamlanmıştır.
</aside>

<table><thead>
<tr>
<th>MDSTATUS</th>
<th>Açıklama</th>
</tr>
</thead><tbody>
<tr>
<td>MDSTATUS = 0</td>
<td>3-D Secure imzası geçersiz, onaylanmamış.</td>
</tr>
<tr>
<td>MDSTATUS = 1</td>
<td>3-D ile Onaylanmış.</td>
</tr>
<tr>
<td>MDSTATUS = 2</td>
<td>Kart sahibi veya bankası sisteme kayıtlı değil.</td>
</tr>
<tr>
<td>MDSTATUS = 3</td>
<td>Kartın bankası sisteme kayıtlı değil.</td>
</tr>
<tr>
<td>MDSTATUS = 4</td>
<td>Doğrulama denemesi, kart sahibi sisteme daha sonra kayıt olmayı seçmiş.</td>
</tr>
<tr>
<td>MDSTATUS = 5</td>
<td>Doğrulama yapılamıyor, sistem arızası.</td>
</tr>
<tr>
<td>MDSTATUS = 6</td>
<td>3-D Secure hatası.</td>
</tr>
<tr>
<td>MDSTATUS = 7</td>
<td>Sistem hatası.</td>
</tr>
<tr>
<td>MDSTATUS = 8</td>
<td>Kart geçersiz, bilinmeyen kart.</td>
</tr>
<tr>
<td>MDSTATUS = 9</td>
<td>Üye İşyeri/POS 3D-Secure sistemine kayıtlı değil</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="php">PHP</a>
                <a href="#" data-language-name="python">Python 3</a>
                <a href="#" data-language-name="javascript">Node JS</a>
                <a href="#" data-language-name="csharp">C Sharp</a>
          </div>
      </div>
    </div>
  </body>
</html>
